<!DOCTYPE html>

<html class="no-js" lang="zh-CN">

	<head>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" >

		<link rel="profile" href="https://gmpg.org/xfn/11">

		<title>linux &#8211; LuoJi.men</title>
<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//push.zhanzhang.baidu.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="LuoJi.men &raquo; Feed" href="https://luojimen.github.io/feed/" />
<link rel="alternate" type="application/rss+xml" title="LuoJi.men &raquo; 评论Feed" href="https://luojimen.github.io/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="LuoJi.men &raquo; linux标签Feed" href="https://luojimen.github.io/tag/linux/feed/" />
<link rel='stylesheet' id='urvanov_syntax_highlighter-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/css/min/urvanov_syntax_highlighter.min.css?ver=2.8.27' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/themes/classic/classic.css?ver=2.8.27' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/fonts/monaco.css?ver=2.8.27' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='https://luojimen.github.io/wp-includes/css/dist/block-library/style.min.css?ver=6.0.3' media='all' />
<style id='global-styles-inline-css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--accent: #cd2653;--wp--preset--color--primary: #000000;--wp--preset--color--secondary: #6d6d6d;--wp--preset--color--subtle-background: #dcd7ca;--wp--preset--color--background: #f5efe0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 18px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 26.25px;--wp--preset--font-size--x-large: 42px;--wp--preset--font-size--normal: 21px;--wp--preset--font-size--larger: 32px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel='stylesheet' id='twentytwenty-style-css'  href='https://luojimen.github.io/wp-content/themes/twentytwenty/style.css?ver=1.9' media='all' />
<style id='twentytwenty-style-inline-css'>
.color-accent,.color-accent-hover:hover,.color-accent-hover:focus,:root .has-accent-color,.has-drop-cap:not(:focus):first-letter,.wp-block-button.is-style-outline,a { color: #cd2653; }blockquote,.border-color-accent,.border-color-accent-hover:hover,.border-color-accent-hover:focus { border-color: #cd2653; }button,.button,.faux-button,.wp-block-button__link,.wp-block-file .wp-block-file__button,input[type="button"],input[type="reset"],input[type="submit"],.bg-accent,.bg-accent-hover:hover,.bg-accent-hover:focus,:root .has-accent-background-color,.comment-reply-link { background-color: #cd2653; }.fill-children-accent,.fill-children-accent * { fill: #cd2653; }body,.entry-title a,:root .has-primary-color { color: #000000; }:root .has-primary-background-color { background-color: #000000; }cite,figcaption,.wp-caption-text,.post-meta,.entry-content .wp-block-archives li,.entry-content .wp-block-categories li,.entry-content .wp-block-latest-posts li,.wp-block-latest-comments__comment-date,.wp-block-latest-posts__post-date,.wp-block-embed figcaption,.wp-block-image figcaption,.wp-block-pullquote cite,.comment-metadata,.comment-respond .comment-notes,.comment-respond .logged-in-as,.pagination .dots,.entry-content hr:not(.has-background),hr.styled-separator,:root .has-secondary-color { color: #6d6d6d; }:root .has-secondary-background-color { background-color: #6d6d6d; }pre,fieldset,input,textarea,table,table *,hr { border-color: #dcd7ca; }caption,code,code,kbd,samp,.wp-block-table.is-style-stripes tbody tr:nth-child(odd),:root .has-subtle-background-background-color { background-color: #dcd7ca; }.wp-block-table.is-style-stripes { border-bottom-color: #dcd7ca; }.wp-block-latest-posts.is-grid li { border-top-color: #dcd7ca; }:root .has-subtle-background-color { color: #dcd7ca; }body:not(.overlay-header) .primary-menu > li > a,body:not(.overlay-header) .primary-menu > li > .icon,.modal-menu a,.footer-menu a, .footer-widgets a,#site-footer .wp-block-button.is-style-outline,.wp-block-pullquote:before,.singular:not(.overlay-header) .entry-header a,.archive-header a,.header-footer-group .color-accent,.header-footer-group .color-accent-hover:hover { color: #cd2653; }.social-icons a,#site-footer button:not(.toggle),#site-footer .button,#site-footer .faux-button,#site-footer .wp-block-button__link,#site-footer .wp-block-file__button,#site-footer input[type="button"],#site-footer input[type="reset"],#site-footer input[type="submit"] { background-color: #cd2653; }.header-footer-group,body:not(.overlay-header) #site-header .toggle,.menu-modal .toggle { color: #000000; }body:not(.overlay-header) .primary-menu ul { background-color: #000000; }body:not(.overlay-header) .primary-menu > li > ul:after { border-bottom-color: #000000; }body:not(.overlay-header) .primary-menu ul ul:after { border-left-color: #000000; }.site-description,body:not(.overlay-header) .toggle-inner .toggle-text,.widget .post-date,.widget .rss-date,.widget_archive li,.widget_categories li,.widget cite,.widget_pages li,.widget_meta li,.widget_nav_menu li,.powered-by-wordpress,.to-the-top,.singular .entry-header .post-meta,.singular:not(.overlay-header) .entry-header .post-meta a { color: #6d6d6d; }.header-footer-group pre,.header-footer-group fieldset,.header-footer-group input,.header-footer-group textarea,.header-footer-group table,.header-footer-group table *,.footer-nav-widgets-wrapper,#site-footer,.menu-modal nav *,.footer-widgets-outer-wrapper,.footer-top { border-color: #dcd7ca; }.header-footer-group table caption,body:not(.overlay-header) .header-inner .toggle-wrapper::before { background-color: #dcd7ca; }
body,input,textarea,button,.button,.faux-button,.wp-block-button__link,.wp-block-file__button,.has-drop-cap:not(:focus)::first-letter,.entry-content .wp-block-archives,.entry-content .wp-block-categories,.entry-content .wp-block-cover-image,.entry-content .wp-block-latest-comments,.entry-content .wp-block-latest-posts,.entry-content .wp-block-pullquote,.entry-content .wp-block-quote.is-large,.entry-content .wp-block-quote.is-style-large,.entry-content .wp-block-archives *,.entry-content .wp-block-categories *,.entry-content .wp-block-latest-posts *,.entry-content .wp-block-latest-comments *,.entry-content p,.entry-content ol,.entry-content ul,.entry-content dl,.entry-content dt,.entry-content cite,.entry-content figcaption,.entry-content .wp-caption-text,.comment-content p,.comment-content ol,.comment-content ul,.comment-content dl,.comment-content dt,.comment-content cite,.comment-content figcaption,.comment-content .wp-caption-text,.widget_text p,.widget_text ol,.widget_text ul,.widget_text dl,.widget_text dt,.widget-content .rssSummary,.widget-content cite,.widget-content figcaption,.widget-content .wp-caption-text { font-family: 'PingFang SC','Helvetica Neue','Microsoft YaHei New','STHeiti Light',sans-serif; }
</style>
<link rel='stylesheet' id='twentytwenty-print-style-css'  href='https://luojimen.github.io/wp-content/themes/twentytwenty/print.css?ver=1.9' media='print' />
<script src='https://luojimen.github.io/wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script src='https://luojimen.github.io/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script id='urvanov_syntax_highlighter_js-js-extra'>
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.27","is_admin":"0","ajaxurl":"http:\/\/luojimen.github.io\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"Copied to the clipboard","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
</script>
<script src='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/js/min/urvanov_syntax_highlighter.min.js?ver=2.8.27' id='urvanov_syntax_highlighter_js-js'></script>
<script src='https://luojimen.github.io/wp-content/themes/twentytwenty/assets/js/index.js?ver=1.9' id='twentytwenty-js-js' async></script>
<link rel="https://api.w.org/" href="https://luojimen.github.io/wp-json/" /><link rel="alternate" type="application/json" href="https://luojimen.github.io/wp-json/wp/v2/tags/14" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://luojimen.github.io/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 6.0.3" />
	<script>document.documentElement.className = document.documentElement.className.replace( 'no-js', 'js' );</script>
	<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YQCVEPVH0S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YQCVEPVH0S');
</script>


<!-- 谷歌收录的验证方式 -->
<meta name="google-site-verification" content="XxPfUFFG0MmfvRUNs2AFXHfRXRx_xVLXdD_6Si95rJ0" />
<!-- bing收录验证luojimen.github.io -->
<meta name="msvalidate.01" content="508C6C00EA05098C32CD4DB253B3CB66" />
<!-- baidu收录验证luojimen.github.io -->
<meta name="baidu-site-verification" content="code-DlUhxrKYUP" />		
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-YQCVEPVH0S"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'G-YQCVEPVH0S');
		</script>

				<script type="text/javascript">
		var _hmt = _hmt || [];
				_hmt.push(['_trackPageview']);
						(function() {
		var hm = document.createElement("script");
		hm.src = "//hm.baidu.com/hm.js?cff4b8fde8a7abf46d402c4fd284f0cc";
		hm.setAttribute('async', 'true');
		document.getElementsByTagName('head')[0].appendChild(hm);
		})();
		</script>
		
	</head>

	<body class="archive tag tag-linux tag-14 wp-embed-responsive enable-search-modal has-no-pagination showing-comments show-avatars footer-top-visible">
    <script type="text/javascript">  
    $(function() {  
    $('.content img').each(function(i){  
        if (! this.parentNode.href) {  
            $(this).wrap("<a href='"+this.src+"' class='highslide-image' onclick='return hs.expand(this);'></a>");  
                                    }  
                                            });  
                });  
    </script> 

		<a class="skip-link screen-reader-text" href="#site-content">跳至内容</a><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-dark-grayscale"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 0.49803921568627" /><feFuncG type="table" tableValues="0 0.49803921568627" /><feFuncB type="table" tableValues="0 0.49803921568627" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-grayscale"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 1" /><feFuncG type="table" tableValues="0 1" /><feFuncB type="table" tableValues="0 1" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-purple-yellow"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.54901960784314 0.98823529411765" /><feFuncG type="table" tableValues="0 1" /><feFuncB type="table" tableValues="0.71764705882353 0.25490196078431" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-blue-red"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 1" /><feFuncG type="table" tableValues="0 0.27843137254902" /><feFuncB type="table" tableValues="0.5921568627451 0.27843137254902" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-midnight"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 0" /><feFuncG type="table" tableValues="0 0.64705882352941" /><feFuncB type="table" tableValues="0 1" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-magenta-yellow"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.78039215686275 1" /><feFuncG type="table" tableValues="0 0.94901960784314" /><feFuncB type="table" tableValues="0.35294117647059 0.47058823529412" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-purple-green"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.65098039215686 0.40392156862745" /><feFuncG type="table" tableValues="0 1" /><feFuncB type="table" tableValues="0.44705882352941 0.4" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-blue-orange"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.098039215686275 1" /><feFuncG type="table" tableValues="0 0.66274509803922" /><feFuncB type="table" tableValues="0.84705882352941 0.41960784313725" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg>
		<header id="site-header" class="header-footer-group">

			<div class="header-inner section-inner">

				<div class="header-titles-wrapper">

					
						<button class="toggle search-toggle mobile-search-toggle" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field" aria-expanded="false">
							<span class="toggle-inner">
								<span class="toggle-icon">
									<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23"><path d="M38.710696,48.0601792 L43,52.3494831 L41.3494831,54 L37.0601792,49.710696 C35.2632422,51.1481185 32.9839107,52.0076499 30.5038249,52.0076499 C24.7027226,52.0076499 20,47.3049272 20,41.5038249 C20,35.7027226 24.7027226,31 30.5038249,31 C36.3049272,31 41.0076499,35.7027226 41.0076499,41.5038249 C41.0076499,43.9839107 40.1481185,46.2632422 38.710696,48.0601792 Z M36.3875844,47.1716785 C37.8030221,45.7026647 38.6734666,43.7048964 38.6734666,41.5038249 C38.6734666,36.9918565 35.0157934,33.3341833 30.5038249,33.3341833 C25.9918565,33.3341833 22.3341833,36.9918565 22.3341833,41.5038249 C22.3341833,46.0157934 25.9918565,49.6734666 30.5038249,49.6734666 C32.7048964,49.6734666 34.7026647,48.8030221 36.1716785,47.3875844 C36.2023931,47.347638 36.2360451,47.3092237 36.2726343,47.2726343 C36.3092237,47.2360451 36.347638,47.2023931 36.3875844,47.1716785 Z" transform="translate(-20 -31)" /></svg>								</span>
								<span class="toggle-text">搜索</span>
							</span>
						</button><!-- .search-toggle -->

					
					<div class="header-titles">

						<div class="site-title faux-heading"><a href="https://luojimen.github.io/">LuoJi.men</a></div><div class="site-description">逻辑门</div><!-- .site-description -->
					</div><!-- .header-titles -->

					<button class="toggle nav-toggle mobile-nav-toggle" data-toggle-target=".menu-modal"  data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".close-nav-toggle">
						<span class="toggle-inner">
							<span class="toggle-icon">
								<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="26" height="7" viewBox="0 0 26 7"><path fill-rule="evenodd" d="M332.5,45 C330.567003,45 329,43.4329966 329,41.5 C329,39.5670034 330.567003,38 332.5,38 C334.432997,38 336,39.5670034 336,41.5 C336,43.4329966 334.432997,45 332.5,45 Z M342,45 C340.067003,45 338.5,43.4329966 338.5,41.5 C338.5,39.5670034 340.067003,38 342,38 C343.932997,38 345.5,39.5670034 345.5,41.5 C345.5,43.4329966 343.932997,45 342,45 Z M351.5,45 C349.567003,45 348,43.4329966 348,41.5 C348,39.5670034 349.567003,38 351.5,38 C353.432997,38 355,39.5670034 355,41.5 C355,43.4329966 353.432997,45 351.5,45 Z" transform="translate(-329 -38)" /></svg>							</span>
							<span class="toggle-text">菜单</span>
						</span>
					</button><!-- .nav-toggle -->

				</div><!-- .header-titles-wrapper -->

				<div class="header-navigation-wrapper">

					
							<nav class="primary-menu-wrapper" aria-label="水平">

								<ul class="primary-menu reset-list-style">

								<li id="menu-item-2784" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2784"><a href="https://luojimen.github.io/my/">我的</a></li>
<li id="menu-item-2391" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2391"><a href="https://luojimen.github.io/">主站</a></li>
<li id="menu-item-2392" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2392"><a href="https://luojimen.github.io/online-tool-station/">在线工具站</a></li>
<li id="menu-item-2393" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2393"><a href="https://luojimen.github.io/operation-and-maintenance/">运维</a></li>
<li id="menu-item-2787" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2787"><a href="https://luojimen.github.io/catalogue/">目录</a></li>

								</ul>

							</nav><!-- .primary-menu-wrapper -->

						
						<div class="header-toggles hide-no-js">

						
							<div class="toggle-wrapper search-toggle-wrapper">

								<button class="toggle search-toggle desktop-search-toggle" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field" aria-expanded="false">
									<span class="toggle-inner">
										<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23"><path d="M38.710696,48.0601792 L43,52.3494831 L41.3494831,54 L37.0601792,49.710696 C35.2632422,51.1481185 32.9839107,52.0076499 30.5038249,52.0076499 C24.7027226,52.0076499 20,47.3049272 20,41.5038249 C20,35.7027226 24.7027226,31 30.5038249,31 C36.3049272,31 41.0076499,35.7027226 41.0076499,41.5038249 C41.0076499,43.9839107 40.1481185,46.2632422 38.710696,48.0601792 Z M36.3875844,47.1716785 C37.8030221,45.7026647 38.6734666,43.7048964 38.6734666,41.5038249 C38.6734666,36.9918565 35.0157934,33.3341833 30.5038249,33.3341833 C25.9918565,33.3341833 22.3341833,36.9918565 22.3341833,41.5038249 C22.3341833,46.0157934 25.9918565,49.6734666 30.5038249,49.6734666 C32.7048964,49.6734666 34.7026647,48.8030221 36.1716785,47.3875844 C36.2023931,47.347638 36.2360451,47.3092237 36.2726343,47.2726343 C36.3092237,47.2360451 36.347638,47.2023931 36.3875844,47.1716785 Z" transform="translate(-20 -31)" /></svg>										<span class="toggle-text">搜索</span>
									</span>
								</button><!-- .search-toggle -->

							</div>

							
						</div><!-- .header-toggles -->
						
				</div><!-- .header-navigation-wrapper -->

			</div><!-- .header-inner -->

			<div class="search-modal cover-modal header-footer-group" data-modal-target-string=".search-modal">

	<div class="search-modal-inner modal-inner">

		<div class="section-inner">

			<form role="search" aria-label="搜索：" method="get" class="search-form" action="https://luojimen.github.io/">
	<label for="search-form-1">
		<span class="screen-reader-text">搜索：</span>
		<input type="search" id="search-form-1" class="search-field" placeholder="搜索&hellip;" value="" name="s" />
	</label>
	<input type="submit" class="search-submit" value="搜索" />
</form>

			<button class="toggle search-untoggle close-search-toggle fill-children-current-color" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field">
				<span class="screen-reader-text">关闭搜索</span>
				<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102" /></svg>			</button><!-- .search-toggle -->

		</div><!-- .section-inner -->

	</div><!-- .search-modal-inner -->

</div><!-- .menu-modal -->

		</header><!-- #site-header -->

		
<div class="menu-modal cover-modal header-footer-group" data-modal-target-string=".menu-modal">

	<div class="menu-modal-inner modal-inner">

		<div class="menu-wrapper section-inner">

			<div class="menu-top">

				<button class="toggle close-nav-toggle fill-children-current-color" data-toggle-target=".menu-modal" data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".menu-modal">
					<span class="toggle-text">关闭菜单</span>
					<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102" /></svg>				</button><!-- .nav-toggle -->

				
					<nav class="mobile-menu" aria-label="移动设备">

						<ul class="modal-menu reset-list-style">

						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2784"><div class="ancestor-wrapper"><a href="https://luojimen.github.io/my/">我的</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2391"><div class="ancestor-wrapper"><a href="https://luojimen.github.io/">主站</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2392"><div class="ancestor-wrapper"><a href="https://luojimen.github.io/online-tool-station/">在线工具站</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2393"><div class="ancestor-wrapper"><a href="https://luojimen.github.io/operation-and-maintenance/">运维</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2787"><div class="ancestor-wrapper"><a href="https://luojimen.github.io/catalogue/">目录</a></div><!-- .ancestor-wrapper --></li>

						</ul>

					</nav>

					
			</div><!-- .menu-top -->

			<div class="menu-bottom">

				
			</div><!-- .menu-bottom -->

		</div><!-- .menu-wrapper -->

	</div><!-- .menu-modal-inner -->

</div><!-- .menu-modal -->

<main id="site-content">

	
		<header class="archive-header has-text-align-center header-footer-group">

			<div class="archive-header-inner section-inner medium">

									<h1 class="archive-title">标签： <span>linux</span></h1>
				
				
			</div><!-- .archive-header-inner -->

		</header><!-- .archive-header -->

		
<article class="post-1914 post type-post status-publish format-standard hentry category-linux tag-amp tag-linux tag-pt tag-webdav tag-40 tag-63" id="post-1914">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2020/03/tmux%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8ccaddy-webdav/">tmux后台执行caddy-webdav</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2020/03/tmux%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8ccaddy-webdav/">2020年3月2日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<div id="MathJax_Message" style="display: none;"></div>
<h1>目的</h1>
<ul>
<li>让webdav服务在后台执行,并且可窗口观测命令反馈信息来判断程序是否运行,方便排错.</li>
</ul>
<h1>准备</h1>
<ul>
<li>先手工测试代码可正确执行</li>
</ul>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dee02012099121" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
/media/TF4G/shusanjing/caddy/caddy_webdav -conf /media/TF4G/shusanjing/caddy/caddyfile.ini</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee02012099121-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee02012099121-1"><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-v">TF4G</span><span class="crayon-o">/</span><span class="crayon-v">shusanjing</span><span class="crayon-o">/</span><span class="crayon-v">caddy</span><span class="crayon-o">/</span><span class="crayon-v">caddy_webdav</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">conf</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-v">TF4G</span><span class="crayon-o">/</span><span class="crayon-v">shusanjing</span><span class="crayon-o">/</span><span class="crayon-v">caddy</span><span class="crayon-o">/</span><span class="crayon-v">caddyfile</span><span class="crayon-sy">.</span><span class="crayon-v">ini</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->

</div>
<ul>
<li>授予caddy文件777权限:<br />
<code>chmod 777 /media/TF4G/shusanjing/caddy/caddy_webdav</code></li>
</ul>
<h1>Tmux-终端复用器方式</h1>
<p>类Screen风格使用,但更为方便操作.</p>
<ul>
<li>新建tmux_webdav.sh脚本并授予777权限:<br />
vi /media/TF4G/shusanjing/caddy/tmux_webdav.sh.</li>
</ul>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dee09560953437" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/bin/bash
#tmux-session-name
session="webdav"
#new session
tmux new-session -s $session -d
#command
tmux send-keys -t $session '/media/TF4G/shusanjing/caddy/caddy_webdav -conf /media/TF4G/shusanjing/caddy/caddyfile.ini' C-m
echo "-------------------------------------"
endDate=`date +"%Y-%m-%d %H:%M:%S"`
echo "[$endDate] Successful"
echo "-------------------------------------"</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee09560953437-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dee09560953437-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee09560953437-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dee09560953437-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee09560953437-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dee09560953437-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee09560953437-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dee09560953437-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee09560953437-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dee09560953437-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee09560953437-11">11</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee09560953437-1"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dee09560953437-2"><span class="crayon-p">#tmux-session-name</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee09560953437-3"><span class="crayon-v">session</span><span class="crayon-o">=</span><span class="crayon-s">"webdav"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dee09560953437-4"><span class="crayon-p">#new session</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee09560953437-5"><span class="crayon-e">tmux </span><span class="crayon-r">new</span><span class="crayon-o">-</span><span class="crayon-v">session</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">session</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dee09560953437-6"><span class="crayon-p">#command</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee09560953437-7"><span class="crayon-e">tmux </span><span class="crayon-v">send</span><span class="crayon-o">-</span><span class="crayon-v">keys</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">session</span><span class="crayon-h"> </span><span class="crayon-s">'/media/TF4G/shusanjing/caddy/caddy_webdav -conf /media/TF4G/shusanjing/caddy/caddyfile.ini'</span><span class="crayon-h"> </span><span class="crayon-v">C</span><span class="crayon-o">-</span><span class="crayon-i">m</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dee09560953437-8"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"-------------------------------------"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee09560953437-9"><span class="crayon-v">endDate</span><span class="crayon-o">=</span><span class="crayon-sy">`</span><span class="crayon-v">date</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-s">"%Y-%m-%d %H:%M:%S"</span><span class="crayon-sy">`</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dee09560953437-10"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"[$endDate] Successful"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee09560953437-11"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"-------------------------------------"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->

</div>
<ul>
<li>给tmux_webdav.sh.权限<br />
<code></code><code> chmod 777 /media/TF4G/shusanjing/caddy/tmux_webdav.sh </code><code></code><code></code></li>
<li>路由器启动时自动执行脚本,<br />
以下命令添加到路由器自定义脚本尾部:</li>
</ul>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dee0c800480027" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
## tmux执行webdav
sleep 60
/media/TF4G/shusanjing/caddy/tmux_webdav.sh</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee0c800480027-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dee0c800480027-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee0c800480027-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee0c800480027-1"><span class="crayon-p">## tmux执行webdav</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dee0c800480027-2"><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">60</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee0c800480027-3"><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-v">TF4G</span><span class="crayon-o">/</span><span class="crayon-v">shusanjing</span><span class="crayon-o">/</span><span class="crayon-v">caddy</span><span class="crayon-o">/</span><span class="crayon-v">tmux_webdav</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->

</div>
<ul>
<li>完</li>
</ul>
<h1>screen-终端复用器方式</h1>
<h2 id="screen-基础命令">screen-基础命令</h2>
<p>在当前窗口创建webdav的窗口 &gt; screen -S webdav<br />
在后台创建webdav的窗口 &gt; screen -dmS webdav<br />
查询已经存在的窗口 &gt; screen -ls</p>
<h2 id="以bash.sh脚本方式调用screen">以bash.sh脚本方式调用screen</h2>
<ul>
<li>screen脚本的缺点是可以创建相同名字的窗口,这样会让窗口管理混乱.tmxu则具有窗口名称唯一的优点,因此优先选择tmux.</li>
<li>如果我们直接在脚本里写 screen -S my_screen, 会导致脚本无法继续执行。为了使脚本执行下去，<br />
创建screen-webdav.sh</li>
</ul>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dee0d641934597" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
screen_name=$"webdav"
screen -dmS $screen_name

cmd=$"/media/TF4G/shusanjing/caddy/caddy_webdav -conf /media/TF4G/shusanjing/caddy/caddyfile.ini'";
screen -x -S $screen_name -p 0 -X stuff "$cmd"
screen -x -S $screen_name -p 0 -X stuff $'\n'</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee0d641934597-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dee0d641934597-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee0d641934597-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dee0d641934597-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee0d641934597-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dee0d641934597-6">6</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee0d641934597-1"><span class="crayon-v">screen_name</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-s">"webdav"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dee0d641934597-2"><span class="crayon-v">screen</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">dmS</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">screen_name</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee0d641934597-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dee0d641934597-4"><span class="crayon-v">cmd</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-s">"/media/TF4G/shusanjing/caddy/caddy_webdav -conf /media/TF4G/shusanjing/caddy/caddyfile.ini'"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee0d641934597-5"><span class="crayon-v">screen</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">S</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">screen_name</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">X</span><span class="crayon-h"> </span><span class="crayon-i">stuff</span><span class="crayon-h"> </span><span class="crayon-s">"$cmd"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dee0d641934597-6"><span class="crayon-v">screen</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">S</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">screen_name</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">X</span><span class="crayon-h"> </span><span class="crayon-i">stuff</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-s">'\n'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->

</div>
<h2 id="screen快捷键操作">screen 快捷键操作</h2>
<ul>
<li>ctrl a + d，detach挂起窗口</li>
<li>ctrl a + k，杀死当前窗口</li>
<li>ctrl a + [，进入复制模式，这个用来翻屏</li>
<li>ctrl a + A，修改当前窗口的名称</li>
</ul>
<p>注意<br />
这种方式发送的命令不能太长，否则会导致脚本卡住。<br />
如果需要发送一条很长的命令，或者连续发送许多条命令，最好单独写一个脚本，发送一个脚本命令给screen，让screen执行新的脚本。</p>
<h1>nohup-后台无窗口模式</h1>
<ul>
<li>特点:可后台执行,但没有查看状态窗口.</li>
</ul>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dee10646015614" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
用途：不挂断地运行命令。
语法：nohup Command [ Arg … ] [　&amp; ]
nohup /mnt/sda1/opt/app/webdav/caddy_webdav -conf /mnt/sda1/opt/app/webdav/caddyfile.ini &amp;</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee10646015614-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dee10646015614-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dee10646015614-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee10646015614-1">用途：不挂断地运行命令。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dee10646015614-2">语法：<span class="crayon-e">nohup </span><span class="crayon-i">Command</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-i">Arg</span><span class="crayon-h"> </span>…<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">[</span>　<span class="crayon-o">&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">]</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dee10646015614-3"><span class="crayon-v">nohup</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">mnt</span><span class="crayon-o">/</span><span class="crayon-v">sda1</span><span class="crayon-o">/</span><span class="crayon-v">opt</span><span class="crayon-o">/</span><span class="crayon-v">app</span><span class="crayon-o">/</span><span class="crayon-v">webdav</span><span class="crayon-o">/</span><span class="crayon-v">caddy_webdav</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">conf</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">mnt</span><span class="crayon-o">/</span><span class="crayon-v">sda1</span><span class="crayon-o">/</span><span class="crayon-v">opt</span><span class="crayon-o">/</span><span class="crayon-v">app</span><span class="crayon-o">/</span><span class="crayon-v">webdav</span><span class="crayon-o">/</span><span class="crayon-v">caddyfile</span><span class="crayon-sy">.</span><span class="crayon-v">ini</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->

</div>
<p>&nbsp;</p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p>&nbsp;</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/amp/" rel="tag">amp</a>, <a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a>, <a href="https://luojimen.github.io/tag/pt/" rel="tag">pt</a>, <a href="https://luojimen.github.io/tag/webdav/" rel="tag">webdav</a>, <a href="https://luojimen.github.io/tag/%e8%84%9a%e6%9c%ac/" rel="tag">脚本</a>, <a href="https://luojimen.github.io/tag/%e8%b7%af%e7%94%b1%e5%99%a8/" rel="tag">路由器</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1875 post type-post status-publish format-standard hentry category-linux tag-linux tag-nas tag-webdav tag-10 tag-63" id="post-1875">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2019/12/caddy-webdav-intranet-private-ssl-certificate/">caddy-webdav内网私有ssl证书</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2019/12/caddy-webdav-intranet-private-ssl-certificate/">2019年12月27日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<p>[前言]<br />
路由器上部署了caddy-webdav,和frp,现在要让webdav支持https加密连接.以保证暴露在公网上的安全性.<br />
[目录]<br />
1, mkcert生成证书.<br />
2, 启动caddy.<br />
[正文]<br />
1.1 下载mkcert:<a href="https://github.com/FiloSottile/mkcert/releases">https://github.com/FiloSottile/mkcert/releases</a><br />
1.2 命令生成证书</p>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df2dc619632443" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
mkcert -key-file multi.key -cert-file multi.crt *.domain 127.0.0.1 192.168.1.1</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df2dc619632443-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df2dc619632443-1"><span class="crayon-v">mkcert</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">key</span><span class="crayon-o">-</span><span class="crayon-e">file </span><span class="crayon-v">multi</span><span class="crayon-sy">.</span><span class="crayon-v">key</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">cert</span><span class="crayon-o">-</span><span class="crayon-e">file </span><span class="crayon-v">multi</span><span class="crayon-sy">.</span><span class="crayon-e ">crt *</span><span class="crayon-sy">.</span><span class="crayon-i">domain</span><span class="crayon-h"> </span><span class="crayon-cn">127.0.0.1</span><span class="crayon-h"> </span><span class="crayon-cn">192.168.1.1</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

</div>
<p>2.1 编辑caddy-webdav配置</p>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df2e0256622405" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
:8765 {
  timeouts none
 tls /media/ext4/ext4/app/caddy/multi.crt /media/ext4/ext4/app/caddy/multi.key
  gzip
  basicauth / user passwords
webdav / {
  scope /
  allow /
}
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df2e0256622405-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df2e0256622405-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df2e0256622405-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df2e0256622405-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df2e0256622405-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df2e0256622405-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df2e0256622405-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df2e0256622405-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df2e0256622405-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df2e0256622405-10">10</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df2e0256622405-1"><span class="crayon-o">:</span><span class="crayon-cn">8765</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df2e0256622405-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">timeouts </span><span class="crayon-e">none</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df2e0256622405-3"><span class="crayon-e"> </span><span class="crayon-v">tls</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-v">ext4</span><span class="crayon-o">/</span><span class="crayon-v">ext4</span><span class="crayon-o">/</span><span class="crayon-v">app</span><span class="crayon-o">/</span><span class="crayon-v">caddy</span><span class="crayon-o">/</span><span class="crayon-v">multi</span><span class="crayon-sy">.</span><span class="crayon-v">crt</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-v">ext4</span><span class="crayon-o">/</span><span class="crayon-v">ext4</span><span class="crayon-o">/</span><span class="crayon-v">app</span><span class="crayon-o">/</span><span class="crayon-v">caddy</span><span class="crayon-o">/</span><span class="crayon-v">multi</span><span class="crayon-sy">.</span><span class="crayon-e">key</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df2e0256622405-4"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-e">gzip</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df2e0256622405-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">basicauth</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-e">user</span><span class="crayon-h"> </span><span class="crayon-e">passwords</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df2e0256622405-6"><span class="crayon-e">webdav</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df2e0256622405-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">scope</span><span class="crayon-h"> </span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df2e0256622405-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">allow</span><span class="crayon-h"> </span><span class="crayon-o">/</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df2e0256622405-9"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df2e0256622405-10"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->

</div>
<p>2.2 完成ssl-caddy-webdav部署,启动即可.</p>
<p>[tips]</p>
<blockquote><p>使用限制:访问的域名必须是在证书中存在的,否则无法连接.<br />
私有证书,没有经过权威机构认证,在goodsync中需要勾销&#8221;不要检查服务器的SSL证书&#8221;.<br />
frp穿透后,不在证书中的域名会被拒绝连接,但可以通过域名解析的IP来连接ssl:</p></blockquote>
<p>&nbsp;</p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p>&nbsp;</p>
<p><script src="chrome-extension://nhiheekdcnmfbapkmpbhmplfddenhjic/js/code.js"></script></p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a>, <a href="https://luojimen.github.io/tag/nas/" rel="tag">nas</a>, <a href="https://luojimen.github.io/tag/webdav/" rel="tag">webdav</a>, <a href="https://luojimen.github.io/tag/%e7%bd%91%e7%ab%99/" rel="tag">网站</a>, <a href="https://luojimen.github.io/tag/%e8%b7%af%e7%94%b1%e5%99%a8/" rel="tag">路由器</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1780 post type-post status-publish format-standard hentry category-linux tag-hostloc tag-linux tag-40" id="post-1780">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2019/05/hostloc-one-click-shell-script-for-getting-points/">hostloc一键获取积分shell脚本</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2019/05/hostloc-one-click-shell-script-for-getting-points/">2019年5月8日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<div id="MathJax_Message" style="display: none;"></div>
<p>来源： <br />
https://github.com/mixool/script/blob/debian-9/hostloc.sh <br />
<a href="https://www.hostloc.com/forum.php?mod=viewthread&amp;tid=545329&amp;highlight=%E7%A7%AF%E5%88%86">https://www.hostloc.com/forum.php?mod=viewthread&amp;tid=545329&amp;highlight=%E7%A7%AF%E5%88%86</a></p>
<p>运行结果展示：</p>
<div data-mode="shell"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df505717094568" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
bash /var/www/html/www/tools/hostloc.sh hostloc用户名 hostloc密码

Tue May 7 15:52:47 CST 2019 登陆...www.hostloc.com
Tue May 7 15:52:48 CST 2019 成功
Tue May 7 15:52:50 CST 2019 目前积分为：4642

Tue May 7 15:52:50 CST 2019 访问空间..............
.....Tue May 7 15:55:54 CST 2019 完成
Tue May 7 15:55:55 CST 2019 目前积分为：4662

Tue May 7 15:55:55 CST 2019 huzongsi Accomplished. Thanks!</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df505717094568-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df505717094568-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df505717094568-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df505717094568-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df505717094568-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df505717094568-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df505717094568-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df505717094568-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df505717094568-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df505717094568-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df505717094568-11">11</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df505717094568-1"><span class="crayon-v">bash</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">tools</span><span class="crayon-o">/</span><span class="crayon-v">hostloc</span><span class="crayon-sy">.</span><span class="crayon-e">sh </span><span class="crayon-i">hostloc</span>用户名<span class="crayon-h"> </span><span class="crayon-i">hostloc</span>密码</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df505717094568-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df505717094568-3"><span class="crayon-e">Tue </span><span class="crayon-i">May</span><span class="crayon-h"> </span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">52</span><span class="crayon-o">:</span><span class="crayon-cn">47</span><span class="crayon-h"> </span><span class="crayon-i">CST</span><span class="crayon-h"> </span><span class="crayon-cn">2019</span><span class="crayon-h"> </span>登陆<span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-v">www</span><span class="crayon-sy">.</span><span class="crayon-v">hostloc</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df505717094568-4"><span class="crayon-e">Tue </span><span class="crayon-i">May</span><span class="crayon-h"> </span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">52</span><span class="crayon-o">:</span><span class="crayon-cn">48</span><span class="crayon-h"> </span><span class="crayon-i">CST</span><span class="crayon-h"> </span><span class="crayon-cn">2019</span><span class="crayon-h"> </span>成功</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df505717094568-5"><span class="crayon-e">Tue </span><span class="crayon-i">May</span><span class="crayon-h"> </span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">52</span><span class="crayon-o">:</span><span class="crayon-cn">50</span><span class="crayon-h"> </span><span class="crayon-i">CST</span><span class="crayon-h"> </span><span class="crayon-cn">2019</span><span class="crayon-h"> </span>目前积分为：<span class="crayon-cn">4642</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df505717094568-6">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df505717094568-7"><span class="crayon-e">Tue </span><span class="crayon-i">May</span><span class="crayon-h"> </span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">52</span><span class="crayon-o">:</span><span class="crayon-cn">50</span><span class="crayon-h"> </span><span class="crayon-i">CST</span><span class="crayon-h"> </span><span class="crayon-cn">2019</span><span class="crayon-h"> </span>访问空间<span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df505717094568-8"><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-e">Tue </span><span class="crayon-i">May</span><span class="crayon-h"> </span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">55</span><span class="crayon-o">:</span><span class="crayon-cn">54</span><span class="crayon-h"> </span><span class="crayon-i">CST</span><span class="crayon-h"> </span><span class="crayon-cn">2019</span><span class="crayon-h"> </span>完成</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df505717094568-9"><span class="crayon-e">Tue </span><span class="crayon-i">May</span><span class="crayon-h"> </span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">55</span><span class="crayon-o">:</span><span class="crayon-cn">55</span><span class="crayon-h"> </span><span class="crayon-i">CST</span><span class="crayon-h"> </span><span class="crayon-cn">2019</span><span class="crayon-h"> </span>目前积分为：<span class="crayon-cn">4662</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df505717094568-10">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df505717094568-11"><span class="crayon-e">Tue </span><span class="crayon-i">May</span><span class="crayon-h"> </span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">55</span><span class="crayon-o">:</span><span class="crayon-cn">55</span><span class="crayon-h"> </span><span class="crayon-i">CST</span><span class="crayon-h"> </span><span class="crayon-cn">2019</span><span class="crayon-h"> </span><span class="crayon-e">huzongsi </span><span class="crayon-v">Accomplished</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">Thanks</span><span class="crayon-o">!</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
</div>
<p>创建hostloc.sh脚本：</p>
<div data-mode="shell"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df50a466076438" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/usr/bin/env bash
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin
export PATH
# Usage:
## wget --no-check-certificate https://raw.githubusercontent.com/mixool/script/debian-9/hostloc.sh &amp;&amp; chmod +x hostloc.sh.sh &amp;&amp; bash hostloc.sh
### bash &lt;(curl -s https://raw.githubusercontent.com/mixool/script/debian-9/hostloc.sh) ${username} ${password}

# user info: change them to yours or use parameters instead.
username="$1"
password="$2"

#
UA="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36"

# workdir
workdir="/root/hostloc_cookie"
[[ ! -d "$workdir" ]] &amp;&amp; mkdir $workdir

function login() {
  echo 
  echo -n $(date) 登陆...
  data="mod=logging&amp;action=login&amp;loginsubmit=yes&amp;infloat=yes&amp;lssubmit=yes&amp;inajax=1&amp;fastloginfield=username&amp;username=$username&amp;cookietime=$(shuf -i 1234567-7654321 -n 1)&amp;password=$password&amp;quickforward=yes&amp;handlekey=ls"
  curl -s -H "$UA" -c $workdir/cookie_$username --data "$data" "https://www.hostloc.com/member.php" | grep -o "www.hostloc.com" &amp;&amp; echo -n $(date) 成功 || status="1"
  [[ $status -eq 1 ]] &amp;&amp; echo -n $(date) 失败 &amp;&amp; exit 1
}

function credit() {
  echo  
  creditall=$(curl -s -H "$UA" -b $workdir/cookie_$username "https://www.hostloc.com/home.php?mod=spacecp&amp;ac=credit&amp;op=base" | grep -oE "积分: &lt;/em&gt;\w*" | awk -F'[&gt;]' '{print $2}')
  echo $(date) 目前积分为：$creditall
}

function view() {
  echo  
  echo -n $(date) 访问空间
  for((i = 6610; i &lt;= 6630; i++))
  do
  echo -n .
  curl -s -H "$UA" -b $workdir/cookie_$username "https://www.hostloc.com/space-uid-$i.html" | grep -o "最近访客" &gt;/dev/null &amp;&amp; count[i]=$i
  sleep 10 &amp;&amp; [[ ${#count[*]} -eq 10 ]] &amp;&amp; echo &amp;&amp; break 
  done
  echo -n $(date) 完成
}

function main() {
  login
  credit
  view
  credit

  # clean
  rm -rf $workdir

  # exit
  echo 
  echo $(date) $username Accomplished.  Thanks!
}

main</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-38">38</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-39">39</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-40">40</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-41">41</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-42">42</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-43">43</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-44">44</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-45">45</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-46">46</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-47">47</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-48">48</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-49">49</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-50">50</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-51">51</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-52">52</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-53">53</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-54">54</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-55">55</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-56">56</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-57">57</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-58">58</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50a466076438-59">59</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-1"><span class="crayon-p">#!/usr/bin/env bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-2"><span class="crayon-v">PATH</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">sbin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">sbin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">local</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">local</span><span class="crayon-o">/</span><span class="crayon-v">sbin</span><span class="crayon-o">:</span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-e">bin</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-3"><span class="crayon-e">export </span><span class="crayon-i">PATH</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-4"><span class="crayon-p"># Usage:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-5"><span class="crayon-p">## wget --no-check-certificate https://raw.githubusercontent.com/mixool/script/debian-9/hostloc.sh &amp;&amp; chmod +x hostloc.sh.sh &amp;&amp; bash hostloc.sh</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-6"><span class="crayon-p">### bash &lt;(curl -s https://raw.githubusercontent.com/mixool/script/debian-9/hostloc.sh) ${username} ${password}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-8"><span class="crayon-p"># user info: change them to yours or use parameters instead.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-9"><span class="crayon-v">username</span><span class="crayon-o">=</span><span class="crayon-s">"$1"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-10"><span class="crayon-v">password</span><span class="crayon-o">=</span><span class="crayon-s">"$2"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-12"><span class="crayon-p">#</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-13"><span class="crayon-v">UA</span><span class="crayon-o">=</span><span class="crayon-s">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-14">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-15"><span class="crayon-p"># workdir</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-16"><span class="crayon-v">workdir</span><span class="crayon-o">=</span><span class="crayon-s">"/root/hostloc_cookie"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-17"><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-s">"$workdir"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-i">mkdir</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">workdir</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-18">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-19"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">login</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">echo </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-21"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>登陆<span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-o">=</span><span class="crayon-s">"mod=logging&amp;action=login&amp;loginsubmit=yes&amp;infloat=yes&amp;lssubmit=yes&amp;inajax=1&amp;fastloginfield=username&amp;username=$username&amp;cookietime=$(shuf -i 1234567-7654321 -n 1)&amp;password=$password&amp;quickforward=yes&amp;handlekey=ls"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">curl</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">H</span><span class="crayon-h"> </span><span class="crayon-s">"$UA"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">c</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">workdir</span><span class="crayon-o">/</span><span class="crayon-v">cookie_</span><span class="crayon-sy">$</span><span class="crayon-v">username</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">data</span><span class="crayon-h"> </span><span class="crayon-s">"$data"</span><span class="crayon-h"> </span><span class="crayon-s">"https://www.hostloc.com/member.php"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-s">"www.hostloc.com"</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>成功<span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">status</span><span class="crayon-o">=</span><span class="crayon-s">"1"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-24"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">status</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">eq</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>失败<span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-i">exit</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-25"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-26">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-27"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">credit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-28"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">echo&nbsp;&nbsp;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-29"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-v">creditall</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">curl</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">H</span><span class="crayon-h"> </span><span class="crayon-s">"$UA"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">b</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">workdir</span><span class="crayon-o">/</span><span class="crayon-v">cookie_</span><span class="crayon-sy">$</span><span class="crayon-i">username</span><span class="crayon-h"> </span><span class="crayon-s">"https://www.hostloc.com/home.php?mod=spacecp&amp;ac=credit&amp;op=base"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">oE</span><span class="crayon-h"> </span><span class="crayon-s">"积分: &lt;/em&gt;\w*"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">awk</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">F</span><span class="crayon-s">'[&gt;]'</span><span class="crayon-h"> </span><span class="crayon-s">'{print $2}'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>目前积分为：<span class="crayon-sy">$</span><span class="crayon-i">creditall</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-31"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-32">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-33"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">view</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-34"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">echo&nbsp;&nbsp;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-35"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>访问空间</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-36"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">6610</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-cn">6630</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-37"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">do</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-sy">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-39"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">curl</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">H</span><span class="crayon-h"> </span><span class="crayon-s">"$UA"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">b</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">workdir</span><span class="crayon-o">/</span><span class="crayon-v">cookie_</span><span class="crayon-sy">$</span><span class="crayon-i">username</span><span class="crayon-h"> </span><span class="crayon-s">"https://www.hostloc.com/space-uid-$i.html"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-s">"最近访客"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-t">null</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">count</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-e">i</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-40"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#count[*]} -eq 10 ]] &amp;&amp; echo &amp;&amp; break </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-41"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">done</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-42"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>完成</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-43"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-44">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-45"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-46"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">login</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-47"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-e">credit</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-48"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-e">view</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-49"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-i">credit</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-50">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-51"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-p"># clean</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-52"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">rm</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">rf</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">workdir</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-54"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-p"># exit</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-55"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">echo </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-56"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">username </span><span class="crayon-v">Accomplished</span><span class="crayon-sy">.</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">Thanks</span><span class="crayon-o">!</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-57"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-58">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50a466076438-59"><span class="crayon-v">main</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
</div>
<p>运行：</p>
<div data-mode="shell"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df50c446255988" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
bash /var/www/html/www/tools/hostloc.sh hostloc用户名 hostloc密码</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50c446255988-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50c446255988-1"><span class="crayon-v">bash</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">tools</span><span class="crayon-o">/</span><span class="crayon-v">hostloc</span><span class="crayon-sy">.</span><span class="crayon-e">sh </span><span class="crayon-i">hostloc</span>用户名<span class="crayon-h"> </span><span class="crayon-i">hostloc</span>密码</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</div>
<p>增加计划任务（使用tmux后台回话）： <br />
crontab -e</p>
<div data-mode="shell"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df50e797078496" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#hostloc
0 2 * * * tmux new-session -s hostloc -d    #新建tmux会话
0 3 * * * tmux send-keys -t hostloc 'bash /var/www/html/www/tools/hostloc.sh 用户1 密码1' C-m
0 15 * * * tmux send-keys -t hostloc 'bash /var/www/html/www/tools/hostloc.sh 用户2 密码2' C-m   #其中C-m 表示回车键</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50e797078496-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50e797078496-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df50e797078496-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df50e797078496-4">4</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50e797078496-1"><span class="crayon-p">#hostloc</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50e797078496-2"><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-e">tmux </span><span class="crayon-r">new</span><span class="crayon-o">-</span><span class="crayon-v">session</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-v">hostloc</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#新建tmux会话</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df50e797078496-3"><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-e">tmux </span><span class="crayon-v">send</span><span class="crayon-o">-</span><span class="crayon-v">keys</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-i">hostloc</span><span class="crayon-h"> </span><span class="crayon-s">'bash /var/www/html/www/tools/hostloc.sh 用户1 密码1'</span><span class="crayon-h"> </span><span class="crayon-v">C</span><span class="crayon-o">-</span><span class="crayon-i">m</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df50e797078496-4"><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-e">tmux </span><span class="crayon-v">send</span><span class="crayon-o">-</span><span class="crayon-v">keys</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-i">hostloc</span><span class="crayon-h"> </span><span class="crayon-s">'bash /var/www/html/www/tools/hostloc.sh 用户2 密码2'</span><span class="crayon-h"> </span><span class="crayon-v">C</span><span class="crayon-o">-</span><span class="crayon-i">m</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-p">#其中C-m 表示回车键</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
</div>
<p>查看tmux会话：</p>
<div data-mode="shell"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df510662670433" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
tmux a -t hostloc</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df510662670433-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df510662670433-1"><span class="crayon-i">tmux</span><span class="crayon-h"> </span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-v">hostloc</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</div>
<p><wiz_tmp_tag id="wiz-table-range-border" contenteditable="false" style="display: none;"></p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p></wiz_tmp_tag></p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/hostloc/" rel="tag">hostloc</a>, <a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a>, <a href="https://luojimen.github.io/tag/%e8%84%9a%e6%9c%ac/" rel="tag">脚本</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1745 post type-post status-publish format-standard hentry category-linux tag-apache tag-google-drive tag-linux tag-nas tag-pt tag-rclone tag-vps tag-webdav tag-24 tag-10" id="post-1745">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2018/03/%e9%83%a8%e7%bd%b2webdavapache2%e6%9d%a5%e8%ae%bf%e9%97%aegoogle-drive/">部署webdav(apache2)来访问google-drive</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2018/03/%e9%83%a8%e7%bd%b2webdavapache2%e6%9d%a5%e8%ae%bf%e9%97%aegoogle-drive/">2018年3月3日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<h2>介绍</h2>
<div>1.搭建webdav</div>
<div>2.使用rclone mount挂载google drive</div>
<div></div>
<div>环境:centos7 (注意可能需要关闭防火墙)</div>
<h2>安装Apache</h2>
<div id="wiz_cm_1520068231326_9034" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df78e652075097" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
yum install httpd</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df78e652075097-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df78e652075097-1"><span class="crayon-e">yum </span><span class="crayon-e">install </span><span class="crayon-v">httpd</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>设置服务器开机自启动Apache</div>
<div id="wiz_cm_1520068378122_6851" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df793278021974" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
systemctl enable httpd.service</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df793278021974-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df793278021974-1"><span class="crayon-e">systemctl </span><span class="crayon-e">enable </span><span class="crayon-v">httpd</span><span class="crayon-sy">.</span><span class="crayon-v">service</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>reboot重启服务器后验证Apache是否已经启动,结果显示enable则表示Apache已经启动成功.</div>
<div>
<div id="wiz_cm_1520068451817_8473" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df794052442614" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
systemctl is-enabled httpd.service</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df794052442614-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df794052442614-1"><span class="crayon-e">systemctl </span><span class="crayon-st">is</span><span class="crayon-o">-</span><span class="crayon-e">enabled </span><span class="crayon-v">httpd</span><span class="crayon-sy">.</span><span class="crayon-v">service</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
</div>
<div>手动启动Apache</div>
<div id="wiz_cm_1520068590971_4610" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df796011921440" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
systemctl start httpd.service 在浏览器中输入IP地址即可验证是否启动成功</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df796011921440-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df796011921440-1"><span class="crayon-e">systemctl </span><span class="crayon-e">start </span><span class="crayon-v">httpd</span><span class="crayon-sy">.</span><span class="crayon-i">service</span><span class="crayon-h"> </span>在浏览器中输入<span class="crayon-i">IP</span>地址即可验证是否启动成功</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>手动重启Apache</div>
<div id="wiz_cm_1520068627373_5758" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df797868020243" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
systemctl restart httpd.service</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df797868020243-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df797868020243-1"><span class="crayon-e">systemctl </span><span class="crayon-e">restart </span><span class="crayon-v">httpd</span><span class="crayon-sy">.</span><span class="crayon-v">service</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>手动停止Apache</div>
<div id="wiz_cm_1520068656292_5640" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df798496030807" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
systemctl stop httpd.service</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df798496030807-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df798496030807-1"><span class="crayon-e">systemctl </span><span class="crayon-e">stop </span><span class="crayon-v">httpd</span><span class="crayon-sy">.</span><span class="crayon-v">service</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>安装目录介绍</div>
<div>
<ul>
<li>Apache默认将网站的根目录指向/var/www/html</li>
<li>默认的主配置文件 /etc/httpd/conf/httpd.conf</li>
<li>配置存储在 /etc/httpd/conf.d/目录</li>
</ul>
</div>
<div></div>
<h2>建立WebDAV目录</h2>
<div>WebDAV模块包含apache2在CentOS 7中的安装中，默认情况下处于启用状态。您可以使用以下命令验证WebDAV模块是否正在运行：</div>
<div id="wiz_cm_1520069020443_3558" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df79a910239094" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
httpd -M | grep fs</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df79a910239094-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df79a910239094-1"><span class="crayon-v">httpd</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">M</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">grep </span><span class="crayon-v">fs</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>如果webdav启用成功,你将可以看到以下结果:</div>
<div id="wiz_cm_1520069077498_209" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df79c059909463" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
dav_fs_module(shared)</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df79c059909463-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df79c059909463-1"><span class="crayon-e">dav_fs_module</span><span class="crayon-sy">(</span><span class="crayon-v">shared</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>安装webdav模块后,你需要创建一个webdav目录,在这里,我们在apache web根目录下创建webdav目录:</div>
<div id="wiz_cm_1520069186415_6333" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df79d509710907" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
mkdir /var/www/html/webdav</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df79d509710907-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df79d509710907-1"><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">/</span><span class="crayon-v">webdav</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>接下来,更改webdav目录的拥有者(给apache<span style="color: #000000; font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif; font-size: 1rem; font-style: normal; font-weight: normal; text-align: start; text-indent: 0px; display: inline !important;">用户</span>)和</div>
<div id="wiz_cm_1520069409029_1406" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df79e511833537" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
chown -R apache:apache /var/www/html/webdav        目录更改为apache用户拥有.
chmod -R 755 /var/www/html/webdav        * 755的权限就是：rwxr-xr-x。第一位7等于4+2+1，所以就是rwx，所有者有读取、写入、执行的权限；第二位5也是4+0+1，r-x，同组用户具有读取、执行权限；第三位5，代表公共用户有读取、执行的权限。</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df79e511833537-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df79e511833537-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df79e511833537-1"><span class="crayon-v">chown</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">R</span><span class="crayon-h"> </span><span class="crayon-v">apache</span><span class="crayon-o">:</span><span class="crayon-v">apache</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">/</span><span class="crayon-i">webdav</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>目录更改为<span class="crayon-i">apache</span>用户拥有<span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df79e511833537-2"><span class="crayon-v">chmod</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">R</span><span class="crayon-h"> </span><span class="crayon-cn">755</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">/</span><span class="crayon-e ">webdav&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><span class="crayon-h"> </span><span class="crayon-cn">755</span>的权限就是：<span class="crayon-v">rwxr</span><span class="crayon-o">-</span><span class="crayon-v">xr</span><span class="crayon-o">-</span><span class="crayon-i">x</span>。第一位<span class="crayon-cn">7</span>等于<span class="crayon-cn">4</span><span class="crayon-o">+</span><span class="crayon-cn">2</span><span class="crayon-o">+</span><span class="crayon-cn">1</span>，所以就是<span class="crayon-i">rwx</span>，所有者有读取、写入、执行的权限；第二位<span class="crayon-cn">5</span>也是<span class="crayon-cn">4</span><span class="crayon-o">+</span><span class="crayon-cn">0</span><span class="crayon-o">+</span><span class="crayon-cn">1</span>，<span class="crayon-v">r</span><span class="crayon-o">-</span><span class="crayon-i">x</span>，同组用户具有读取、执行权限；第三位<span class="crayon-cn">5</span>，代表公共用户有读取、执行的权限。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
</p>
<div></div>
</div>
<div>设置密码认证</div>
<div>    用密码来保护你的<span style="color: #000000; font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif; font-size: 1rem; font-style: normal; font-weight: normal; text-align: start; text-indent: 0px; display: inline !important;">webdav</span>目录是非常重要的,你可以通过创建一个.htpasswd文件来实现.</div>
<div>    要创建它,请运行以下命令:</div>
<div>
<div id="wiz_cm_1520069832922_5967" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df7a0723532893" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
htpasswd -c /etc/httpd/.htpasswd dev</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a0723532893-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a0723532893-1"><span class="crayon-v">htpasswd</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">httpd</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-e">htpasswd </span><span class="crayon-v">dev</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
</div>
<div>这将为dev用户创建一个密码文件.</div>
<div>现在,你需要将改密码文件的所有权分配给apache用户,并锁定其他人的权限,为此,请运行以下命令:</div>
<div id="wiz_cm_1520070033625_9085" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df7a1550056125" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
chown root:apache /etc/httpd/.htpasswd
chmod 640 /etc/httpd/.htpasswd        *644的权限就是：rw-r–r–。第一位6等于4+2+0，所以就是rw-，所有者有读取、写入的权限；第二位4也是4+0+0，r–，同组用户具有读取的权限；第三位4，代表公共用户有读取的权限。 </textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a1550056125-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df7a1550056125-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a1550056125-1"><span class="crayon-e">chown </span><span class="crayon-v">root</span><span class="crayon-o">:</span><span class="crayon-v">apache</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">httpd</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-e">htpasswd</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df7a1550056125-2"><span class="crayon-i">chmod</span><span class="crayon-h"> </span><span class="crayon-cn">640</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">httpd</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-e ">htpasswd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><span class="crayon-cn">644</span>的权限就是：<span class="crayon-v">rw</span><span class="crayon-o">-</span><span class="crayon-i">r</span>–<span class="crayon-i">r</span>–。第一位<span class="crayon-cn">6</span>等于<span class="crayon-cn">4</span><span class="crayon-o">+</span><span class="crayon-cn">2</span><span class="crayon-o">+</span><span class="crayon-cn">0</span>，所以就是<span class="crayon-v">rw</span><span class="crayon-o">-</span>，所有者有读取、写入的权限；第二位<span class="crayon-cn">4</span>也是<span class="crayon-cn">4</span><span class="crayon-o">+</span><span class="crayon-cn">0</span><span class="crayon-o">+</span><span class="crayon-cn">0</span>，<span class="crayon-i">r</span>–，同组用户具有读取的权限；第三位<span class="crayon-cn">4</span>，代表公共用户有读取的权限。<span class="crayon-h"> </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
<div></div>
<h2>为Webdav配置Apache虚拟主机</h2>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;">接下来,你需要为webdav目录创建一个apache虚拟主机配置文件,首先创建一个新站点配置文件名为 webdav.conf</span></div>
<div id="wiz_cm_1520070748761_972" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df7a3770937088" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
nano /etc/httpd/conf.d/webdav.conf</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a3770937088-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a3770937088-1"><span class="crayon-v">nano</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">httpd</span><span class="crayon-o">/</span><span class="crayon-v">conf</span><span class="crayon-sy">.</span><span class="crayon-v">d</span><span class="crayon-o">/</span><span class="crayon-v">webdav</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>添加以下内容:</div>
<div id="wiz_cm_1520070787182_232" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df7a4857408032" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
DavLockDB /var/www/html/DavLock
&lt;VirtualHost *:80&gt;
        ServerAdmin webmaster@localhost
        DocumentRoot /var/www/html/webdav/
    ErrorLog /var/log/httpd/error.log
    CustomLog /var/log/httpd/access.log combined
        Alias /webdav /var/www/html/webdav
        &lt;Directory /var/www/html/webdav&gt;
            DAV On
            AuthType Basic
            AuthName "webdav"
            AuthUserFile /etc/httpd/.htpasswd
            Require valid-user
        &lt;/Directory&gt;
&lt;/VirtualHost&gt;</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a4857408032-15">15</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-1"><span class="crayon-v">DavLockDB</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">/</span><span class="crayon-v">DavLock</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-2"><span class="crayon-o">&lt;</span><span class="crayon-e ">VirtualHost *</span><span class="crayon-o">:</span><span class="crayon-cn">80</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">ServerAdmin </span><span class="crayon-v">webmaster</span><span class="crayon-sy">@</span><span class="crayon-e">localhost</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-4"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">DocumentRoot</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">/</span><span class="crayon-v">webdav</span><span class="crayon-o">/</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ErrorLog</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-o">/</span><span class="crayon-v">httpd</span><span class="crayon-o">/</span><span class="crayon-v">error</span><span class="crayon-sy">.</span><span class="crayon-e">log</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-6"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">CustomLog</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-o">/</span><span class="crayon-v">httpd</span><span class="crayon-o">/</span><span class="crayon-v">access</span><span class="crayon-sy">.</span><span class="crayon-e">log </span><span class="crayon-e">combined</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-7"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Alias</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">webdav</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">/</span><span class="crayon-v">webdav</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">Directory</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">/</span><span class="crayon-v">webdav</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">DAV </span><span class="crayon-e">On</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-10"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">AuthType </span><span class="crayon-e">Basic</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-11"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">AuthName</span><span class="crayon-h"> </span><span class="crayon-s">"webdav"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">AuthUserFile</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">httpd</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-e">htpasswd</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-13"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Require </span><span class="crayon-v">valid</span><span class="crayon-o">-</span><span class="crayon-v">user</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">Directory</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a4857408032-15"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">VirtualHost</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
</p>
<div></div>
</div>
<div>现在,重新启动Apache来激活新的配置:</div>
<div id="wiz_cm_1520070829008_3707" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df7a5500106753" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
apachectl restart</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a5500106753-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a5500106753-1"><span class="crayon-e">apachectl </span><span class="crayon-v">restart</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div></div>
<h2>测试WebDav</h2>
<div>最后,WebDav已经准备好进行测试.</div>
<div>在浏览器中打开网址 :<span style="color: #ff0000;" data-wiz-span="data-wiz-span"> http://your.server.ip/webdav/</span></div>
<div>系统将提示您输入用户名和密码以访问WebDav,输入我们之前设置的用户名和密码.</div>
<div></div>
<h2>挂载google drive</h2>
<div>* rcone mount 必须使用&#8211;allow-other  ,让其他用户可以看到,否则挂载后其他用户无法看到目录.</div>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;">安装rclone</span></div>
<div id="wiz_cm_1520074806271_6445" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df7a7418058868" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
curl https://rclone.org/install.sh | sudo bash</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a7418058868-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a7418058868-1"><span class="crayon-e">curl </span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//rclone.org/install.sh | sudo bash</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>
<div style="margin: 0px; color: #000000; font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif; font-size: 1rem; font-style: normal; font-weight: normal; text-align: start; text-indent: 0px;">在webdav目录下新建将用来挂载的目录</div>
</div>
<div id="wiz_cm_1520074369465_7091" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df7a8731863925" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
mkdir /var/www/html/webdav/rcmount</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a8731863925-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a8731863925-1"><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">/</span><span class="crayon-v">webdav</span><span class="crayon-o">/</span><span class="crayon-v">rcmount</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>挂载</div>
<div id="wiz_cm_1520074164650_7786" class="wiz-code-container" data-mode="C++" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828df7a9870044891" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
rclone mount 你的rc配置名 /var/www/html/webdav/rcmount vfs-cache-mode minimal --allow-other</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828df7a9870044891-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828df7a9870044891-1"><span class="crayon-e">rclone </span><span class="crayon-i">mount</span><span class="crayon-h"> </span>你的<span class="crayon-i">rc</span>配置名<span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">/</span><span class="crayon-v">webdav</span><span class="crayon-o">/</span><span class="crayon-e">rcmount </span><span class="crayon-v">vfs</span><span class="crayon-o">-</span><span class="crayon-v">cache</span><span class="crayon-o">-</span><span class="crayon-e">mode </span><span class="crayon-v">minimal</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">allow</span><span class="crayon-o">-</span><span class="crayon-v">other</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div></div>
<div>打开<span style="color: #ff0000; font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif; font-size: 1rem; font-style: normal; font-weight: normal; text-align: start; text-indent: 0px; display: inline !important;"> http://your.server.ip/webdav/ ,<span style="color: #000000;" data-wiz-span="data-wiz-span">进入rcmount文件夹</span></span></div>
<div><b>请享用&#8230;</b></div>
<div></div>
<div></div>
<p>&nbsp;</p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p>&nbsp;</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/apache/" rel="tag">apache</a>, <a href="https://luojimen.github.io/tag/google-drive/" rel="tag">google drive</a>, <a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a>, <a href="https://luojimen.github.io/tag/nas/" rel="tag">nas</a>, <a href="https://luojimen.github.io/tag/pt/" rel="tag">pt</a>, <a href="https://luojimen.github.io/tag/rclone/" rel="tag">rclone</a>, <a href="https://luojimen.github.io/tag/vps/" rel="tag">vps</a>, <a href="https://luojimen.github.io/tag/webdav/" rel="tag">webdav</a>, <a href="https://luojimen.github.io/tag/%e6%b5%8f%e8%a7%88%e5%99%a8/" rel="tag">浏览器</a>, <a href="https://luojimen.github.io/tag/%e7%bd%91%e7%ab%99/" rel="tag">网站</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1740 post type-post status-publish format-standard hentry category-linux tag-linux tag-ubuntu" id="post-1740">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2018/02/ubuntu-apt-get-faile-to-fork%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95/">Ubuntu apt get faile to fork解决方法</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2018/02/ubuntu-apt-get-faile-to-fork%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95/">2018年2月3日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<div></div>
<div>在ubuntu上安装mailutls时候提示</div>
<div class="wiz-code-container" id="wiz_cm_1517596912842_6921" data-mode="JavaScript" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfa8f954123846" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
root@vds-111783:/rclone# apt-get install mailutils
Reading package lists... Done
Building dependency tree       
Reading state information... Done
  libmysqlclient18 libntlm0 mailutils-common mysql-common
Suggested packages:
  mailutils-mh mailutils-doc
The following NEW packages will be installed:
  guile-2.0-libs libgc1c2 libgsasl7 libkyotocabinet16 libmailutils4
  libmysqlclient18 libntlm0 mailutils mailutils-common mysql-common
0 upgraded, 10 newly installed, 0 to remove and 2 not upgraded.
FATAL -&gt; Failed to fork.</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa8f954123846-12">12</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">vds</span><span class="crayon-o">-</span><span class="crayon-cn">111783</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-i">rclone</span><span class="crayon-p"># apt-get install mailutils</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-2"><span class="crayon-e">Reading </span><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">lists</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">Done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-3"><span class="crayon-e">Building </span><span class="crayon-e">dependency </span><span class="crayon-e">tree&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-4"><span class="crayon-e">Reading </span><span class="crayon-e">state </span><span class="crayon-v">information</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">Done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-5"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-e">libmysqlclient18 </span><span class="crayon-e">libntlm0 </span><span class="crayon-v">mailutils</span><span class="crayon-o">-</span><span class="crayon-e">common </span><span class="crayon-v">mysql</span><span class="crayon-o">-</span><span class="crayon-e">common</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-6"><span class="crayon-e">Suggested </span><span class="crayon-v">packages</span><span class="crayon-o">:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">mailutils</span><span class="crayon-o">-</span><span class="crayon-e">mh </span><span class="crayon-v">mailutils</span><span class="crayon-o">-</span><span class="crayon-e">doc</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-8"><span class="crayon-e">The </span><span class="crayon-e">following </span><span class="crayon-r">NEW</span><span class="crayon-h"> </span><span class="crayon-e">packages </span><span class="crayon-e">will </span><span class="crayon-e">be </span><span class="crayon-v">installed</span><span class="crayon-o">:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">guile</span><span class="crayon-o">-</span><span class="crayon-cn">2.0</span><span class="crayon-o">-</span><span class="crayon-e">libs </span><span class="crayon-e">libgc1c2 </span><span class="crayon-e">libgsasl7 </span><span class="crayon-e">libkyotocabinet16 </span><span class="crayon-e">libmailutils4</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-10"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-e">libmysqlclient18 </span><span class="crayon-e">libntlm0 </span><span class="crayon-e">mailutils </span><span class="crayon-v">mailutils</span><span class="crayon-o">-</span><span class="crayon-e">common </span><span class="crayon-v">mysql</span><span class="crayon-o">-</span><span class="crayon-i">common</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-11"><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-v">upgraded</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-e">newly </span><span class="crayon-v">installed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">remove </span><span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-v">upgraded</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa8f954123846-12"><span class="crayon-v">FATAL</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-e">Failed </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-v">fork</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
</p>
<div></div>
</div>
<div>网上搜索找到这篇解决方案》https://vsxen.github.io/2016/11/04/ubuntu-faile-to-fork/</div>
<div></div>
<div>只要运行以下脚本即可，意思是解决swap空间不足</div>
<div class="wiz-code-container" id="wiz_cm_1517597034162_9931" data-mode="JavaScript" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfa93132624152" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
curl -sSL https://manageacloud.com/api/cm/configuration/activate_swap/ubuntu/manageacloud-production-script.sh | bash</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa93132624152-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa93132624152-1"><span class="crayon-v">curl</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">sSL </span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//manageacloud.com/api/cm/configuration/activate_swap/ubuntu/manageacloud-production-script.sh | bash</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>备份脚本:</div>
<div class="wiz-code-container" id="wiz_cm_1517597061214_8911" data-mode="JavaScript" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfa95249426499" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/bin/bash

mkdir -p /tmp/manageacloud/
PREFIX='';
if [ `id -u` != 0 ] ; then
    PREFIX='sudo -E ';
fi
apt_timeout="0"
until which git || (( "$apt_timeout" &gt; 10 ))
do
    if [ "$apt_timeout" != "0"  ]; then
        sleep 10
    fi
    $PREFIX apt-get install -q git -y || $PREFIX apt-get -q update | cat &amp;&amp; $PREFIX apt-get -q install git -y | cat
    apt_timeout=$[$apt_timeout+1]
done

cat &gt; /tmp/manageacloud/.manageacloud.sh &lt;&lt; 'MACEOL'
#!/bin/bash
set -ue

dd if=/dev/zero of=/swapfile bs=1024 count=512k
mkswap /swapfile

echo vm.swappiness = 10 | sudo tee -a /etc/sysctl.conf
echo 10 | sudo tee /proc/sys/vm/swappiness

chown root:root /swapfile
chmod 0600 /swapfile

echo " /swapfile       none    swap    sw      0       0 " &gt;&gt; /etc/fstab

swapon /swapfile



MACEOL

#!/bin/bash
set +u
export DEBIAN_FRONTEND=noninteractive
shopt -s xpg_echo
unset PATH JAVA_HOME LD_LIBRARY_PATH
function abort {
   echo "aborting: $@" 1&gt;&amp;2
   exit 1
}
export PATH=/usr/ucb/bin:/bin:/sbin:/usr/bin:/usr/sbin
cat &gt; /etc/motd &lt;&lt;EOL

=================================================
To debug Manageacloud

Bootstrap script:
    cd /tmp/manageacloud/vcs/
    bash .manageacloud.sh

Environment variables:
    cat /tmp/manageacloud/env.log

Git repository (if applicable):
    cd /tmp/manageacloud/vcs/

Any questions support@manageacloud.com
=================================================
 
EOL


env &gt; /tmp/manageacloud/env.log
PREFIX=''
if [ `id -u` != 0 ] ; then
    PREFIX='sudo -E ';
fi
echo 'Host * 
         StrictHostKeyChecking no' &gt;&gt; ~/.ssh/config
rm -rf /tmp/manageacloud/vcs/
mkdir -p /tmp/manageacloud/vcs/
CLONE=""
BRANCH=""
PRIV_KEY=""
if [ "$PRIV_KEY" != "" ]; then
PREFIX='';
if [ `id -u` != 0 ] ; then
    PREFIX='sudo -E ';
fi

apt_timeout="0"
until which git || (( "$apt_timeout" &gt; 10 ))
do
    if [ "$apt_timeout" != "0"  ]; then
        sleep 10
    fi
    $PREFIX apt-get install -q git -y || $PREFIX apt-get -q update | cat &amp;&amp; $PREFIX apt-get -q install git -y | cat
    apt_timeout=$[$apt_timeout+1]
done
   cd /tmp/manageacloud/
   echo '#!/bin/sh
   if [ -z "$PKEY" ]; then
       ssh "$@"
   else
       ssh -i "$PKEY" "$@"
   fi' &gt; git_patch.sh
   chmod +x git_patch.sh
   echo "$PRIV_KEY" &gt; ~/.ssh/mac_private
   chmod 600 ~/.ssh/mac_private
   if [ "$BRANCH" != "" ]; then
       set -x
       cd /tmp/manageacloud/vcs/ &amp;&amp; GIT_SSH=../git_patch.sh PKEY=~/.ssh/mac_private git clone -q $CLONE . | cat &amp;&amp; git checkout $BRANCH
       set +x
   fi
else
PREFIX='';
if [ `id -u` != 0 ] ; then
    PREFIX='sudo -E ';
fi

apt_timeout="0"
until which git || (( "$apt_timeout" &gt; 10 ))
do
    if [ "$apt_timeout" != "0"  ]; then
        sleep 10
    fi
    $PREFIX apt-get install -q git -y || $PREFIX apt-get -q update | cat &amp;&amp; $PREFIX apt-get -q install git -y | cat
    apt_timeout=$[$apt_timeout+1]
done
   if [ "$BRANCH" != "" ]; then
       set -x
       cd /tmp/manageacloud/vcs/ &amp;&amp; git clone $CLONE .| cat &amp;&amp; git checkout $BRANCH
       set +x
   fi
fi
cp /tmp/manageacloud/.manageacloud.sh /tmp/manageacloud/vcs/
cd /tmp/manageacloud/vcs/ &amp;&amp; $PREFIX bash ./.manageacloud.sh | cat 
test ${PIPESTATUS[0]} -eq 0
exit $?</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-38">38</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-39">39</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-40">40</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-41">41</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-42">42</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-43">43</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-44">44</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-45">45</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-46">46</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-47">47</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-48">48</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-49">49</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-50">50</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-51">51</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-52">52</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-53">53</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-54">54</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-55">55</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-56">56</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-57">57</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-58">58</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-59">59</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-60">60</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-61">61</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-62">62</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-63">63</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-64">64</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-65">65</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-66">66</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-67">67</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-68">68</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-69">69</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-70">70</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-71">71</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-72">72</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-73">73</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-74">74</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-75">75</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-76">76</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-77">77</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-78">78</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-79">79</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-80">80</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-81">81</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-82">82</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-83">83</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-84">84</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-85">85</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-86">86</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-87">87</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-88">88</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-89">89</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-90">90</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-91">91</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-92">92</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-93">93</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-94">94</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-95">95</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-96">96</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-97">97</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-98">98</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-99">99</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-100">100</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-101">101</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-102">102</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-103">103</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-104">104</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-105">105</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-106">106</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-107">107</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-108">108</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-109">109</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-110">110</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-111">111</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-112">112</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-113">113</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-114">114</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-115">115</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-116">116</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-117">117</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-118">118</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-119">119</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-120">120</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-121">121</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-122">122</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-123">123</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-124">124</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-125">125</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-126">126</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-127">127</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-128">128</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-129">129</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-130">130</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-131">131</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-132">132</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-133">133</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-134">134</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-135">135</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfa95249426499-136">136</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-1"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-3"><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-4"><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-5"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">u</span><span class="crayon-sy">`</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">'sudo -E '</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-7"><span class="crayon-e">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-8"><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-s">"0"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-9"><span class="crayon-e">until </span><span class="crayon-e">which </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-10"><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">update</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-e">install </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">cat</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-15"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">[</span><span class="crayon-sy">$</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-16"><span class="crayon-e">done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-18"><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">manageacloud</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&lt;</span><span class="crayon-h"> </span><span class="crayon-s">'MACEOL'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-19"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-20"><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">ue</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-22"><span class="crayon-e">dd </span><span class="crayon-st">if</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-e">zero </span><span class="crayon-v">of</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-e">swapfile </span><span class="crayon-v">bs</span><span class="crayon-o">=</span><span class="crayon-cn">1024</span><span class="crayon-h"> </span><span class="crayon-v">count</span><span class="crayon-o">=</span><span class="crayon-cn">512k</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-23"><span class="crayon-v">mkswap</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-e">swapfile</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-24">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-25"><span class="crayon-e">echo </span><span class="crayon-v">vm</span><span class="crayon-sy">.</span><span class="crayon-v">swappiness</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">sudo </span><span class="crayon-v">tee</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">sysctl</span><span class="crayon-sy">.</span><span class="crayon-e">conf</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-26"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">sudo </span><span class="crayon-v">tee</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">proc</span><span class="crayon-o">/</span><span class="crayon-v">sys</span><span class="crayon-o">/</span><span class="crayon-v">vm</span><span class="crayon-o">/</span><span class="crayon-e">swappiness</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-28"><span class="crayon-e">chown </span><span class="crayon-v">root</span><span class="crayon-o">:</span><span class="crayon-v">root</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-e">swapfile</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-29"><span class="crayon-i">chmod</span><span class="crayon-h"> </span><span class="crayon-cn">0600</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-e">swapfile</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-30">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-31"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">" /swapfile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; none&nbsp;&nbsp;&nbsp;&nbsp;swap&nbsp;&nbsp;&nbsp;&nbsp;sw&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 "</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-e">fstab</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-32">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-33"><span class="crayon-v">swapon</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-e">swapfile</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-34">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-36">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-37"><span class="crayon-i">MACEOL</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-38">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-39"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-40"><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-i">u</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-41"><span class="crayon-e">export </span><span class="crayon-v">DEBIAN_FRONTEND</span><span class="crayon-o">=</span><span class="crayon-e">noninteractive</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-42"><span class="crayon-e">shopt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-e">xpg_echo</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-43"><span class="crayon-e">unset</span><span class="crayon-h"> </span><span class="crayon-e">PATH</span><span class="crayon-h"> </span><span class="crayon-e">JAVA_HOME</span><span class="crayon-h"> </span><span class="crayon-e">LD_LIBRARY_PATH</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-44"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">abort</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-45"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"aborting: $@"</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-46"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">exit</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-47"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-48"><span class="crayon-e">export </span><span class="crayon-v">PATH</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">ucb</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">sbin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-e">sbin</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-49"><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">motd</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&lt;</span><span class="crayon-v">EOL</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-50">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-51"><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-52"><span class="crayon-st">To</span><span class="crayon-h"> </span><span class="crayon-e">debug </span><span class="crayon-e">Manageacloud</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-54"><span class="crayon-e">Bootstrap </span><span class="crayon-v">script</span><span class="crayon-o">:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">bash</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-v">manageacloud</span><span class="crayon-sy">.</span><span class="crayon-e">sh</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-57">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-58"><span class="crayon-e">Environment </span><span class="crayon-v">variables</span><span class="crayon-o">:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">env</span><span class="crayon-sy">.</span><span class="crayon-e">log</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-60">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-61"><span class="crayon-e">Git </span><span class="crayon-e">repository</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">applicable</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-63">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-64"><span class="crayon-e">Any </span><span class="crayon-e">questions </span><span class="crayon-v">support</span><span class="crayon-sy">@</span><span class="crayon-v">manageacloud</span><span class="crayon-sy">.</span><span class="crayon-v">com</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-65"><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-66"><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-67"><span class="crayon-e">EOL</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-68">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-69">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-70"><span class="crayon-v">env</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">env</span><span class="crayon-sy">.</span><span class="crayon-e">log</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-71"><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">''</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-72"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">u</span><span class="crayon-sy">`</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">'sudo -E '</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-74"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-75"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">'Host * </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-76"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StrictHostKeyChecking no'</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">ssh</span><span class="crayon-o">/</span><span class="crayon-e">config</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-77"><span class="crayon-v">rm</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">rf</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-78"><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-79"><span class="crayon-r">CLONE</span><span class="crayon-o">=</span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-80"><span class="crayon-v">BRANCH</span><span class="crayon-o">=</span><span class="crayon-s">""</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-81"><span class="crayon-v">PRIV_KEY</span><span class="crayon-o">=</span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-82"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$PRIV_KEY"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-83"><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-84"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">u</span><span class="crayon-sy">`</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">'sudo -E '</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-86"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-87">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-88"><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-s">"0"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-89"><span class="crayon-e">until </span><span class="crayon-e">which </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-90"><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">update</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-e">install </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">cat</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-95"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">[</span><span class="crayon-sy">$</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-96"><span class="crayon-e">done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-97"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-98"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">'#!/bin/sh</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-99"><span class="crayon-s">&nbsp;&nbsp; if [ -z "$PKEY" ]; then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-100"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ssh "$@"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-101"><span class="crayon-s">&nbsp;&nbsp; else</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-102"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ssh -i "$PKEY" "$@"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-103"><span class="crayon-s">&nbsp;&nbsp; fi'</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">git_patch</span><span class="crayon-sy">.</span><span class="crayon-e">sh</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-104"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-v">chmod</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-i">x</span><span class="crayon-h"> </span><span class="crayon-v">git_patch</span><span class="crayon-sy">.</span><span class="crayon-e">sh</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-105"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"$PRIV_KEY"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">ssh</span><span class="crayon-o">/</span><span class="crayon-e">mac_private</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-106"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-i">chmod</span><span class="crayon-h"> </span><span class="crayon-cn">600</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">ssh</span><span class="crayon-o">/</span><span class="crayon-e">mac_private</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-107"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$BRANCH"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">x</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">GIT_SSH</span><span class="crayon-o">=</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">git_patch</span><span class="crayon-sy">.</span><span class="crayon-e">sh </span><span class="crayon-v">PKEY</span><span class="crayon-o">=</span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">ssh</span><span class="crayon-o">/</span><span class="crayon-e">mac_private </span><span class="crayon-e">git </span><span class="crayon-r">clone</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">CLONE</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">git </span><span class="crayon-i">checkout</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">BRANCH</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-110"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-i">x</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-111"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-112"><span class="crayon-st">else</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-113"><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-114"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">u</span><span class="crayon-sy">`</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">'sudo -E '</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-116"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-117">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-118"><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-s">"0"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-119"><span class="crayon-e">until </span><span class="crayon-e">which </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-120"><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-123"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-124"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">update</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-e">install </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">cat</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-125"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">[</span><span class="crayon-sy">$</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-126"><span class="crayon-e">done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-127"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$BRANCH"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-128"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">x</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">git </span><span class="crayon-r">clone</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">CLONE</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">git </span><span class="crayon-i">checkout</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">BRANCH</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-130"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-i">x</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-131"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-132"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-133"><span class="crayon-v">cp</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">manageacloud</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-134"><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-i">bash</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">manageacloud</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">cat</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-135"><span class="crayon-e">test</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">PIPESTATUS</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">eq</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfa95249426499-136"><span class="crayon-i">exit</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">?</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0654 seconds] -->
</p>
<div></div>
</div>
<div></div>
<p><wiz_tmp_tag id="wiz-table-range-border" contenteditable="false" style="display: none;"></p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p></wiz_tmp_tag></p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a>, <a href="https://luojimen.github.io/tag/ubuntu/" rel="tag">ubuntu</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1588 post type-post status-publish format-standard has-post-thumbnail hentry category-linux category-devops tag-linux tag-pt tag-vps tag-vultr tag-wordpress tag-16 tag-blog tag-10 tag-40 tag-22" id="post-1588">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a> <a href="https://luojimen.github.io/category/devops/" rel="category tag">网站运维</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2017/12/backup2mail-sh-%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%86%85%e5%ae%b9%e8%87%aa%e5%8a%a8%e5%8e%8b%e7%bc%a9%e5%88%86%e5%8d%b7%e6%88%90%e9%99%84%e4%bb%b6%e5%a4%a7%e5%b0%8f%e5%8f%91%e9%80%81%e5%88%b0%e9%82%ae/">backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2017/12/backup2mail-sh-%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%86%85%e5%ae%b9%e8%87%aa%e5%8a%a8%e5%8e%8b%e7%bc%a9%e5%88%86%e5%8d%b7%e6%88%90%e9%99%84%e4%bb%b6%e5%a4%a7%e5%b0%8f%e5%8f%91%e9%80%81%e5%88%b0%e9%82%ae/">2017年12月7日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<figure class="featured-media">

		<div class="featured-media-inner section-inner medium">

			<img width="725" height="183" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_24bc2a7a-bcf4-4301-9b5c-6ac60d92a95c.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="" />
		</div><!-- .featured-media-inner -->

	</figure><!-- .featured-media -->

	
	<div class="post-inner thin ">

		<div class="entry-content">

			<h2>概述</h2>
<div><img loading="lazy" class="alignnone size-full wp-image-2203" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_24bc2a7a-bcf4-4301-9b5c-6ac60d92a95c.jpg" width="725" height="183" alt="039c280ff790f5ba515130334672ed98_24bc2a7a-bcf4-4301-9b5c-6ac60d92a95c" title="039c280ff790f5ba515130334672ed98_24bc2a7a-bcf4-4301-9b5c-6ac60d92a95c" /></p>
<div>&nbsp;</div>
</div>
<div>本脚本目的是&gt;将vps网站内容(文件夹和数据库)分割成指定附件大小发送邮件到邮箱作为<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">备份</span>。</div>
<div>国内QQ和163邮箱无限容量,相当于永久免费备份.</div>
<div>适用于vps和独立服务器.</div>
<div></div>
<div><b style="font-size: 1rem; line-height: 1.6;">四步流程概览&gt;&gt;&gt;</b></div>
<div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">1&gt;安装配置mutt邮件发送程序</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">2&gt;安装7z压缩程序</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">3&gt;修改backup2mail.sh脚本(收件人,要备份的文件夹,数据库等用户信息)</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">4<span style="font-size: 1rem; line-height: 1.6;">&gt;执行<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">backup2mail.sh</span>脚本</span></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">(tips:末尾文献部分是博主在研究这个脚本时所参考浏览过的文章.)</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"></div>
</div>
<div class="wiz-table-container" style="position: relative; padding: 0px;">
<div class="wiz-table-body">
<table style="width: 506px;">
<tbody>
<tr>
<td align="left" valign="middle" style="width: 506px;" class="" rowspan="1" colspan="2"><b>邮箱选择:163.<br />建议用国内邮箱附件主流50M,比国外主流30M附件容量多70%,这样生成的分割邮件会少很多.</b></td>
</tr>
<tr style="height: 67px;">
<td align="left" valign="middle" style="width: 115px;" class="">QQ邮箱<br />50M/附件</td>
<td align="left" valign="middle" style="width: 390px;" class="">优点: 收件比163快,经测试每天都能收到附件，并没有被拒收.<br />缺点: 自定义文件夹必须折叠，每次要点击两次。</td>
</tr>
<tr>
<td align="left" valign="middle" style="width: 115px;" class="">163邮箱&nbsp;<br />50M/附件</td>
<td align="left" valign="middle" style="width: 390px;" class="">优点:自定义文件夹可以置顶，直接点击进入.<br />缺点:45M的压缩包接收比较慢,需要几十分钟，5M附件的邮件倒是能正常快速收到.实际延时测试&gt;大约是22:09收到第一份5M附件邮件，22:16分收到45M附件邮件,相隔7分钟。</td>
</tr>
</tbody>
</table>
</div>
</div>
<div>
<div></div>
<div class="wiz-table-container" style="margin: 0px; color: rgb(0, 0, 0); font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif; font-size: 1rem; font-style: normal; font-weight: normal; text-align: start; text-indent: 0px; padding: 0px; position: relative;">
<div class="wiz-table-body" style="margin:0px;padding:10px 0px;">
<table style="margin:0px;width:757px;">
<tbody>
<tr>
<td rowspan="1" colspan="2" style="padding:4px 8px;width:756px;" class=""><b>数据库是否选择压缩:压缩.(压缩后体积大约是未压缩的20%)</b></td>
</tr>
<tr>
<td style="padding:4px 8px;width:90px;"></td>
<td style="padding:4px 8px;width:666px;">备份命令mysqldump格式:<br />格式：mysqldump -h主机名&nbsp; -P端口 -u用户名 -p密码 –database 数据库名 &gt; 文件名.sql<span class="Apple-converted-space">&nbsp;</span></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:90px;">不压缩<br />1.48M</td>
<td align="left" valign="middle" style="padding:4px 8px;width:666px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:-webkit-left;text-indent:0px;display:inline !important;">mysqldump -u数据库用户名 -p数据库密码 数据库名 &gt; sqlbakup.sql</span></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:90px;">gz压缩后<br />300.41K</td>
<td align="left" valign="middle" style="padding:4px 8px;width:666px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:-webkit-left;text-indent:0px;display:inline !important;">mysqldump -u<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:-webkit-left;text-indent:0px;display:inline !important;">数据库用户名</span> -p<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:-webkit-left;text-indent:0px;display:inline !important;">数据库密码</span>&nbsp;<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:-webkit-left;text-indent:0px;display:inline !important;">数据库名</span> | gzip &gt; sqlbakup.sql.gz</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div></div>
</div>
<div><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;"></p>
<div class="wiz-table-container" style="position: relative; padding: 0px;">
<div class="wiz-table-body">
<table style="width: 741px;">
<tbody>
<tr>
<td style="width: 740px;" class="" rowspan="1" colspan="3"><b>文件夹压缩格式选择:7zip.<br />linux自带的tar.gz分卷方式在windwos下合并比较麻烦,需要敲命令.因此选用压缩率比较高的7z格式做分卷处理.(zip的压缩率太低,作为邮箱备份目的不在此考虑.)</b></td>
</tr>
<tr>
<td class="" style="width: 104px;">原始文件夹体积</td>
<td style="width: 87px;" class="">201 MB</td>
<td style="width: 551px;" class="">命令简介</td>
</tr>
<tr>
<td class="" style="width: 104px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">7za压缩后</span></td>
<td style="width: 87px;" class="">64.43 MB</td>
<td style="width: 551px;" class="">centos安装7z：yum install p7zip </p>
<p>分卷：7za -v45M a /要存在哪个文件夹/文件名 /要压缩的目标文件夹<br /><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">参数 -bt：显示执行时间统计信息<br /></span></p>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">
<div style="margin:0px;">#默认<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">等级</span>压缩:</div>
<div style="margin:0px;"><span style="font-size: 1rem; line-height: 1.6;">7za a /root/mail-test/zip/test2 /www/wwwroot/www.luoji.men&nbsp;</span><img src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_a380fc3e-f38b-4898-875e-f790e32dbfc4.jpg" style="font-size: 1rem; line-height: 1.6;"></div>
<div style="margin:0px;">[注*:&#8221;a&#8221;命令是添加已有，不反馈删除，因此需要作为脚本使用是需要先删除已存在压缩包]</div>
<div style="margin:0px;"></div>
<div style="margin:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">#指定<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">等级</span>压缩:</span></div>
<div style="margin:0px;"><span style="font-size: 1rem; line-height: 1.6;">7za -mx=5 a /root/mail-test/zip/test8&nbsp; /www/wwwroot/www.luoji.men</span><img src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_a2ac7c47-4bd4-49d5-8035-dd9ad12a0f64.jpg" style="font-size: 1rem; line-height: 1.6;" class=""><span style="font-size: 1rem; line-height: 1.6;">-mx=0等于不压缩（参数1-9（看内存，我<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">vultr</span>的vps只能使用最高等级5压缩）</span></div>
<div style="margin:0px;"></p>
<div style="margin:0px;">#分卷压缩，支持直接使用目录</div>
</div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">7za -v45M a /root/mail-test/zip/test5 /www/wwwroot/www.luoji.men</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><img loading="lazy" class="alignnone size-full wp-image-2205" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_507e1f14-1fee-464b-a488-9352e8687729.jpg" width="393" height="100" alt="039c280ff790f5ba515130334672ed98_507e1f14-1fee-464b-a488-9352e8687729" title="039c280ff790f5ba515130334672ed98_507e1f14-1fee-464b-a488-9352e8687729" /></div>
</td>
</tr>
<tr>
<td class="" style="width: 104px;">zip压缩后</td>
<td style="width: 87px;" class="">95.24 MB</td>
<td style="width: 551px;" class="">压缩：zip -r /root/mail-test/zip/test.zip /root/mail-test/file/*<br />分卷：zip -s 200k file.zip &#8211;out ziptest &nbsp; &nbsp;#分卷成200k一包<br /><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（注*:zip分卷需要先压缩成zip才能分卷）</span></td>
</tr>
<tr>
<td class="" style="width: 104px;">BT宝塔备份<br />tar.gz</td>
<td style="width: 87px;" class="">84.41 MB</td>
<td style="width: 551px;" class=""></td>
</tr>
<tr>
<td align="left" valign="middle" style="width: 104px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar -jcvf<br /></span>bz2</td>
<td align="left" valign="middle" style="width: 87px;" class="">79.56 MB</td>
<td align="left" valign="middle" style="width: 551px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar -jcvf<span class="Apple-converted-space"> </span></span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">/root/mail-test/zip/tar-test.tar.bz2</span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;"> </span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;"><span class="Apple-converted-space"><span class="Apple-converted-space"> </span></span>/root/mail-test/file/ <br /></span><img loading="lazy" class="alignnone size-full wp-image-2208" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_d90350ee-f9e3-4271-b912-a593eb2b8edf.jpg" width="425" height="36" alt="039c280ff790f5ba515130334672ed98_d90350ee-f9e3-4271-b912-a593eb2b8edf" title="039c280ff790f5ba515130334672ed98_d90350ee-f9e3-4271-b912-a593eb2b8edf" /></td>
</tr>
<tr>
<td align="left" valign="middle" style="width: 104px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar -zcvf<span class="Apple-converted-space"> <br /></span></span>tgz</td>
<td align="left" valign="middle" style="width: 87px;" class="">87.50 MB</td>
<td align="left" valign="middle" style="width: 551px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar -zcvf<span class="Apple-converted-space"> </span></span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">/root/mail-test/zip/tar-test.tgz </span><span class="Apple-converted-space" style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span class="Apple-converted-space"><span class="Apple-converted-space"> </span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">/www/wwwroot/www.luoji.men<br /></span></span></span><img loading="lazy" class="alignnone size-full wp-image-2204" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_37cc033a-b3c2-46f8-840b-9d20fea2a8ab.jpg" width="393" height="36" alt="039c280ff790f5ba515130334672ed98_37cc033a-b3c2-46f8-840b-9d20fea2a8ab" title="039c280ff790f5ba515130334672ed98_37cc033a-b3c2-46f8-840b-9d20fea2a8ab" /></td>
</tr>
</tbody>
</table>
</div>
</div>
<p></span></div>
<div class="wiz-table-container" style="margin: 0px; padding: 0px; position: relative;">
<div class="wiz-table-body" style="margin:0px;padding:10px 0px;">
<table style="margin:0px;width:585px;">
<tbody>
<tr>
<td rowspan="1" colspan="2" style="padding:4px 8px;width:119px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;display:inline !important;"><b>压缩方式耗时对比:7z虽然压缩率高，但耗时确实很长。不过自用服务器负荷很小，虽然7z耗时长，但是压缩后的体积小，便于邮箱存放，适合作为每日发到邮箱备份。</b></span></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;">测试压缩所用的文件夹体积</td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;"><img loading="lazy" class="alignnone size-full wp-image-2209" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_6a464497-f1e0-4feb-9b6a-b27a646d38c6.jpg" width="526" height="45" alt="039c280ff790f5ba515130334672ed98_6a464497-f1e0-4feb-9b6a-b27a646d38c6" title="039c280ff790f5ba515130334672ed98_6a464497-f1e0-4feb-9b6a-b27a646d38c6" /><img loading="lazy" class="alignnone size-full wp-image-2211" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_80115811-c37c-4099-8b4e-1a4ea46f73a4.png" width="766" height="407" alt="039c280ff790f5ba515130334672ed98_80115811-c37c-4099-8b4e-1a4ea46f73a4" title="039c280ff790f5ba515130334672ed98_80115811-c37c-4099-8b4e-1a4ea46f73a4" /></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">7z.zip.tar</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">耗时3分25秒</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（不发邮件）</span></td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;display:inline !important;">time backup.sh 同时使用三种压缩方式总耗时3分25秒（不发邮件）</span><img loading="lazy" class="alignnone size-full wp-image-2213" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_c1f5416b-474c-443e-ab0a-a10b3eb15e3a.jpg" width="184" height="60" alt="039c280ff790f5ba515130334672ed98_c1f5416b-474c-443e-ab0a-a10b3eb15e3a" title="039c280ff790f5ba515130334672ed98_c1f5416b-474c-443e-ab0a-a10b3eb15e3a" /></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">7z.zip.tar</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">耗时5分10秒</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（发邮件）</span></td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;display:inline !important;">&nbsp;</span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;">time backup2mail.sh 同时使用三种压缩方式总耗时5分10秒（发邮件）</span><img loading="lazy" class="alignnone size-full wp-image-2210" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_77a89881-1434-4218-9638-7e52d7ed9573.jpg" width="187" height="65" alt="039c280ff790f5ba515130334672ed98_77a89881-1434-4218-9638-7e52d7ed9573" title="039c280ff790f5ba515130334672ed98_77a89881-1434-4218-9638-7e52d7ed9573" /></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">7z</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">耗时3分17秒</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（不发邮件）</span></td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;display:inline !important;">time backup.sh<span class="Apple-converted-space"><span class="Apple-converted-space">&nbsp;</span></span></span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;display:inline !important;">仅使用7z压缩方式耗时3分17秒（不发邮件）&nbsp;</span><img loading="lazy" class="alignnone size-full wp-image-2212" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_0c600fb8-ef8e-46be-a062-67ce7f714473.jpg" width="191" height="63" alt="039c280ff790f5ba515130334672ed98_0c600fb8-ef8e-46be-a062-67ce7f714473" title="039c280ff790f5ba515130334672ed98_0c600fb8-ef8e-46be-a062-67ce7f714473" /></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">zip</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">耗时52秒</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（不发邮件）</span></td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">time backup.sh</span><span class="Apple-converted-space" style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span class="Apple-converted-space">&nbsp;仅使用</span></span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">zip压缩耗时52秒（不发邮件）</span><img src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_0a1151e3-bc63-48ab-83ab-e3bca98e5dc9.jpg" style="margin:2px 0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">耗时17秒</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（不发邮件）</span></td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">time backup.sh</span><span class="Apple-converted-space" style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span class="Apple-converted-space">&nbsp;仅使用</span></span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar压缩耗时17秒（不发邮件）</span><img loading="lazy" class="alignnone size-full wp-image-2215" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_a2a82c7c-2562-45d0-975f-28cb0a24985f.jpg" width="188" height="63" alt="039c280ff790f5ba515130334672ed98_a2a82c7c-2562-45d0-975f-28cb0a24985f" title="039c280ff790f5ba515130334672ed98_a2a82c7c-2562-45d0-975f-28cb0a24985f" /></td>
</tr>
</tbody>
</table>
</div>
</div>
<div style="margin:0px;">
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"></div>
<hr>
</div>
<h2>安装mutt邮件发送服务</h2>
<div></div>
<div><b>centos使用yum一条命令就安装完成</b></div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734300_4327"></p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe57136067482" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
yum install -y mutt</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe57136067482-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe57136067482-1"><span class="crayon-e">yum </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">y</span><span class="crayon-h"> </span><span class="crayon-v">mutt</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p>
<div></div>
</div>
<div><b>设置主机名</b></div>
<div>临时# hostname www.luoji.men 否则aliyun邮箱和gmail邮箱拒收(连垃圾邮箱都不给进).</div>
<div> 成功后可修改成永久</div>
<div></div>
<div><b>设置发件人</b></div>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;">默认设置很可能被作为作为垃圾邮件甚至拒收，</span></div>
<div>编辑 vi /etc/Muttrc</div>
<div>在开头添加发件人信息 ：</div>
<div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734272_1177"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe5d387004323" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
set from="mutt@www.luoji.men"
set use_from=yes
set envelope_from="yes"
set realname="mutt"
</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe5d387004323-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe5d387004323-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe5d387004323-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe5d387004323-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe5d387004323-5">5</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe5d387004323-1"><span class="crayon-e">set </span><span class="crayon-v">from</span><span class="crayon-o">=</span><span class="crayon-s">"mutt@www.luoji.men"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe5d387004323-2"><span class="crayon-e">set </span><span class="crayon-v">use_from</span><span class="crayon-o">=</span><span class="crayon-e">yes</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe5d387004323-3"><span class="crayon-e">set </span><span class="crayon-v">envelope_from</span><span class="crayon-o">=</span><span class="crayon-s">"yes"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe5d387004323-4"><span class="crayon-e">set </span><span class="crayon-v">realname</span><span class="crayon-o">=</span><span class="crayon-s">"mutt"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe5d387004323-5">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
</div>
<div>编辑 vi /etc/Muttrc.local</div>
<div><b>添加set copy = no参数</b>,意思是取消附件的拷贝</div>
<div class="wiz-code-container" data-mode="HTML" data-theme="default" id="wiz_cm_1512649734236_711"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe5e148150080" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Local configuration for Mutt.
set copy = no

set copy=no #不生成sent文件 sent为附件的拷贝累加 这个文件体积会变得很大 使用一个月已经6g大小</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe5e148150080-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe5e148150080-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe5e148150080-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe5e148150080-4">4</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe5e148150080-1"><span class="crayon-p"># Local configuration for Mutt.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe5e148150080-2"><span class="crayon-e">set </span><span class="crayon-v">copy</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">no</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe5e148150080-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe5e148150080-4"><span class="crayon-e">set </span><span class="crayon-v">copy</span><span class="crayon-o">=</span><span class="crayon-i">no</span><span class="crayon-h"> </span><span class="crayon-p">#不生成sent文件 sent为附件的拷贝累加 这个文件体积会变得很大 使用一个月已经6g大小</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;"><span style="font-size:1rem;"><b>测试mutt发送邮件</b>查看对方服务器是否能收到：</span></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">格式是：文本、标题、邮箱</div>
</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734214_5361"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe60449620424" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH ~]# echo "Text" | mutt -s "virmach" "xxxx@163.com" 
[root@VIRMACH ~]# </textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe60449620424-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe60449620424-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe60449620424-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">VIRMACH</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># echo "Text" | mutt -s "virmach" "xxxx@163.com" </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe60449620424-2"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">VIRMACH</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div><img loading="lazy" class="alignnone size-full wp-image-2216" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_8de41a3d-721a-4bde-90c5-051457d65af2.jpg" width="298" height="250" alt="039c280ff790f5ba515130334672ed98_8de41a3d-721a-4bde-90c5-051457d65af2" title="039c280ff790f5ba515130334672ed98_8de41a3d-721a-4bde-90c5-051457d65af2" /><span style="font-size:1rem;">&nbsp;</span><span style="font-size:1rem;">&nbsp;</span></div>
<div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="font-size:1rem;"></p>
<div></div>
<p></span></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;"><span style="font-size:1rem;"><b>接着测试mutt发送附件</b>：</p>
<div style="font-weight:normal;">&nbsp;<span style="font-size:1rem;">格式是：文本、标题、邮箱、附件（-a 附件必须放在最后面，否则报错）</span></div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734173_8313"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe61571045620" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
正确语法 echo "Test" | mutt -s "mysql backup" xxxx@qq.com -a /fujian.txt
错误语法 echo "Test" | mutt -s "mysql backup" -a /fujian.txt xxxx@qq.com</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe61571045620-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe61571045620-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe61571045620-1">正确语法<span class="crayon-h"> </span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"Test"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">mutt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-s">"mysql backup"</span><span class="crayon-h"> </span><span class="crayon-v">xxxx</span><span class="crayon-sy">@</span><span class="crayon-v">qq</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">fujian</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe61571045620-2">错误语法<span class="crayon-h"> </span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"Test"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">mutt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-s">"mysql backup"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">fujian</span><span class="crayon-sy">.</span><span class="crayon-e">txt </span><span class="crayon-v">xxxx</span><span class="crayon-sy">@</span><span class="crayon-v">qq</span><span class="crayon-sy">.</span><span class="crayon-v">com</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
</p>
<div></div>
</div>
<div style="font-weight:normal;"><span style="font-size:1rem;">新建一个 vi fujian.txt 文档</span></div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734147_2553"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe63425353997" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH ~]# ls
fujian.txt</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe63425353997-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe63425353997-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe63425353997-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">VIRMACH</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># ls</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe63425353997-2"><span class="crayon-v">fujian</span><span class="crayon-sy">.</span><span class="crayon-v">txt</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div style="font-weight:normal;">查询当前路径:</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734114_9781"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe64883323700" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH ~]# pwd
/root</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe64883323700-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe64883323700-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe64883323700-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">VIRMACH</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># pwd</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe64883323700-2"><span class="crayon-o">/</span><span class="crayon-v">root</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<p></span></div>
<div style="margin:0px;"></div>
<div style="margin:0px;">
<div>发送附件</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734092_5165"></p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe66247188003" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
echo "Text" | mutt -s "Title" "xxxxx@163.com" -a "/root/fujian.txt"</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe66247188003-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe66247188003-1"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"Text"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">mutt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-s">"Title"</span><span class="crayon-h"> </span><span class="crayon-s">"xxxxx@163.com"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-s">"/root/fujian.txt"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p>
<div></div>
</div>
</div>
<p>大约1分钟后,邮箱应当收到这封带有附件的邮件&gt;</p></div>
<div><img loading="lazy" class="alignnone size-full wp-image-2219" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_204cd097-3be1-4a26-9875-f12be89ae74e.jpg" width="342" height="59" alt="039c280ff790f5ba515130334672ed98_204cd097-3be1-4a26-9875-f12be89ae74e" title="039c280ff790f5ba515130334672ed98_204cd097-3be1-4a26-9875-f12be89ae74e" /></p>
<div>&nbsp;<img loading="lazy" class="alignnone size-full wp-image-2217" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_99ac2100-d6f2-4630-b035-6e11513c7c49.jpg" width="302" height="375" alt="039c280ff790f5ba515130334672ed98_99ac2100-d6f2-4630-b035-6e11513c7c49" title="039c280ff790f5ba515130334672ed98_99ac2100-d6f2-4630-b035-6e11513c7c49" /></p>
<div>&nbsp;</div>
<hr>
</div>
<h2>安装7z压缩</h2>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734071_7114"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe67389307245" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
centos安装7z：yum install p7zip </textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe67389307245-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe67389307245-1"><span class="crayon-i">centos</span>安装<span class="crayon-cn">7z</span>：<span class="crayon-e">yum </span><span class="crayon-e">install </span><span class="crayon-i">p7zip</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;"><b>测试7z分卷:</b></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">新建两个测试目录并在其中放进一个10M左右的文件</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734045_3400"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe68095851096" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH temp]# mkdir output7z
[root@VIRMACH temp]# mkdir source &amp;&amp; cd source
[root@VIRMACH source]# wget https://wordpress.org/latest.tar.gz</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe68095851096-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe68095851096-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe68095851096-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe68095851096-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">VIRMACH </span><span class="crayon-v">temp</span><span class="crayon-sy">]</span><span class="crayon-p"># mkdir output7z</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe68095851096-2"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">VIRMACH </span><span class="crayon-v">temp</span><span class="crayon-sy">]</span><span class="crayon-p"># mkdir source &amp;&amp; cd source</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe68095851096-3"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">VIRMACH </span><span class="crayon-v">source</span><span class="crayon-sy">]</span><span class="crayon-p"># wget https://wordpress.org/latest.tar.gz</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="font-size:1rem;">查看文件体积</span></div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734020_7052"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe6a349507321" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH source]# ls -lh
total 9.2M
-rw-r--r-- 1 root root 9.2M Nov 30 03:07 latest.tar.gz</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe6a349507321-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe6a349507321-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe6a349507321-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe6a349507321-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">VIRMACH </span><span class="crayon-v">source</span><span class="crayon-sy">]</span><span class="crayon-p"># ls -lh</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe6a349507321-2"><span class="crayon-i">total</span><span class="crayon-h"> </span><span class="crayon-cn">9.2M</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe6a349507321-3"><span class="crayon-o">-</span><span class="crayon-v">rw</span><span class="crayon-o">-</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">root </span><span class="crayon-i">root</span><span class="crayon-h"> </span><span class="crayon-cn">9.2M</span><span class="crayon-h"> </span><span class="crayon-i">Nov</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-h"> </span><span class="crayon-cn">03</span><span class="crayon-o">:</span><span class="crayon-cn">07</span><span class="crayon-h"> </span><span class="crayon-v">latest</span><span class="crayon-sy">.</span><span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-v">gz</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">查看当前完整路径</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649733991_1"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe6b665706515" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH source]# pwd      
/root/temp/source</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe6b665706515-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe6b665706515-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe6b665706515-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">VIRMACH </span><span class="crayon-v">source</span><span class="crayon-sy">]</span><span class="crayon-p"># pwd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe6b665706515-2"><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">temp</span><span class="crayon-o">/</span><span class="crayon-v">source</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">分卷压缩命令</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">格式:7za -v分卷大小 a /压缩包存放文件夹/压缩包名 /需要分卷压缩的文件夹</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">分卷成2M大小测试</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649733971_9504"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe6d035858101" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
7za -v2M a /root/temp/output7z/source2p7z /root/temp/source/</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe6d035858101-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe6d035858101-1"><span class="crayon-cn">7za</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v2M</span><span class="crayon-h"> </span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">temp</span><span class="crayon-o">/</span><span class="crayon-v">output7z</span><span class="crayon-o">/</span><span class="crayon-v">source2p7z</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">temp</span><span class="crayon-o">/</span><span class="crayon-v">source</span><span class="crayon-o">/</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">进入/root/temp/output7z/查看是否正确生成分卷压缩包,如下<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">分割</span>分卷无误&gt;</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649733941_8637"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe6e265314153" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH output7z]#cd /root/temp/output7z/
[root@VIRMACH output7z]# ls -lh
total 9.1M
-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.001
-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.002
-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.003
-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.004
-rw-r--r-- 1 root root 1.1M Dec  7 15:44 source2p7z.7z.005</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe6e265314153-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe6e265314153-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe6e265314153-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe6e265314153-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe6e265314153-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe6e265314153-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe6e265314153-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe6e265314153-8">8</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe6e265314153-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">VIRMACH </span><span class="crayon-v">output7z</span><span class="crayon-sy">]</span><span class="crayon-p">#cd /root/temp/output7z/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe6e265314153-2"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">VIRMACH </span><span class="crayon-v">output7z</span><span class="crayon-sy">]</span><span class="crayon-p"># ls -lh</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe6e265314153-3"><span class="crayon-i">total</span><span class="crayon-h"> </span><span class="crayon-cn">9.1M</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe6e265314153-4"><span class="crayon-o">-</span><span class="crayon-v">rw</span><span class="crayon-o">-</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">root </span><span class="crayon-i">root</span><span class="crayon-h"> </span><span class="crayon-cn">2.0M</span><span class="crayon-h"> </span><span class="crayon-i">Dec</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">44</span><span class="crayon-h"> </span><span class="crayon-v">source2p7z</span><span class="crayon-sy">.</span><span class="crayon-cn">7z.001</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe6e265314153-5"><span class="crayon-o">-</span><span class="crayon-v">rw</span><span class="crayon-o">-</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">root </span><span class="crayon-i">root</span><span class="crayon-h"> </span><span class="crayon-cn">2.0M</span><span class="crayon-h"> </span><span class="crayon-i">Dec</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">44</span><span class="crayon-h"> </span><span class="crayon-v">source2p7z</span><span class="crayon-sy">.</span><span class="crayon-cn">7z.002</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe6e265314153-6"><span class="crayon-o">-</span><span class="crayon-v">rw</span><span class="crayon-o">-</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">root </span><span class="crayon-i">root</span><span class="crayon-h"> </span><span class="crayon-cn">2.0M</span><span class="crayon-h"> </span><span class="crayon-i">Dec</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">44</span><span class="crayon-h"> </span><span class="crayon-v">source2p7z</span><span class="crayon-sy">.</span><span class="crayon-cn">7z.003</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe6e265314153-7"><span class="crayon-o">-</span><span class="crayon-v">rw</span><span class="crayon-o">-</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">root </span><span class="crayon-i">root</span><span class="crayon-h"> </span><span class="crayon-cn">2.0M</span><span class="crayon-h"> </span><span class="crayon-i">Dec</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">44</span><span class="crayon-h"> </span><span class="crayon-v">source2p7z</span><span class="crayon-sy">.</span><span class="crayon-cn">7z.004</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe6e265314153-8"><span class="crayon-o">-</span><span class="crayon-v">rw</span><span class="crayon-o">-</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">root </span><span class="crayon-i">root</span><span class="crayon-h"> </span><span class="crayon-cn">1.1M</span><span class="crayon-h"> </span><span class="crayon-i">Dec</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">15</span><span class="crayon-o">:</span><span class="crayon-cn">44</span><span class="crayon-h"> </span><span class="crayon-v">source2p7z</span><span class="crayon-sy">.</span><span class="crayon-cn">7z.005</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">
<hr>
</div>
<h2><span>导出</span>MySQL数据库测试</h2>
<div>mysqldump -u用户名 -p用户密码 数据库名称 &gt; 保存为文件.sql</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649733894_9039"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe6f413166112" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH source]# mysqldump -uuser -ppasswd database &gt; backup.sql
[root@VIRMACH source]# ls -lh
-rw-r--r-- 1 root root 882K Dec  7 18:17 bakcup.sql
[root@VIRMACH source]# </textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe6f413166112-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe6f413166112-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe6f413166112-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe6f413166112-4">4</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe6f413166112-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">VIRMACH </span><span class="crayon-v">source</span><span class="crayon-sy">]</span><span class="crayon-p"># mysqldump -uuser -ppasswd database &gt; backup.sql</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe6f413166112-2"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">VIRMACH </span><span class="crayon-v">source</span><span class="crayon-sy">]</span><span class="crayon-p"># ls -lh</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe6f413166112-3"><span class="crayon-o">-</span><span class="crayon-v">rw</span><span class="crayon-o">-</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-v">r</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">root </span><span class="crayon-i">root</span><span class="crayon-h"> </span><span class="crayon-cn">882K</span><span class="crayon-h"> </span><span class="crayon-i">Dec</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">7</span><span class="crayon-h"> </span><span class="crayon-cn">18</span><span class="crayon-o">:</span><span class="crayon-cn">17</span><span class="crayon-h"> </span><span class="crayon-v">bakcup</span><span class="crayon-sy">.</span><span class="crayon-i">sql</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe6f413166112-4"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">VIRMACH </span><span class="crayon-v">source</span><span class="crayon-sy">]</span><span class="crayon-p"># </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">mutt和7z还有数据库导出测试无误后.即可使用backup2mail脚本</div>
</div>
<div style="margin:0px;">
<hr>
</div>
<div style="margin:0px;"></div>
<div></div>
<div>
<h2>backup2mail.sh脚本</h2>
<div><span style="font-size: 1.5rem; color: inherit; line-height: 1.6;"><span data-wiz-span="data-wiz-span" style="font-size: 1rem;"><b>本sh脚本特点:</b></span></span></div>
</div>
<div>1、支持分卷压缩，将目标数据分割成指定的<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">附件</span>体积发送到邮箱作为存档备份。</div>
<div>2、可选7z、zip、tar三种压缩方式,默认使用7z.</div>
<div>3、支持文件夹、数据库的备份</div>
<h3>推荐脚本(<span>7z压缩方式&nbsp;</span>)&nbsp;<span style="font-size: 1.25rem; color: inherit; line-height: 1.6;">backup2mail.sh</span></h3>
<div>
<div class="wiz-code-container" id="wiz_cm_1505672913135_4800" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe71018470832" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/bin/bash

declare -a file         #此条重要勿改.声明file为数组变量
######## 必须修改的变量 ########
mail="xxxxxx@qq.com"        ###自定义.要发往的邮箱
svr_name="[www.luoji.men]"          ###自定义.生成备份文件和邮件的名称
##附件生成目录
dir_back=/home/root/backup2mail/   ###压缩包将保存的位置.一般使用/home/用户名/backup2mail/,或者/root/backup2mail/
##网站目录:
file[0]=/www/wwwroot/wordpress/  ###自定义.需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加
#file[1]=/www/wwwroot/rutorrent/  ###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写
##网站数据库mysql:
sql_user=用户名         ###自定义.你的mysql用户名 推荐使用root用户，以免出现权限问题
sql_pass=数据库密码        ###自定义.上面用户对应的密码
declare -a data         #声明data为数组变量
data[0]=数据库名称           ###自定义.这里填写要备份的数据库名 依旧一行一个 不够了自己加
#data[1]=mysql_db_2             ###可以添加多个数据库名 格式为 file[N]=路径 其中N请按顺序填写

######## 可不修改的变量 ########
str_time=$(date +"%Y-%m-%d")                                    #日期变量
title="Backup $svr_name $str_time"                              #邮件标题
text="$svr_name Backup File $str_time"                          #邮件内容文本

######## 目录初始化 ########
if [ -d $dir_back ]; then
    rm -rf $dir_back            #如果压缩包保存目录已经存在 则删除目录
fi
mkdir -p $dir_back              #创建压缩包将保存的目录
list=${dir_back}file.lst        #文件列表

######## crontab ####备份的项.导出cromtab计划任务并添加到list列表#### 
tsk_list=${dir_back}crontab-$str_time
crontab -l &gt;&gt; $tsk_list
echo $tsk_list &gt;&gt; $list

######## mysql ####备份的项.导出数据库并将文件路径添加到list列表#### 
for var in ${data[@]}; do
    sql_file=${dir_back}db-$var-$str_time.sql
    mysqldump -u$sql_user -p$sql_pass $var &gt; $sql_file
    echo $sql_file &gt;&gt; $list
done

######## files ####备份的项.文件目录路径添加到list列表#### 
for var in ${file[@]}; do
    echo $var &gt;&gt; $list
done

######## 压缩与分卷 含7z和zip和tar压缩方式 将不用的压缩方式注释 ########
####推荐.使用7z压缩可直接对目标进行分卷
z7z_split=${dir_back}$svr_name-backup-$str_time.split-7z         #变量必须英文开头 因此7z改成z7z
7za -v45m a $z7z_split `cat $list`

####使用zip压缩
#zip_file=${dir_back}$svr_name-backup-$str_time.zip              #zip必须先压缩才能分卷
#zip_split=${dir_back}$svr_name-backup-$str_time.split-zip.zip    #分卷后的压缩包文件名
#zip -r $zip_file `cat $list`                    #压缩目标位置 支持列表方式
#zip -s 45m /$zip_file --out $zip_split         #分卷存在的zip压缩包

####使用tar压缩
#tar_file=${dir_back}$svr_name-backup-$str_time.tar              #tar压缩包名称
#tar_split=${dir_back}$svr_name-backup-$str_time.split-tar.      #tar分卷名称
#tar zcPf $tar_file.gz `cat $list`                               #压缩目标位置 支持列表方式
#split -b 45m -a 3 -d $tar_file.gz $tar_split                    #分卷存在的tar压缩包

####### 发送邮件 ########
for var in ${dir_back}*split*; do           #匹配含有split字符的文件
    echo $var

    arr=(${dir_back}*split*)        #将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]标识当前邮件是总分卷邮件中的第几个
    num=${#arr[@]}                      #获取数组的总个数
    echo ${#arr[@]}

    let ++i     #i的值递增1
    echo $i

    echo "$text[$i/${#arr[@]}]"

echo "$text[$i/$num]" | mutt -s "$title[$i/$num]" $mail -a $var         #通过mutt发送附件 每个附件发送一封

    sleep 10s            #循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险
done</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-38">38</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-39">39</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-40">40</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-41">41</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-42">42</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-43">43</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-44">44</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-45">45</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-46">46</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-47">47</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-48">48</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-49">49</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-50">50</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-51">51</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-52">52</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-53">53</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-54">54</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-55">55</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-56">56</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-57">57</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-58">58</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-59">59</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-60">60</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-61">61</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-62">62</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-63">63</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-64">64</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-65">65</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-66">66</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-67">67</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-68">68</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-69">69</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-70">70</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-71">71</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-72">72</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-73">73</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-74">74</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-75">75</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-76">76</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-77">77</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-78">78</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-79">79</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-80">80</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe71018470832-81">81</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-1"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-3"><span class="crayon-r">declare</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-i">file</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#此条重要勿改.声明file为数组变量</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-4"><span class="crayon-p">######## 必须修改的变量 ########</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-5"><span class="crayon-v">mail</span><span class="crayon-o">=</span><span class="crayon-s">"xxxxxx@qq.com"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">###自定义.要发往的邮箱</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-6"><span class="crayon-v">svr_name</span><span class="crayon-o">=</span><span class="crayon-s">"[www.luoji.men]"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">###自定义.生成备份文件和邮件的名称</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-7"><span class="crayon-p">##附件生成目录</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-8"><span class="crayon-v">dir_back</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">backup2mail</span><span class="crayon-o">/</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-p">###压缩包将保存的位置.一般使用/home/用户名/backup2mail/,或者/root/backup2mail/</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-9"><span class="crayon-p">##网站目录:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-10"><span class="crayon-v">file</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">wwwroot</span><span class="crayon-o">/</span><span class="crayon-v">wordpress</span><span class="crayon-o">/</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-p">###自定义.需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-11"><span class="crayon-p">#file[1]=/www/wwwroot/rutorrent/&nbsp;&nbsp;###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-12"><span class="crayon-p">##网站数据库mysql:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-13"><span class="crayon-v">sql_user</span><span class="crayon-o">=</span>用户名<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">###自定义.你的mysql用户名 推荐使用root用户，以免出现权限问题</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-14"><span class="crayon-v">sql_pass</span><span class="crayon-o">=</span>数据库密码<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">###自定义.上面用户对应的密码</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-15"><span class="crayon-r">declare</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-i">data</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#声明data为数组变量</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-16"><span class="crayon-v">data</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-o">=</span>数据库名称<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">###自定义.这里填写要备份的数据库名 依旧一行一个 不够了自己加</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-17"><span class="crayon-p">#data[1]=mysql_db_2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ###可以添加多个数据库名 格式为 file[N]=路径 其中N请按顺序填写</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-18">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-19"><span class="crayon-p">######## 可不修改的变量 ########</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-20"><span class="crayon-v">str_time</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-s">"%Y-%m-%d"</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#日期变量</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-21"><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"Backup $svr_name $str_time"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#邮件标题</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-22"><span class="crayon-v">text</span><span class="crayon-o">=</span><span class="crayon-s">"$svr_name Backup File $str_time"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#邮件内容文本</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-24"><span class="crayon-p">######## 目录初始化 ########</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-25"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">dir</span><span class="crayon-sy">_</span>back<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rm</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">rf</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">dir</span><span class="crayon-sy">_</span>back<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#如果压缩包保存目录已经存在 则删除目录</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-27"><span class="crayon-e">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-28"><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">dir</span><span class="crayon-sy">_</span>back<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#创建压缩包将保存的目录</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-29"><span class="crayon-v">list</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-v">file</span><span class="crayon-sy">.</span><span class="crayon-i">lst</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#文件列表</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-30">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-31"><span class="crayon-p">######## crontab ####备份的项.导出cromtab计划任务并添加到list列表#### </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-32"><span class="crayon-v">tsk_list</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-v">crontab</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-e">str_time</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-33"><span class="crayon-v">crontab</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">l</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">tsk_list</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-34"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">tsk_list</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">list</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-36"><span class="crayon-p">######## mysql ####备份的项.导出数据库并将文件路径添加到list列表#### </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-37"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">data</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">do</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sql_file</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-v">db</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-v">str_time</span><span class="crayon-sy">.</span><span class="crayon-e">sql</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-39"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">mysqldump</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">u</span><span class="crayon-sy">$</span><span class="crayon-v">sql_user</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">p</span><span class="crayon-sy">$</span><span class="crayon-v">sql</span><span class="crayon-sy">_</span>pass<span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">sql_file</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-40"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">sql_file</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">list</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-41"><span class="crayon-i">done</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-42">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-43"><span class="crayon-p">######## files ####备份的项.文件目录路径添加到list列表#### </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-44"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">file</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">list</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-46"><span class="crayon-i">done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-48"><span class="crayon-p">######## 压缩与分卷 含7z和zip和tar压缩方式 将不用的压缩方式注释 ########</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-49"><span class="crayon-p">####推荐.使用7z压缩可直接对目标进行分卷</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-50"><span class="crayon-v">z7z_split</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-sy">$</span><span class="crayon-v">svr_name</span><span class="crayon-o">-</span><span class="crayon-v">backup</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-v">str_time</span><span class="crayon-sy">.</span><span class="crayon-v">split</span><span class="crayon-o">-</span><span class="crayon-cn">7z</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#变量必须英文开头 因此7z改成z7z</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-51"><span class="crayon-cn">7za</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v45m</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">z7z</span><span class="crayon-sy">_</span>split<span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-i">cat</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">list</span><span class="crayon-sy">`</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-52">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-53"><span class="crayon-p">####使用zip压缩</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-54"><span class="crayon-p">#zip_file=${dir_back}$svr_name-backup-$str_time.zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#zip必须先压缩才能分卷</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-55"><span class="crayon-p">#zip_split=${dir_back}$svr_name-backup-$str_time.split-zip.zip&nbsp;&nbsp;&nbsp;&nbsp;#分卷后的压缩包文件名</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-56"><span class="crayon-p">#zip -r $zip_file `cat $list`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#压缩目标位置 支持列表方式</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-57"><span class="crayon-p">#zip -s 45m /$zip_file --out $zip_split&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #分卷存在的zip压缩包</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-58">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-59"><span class="crayon-p">####使用tar压缩</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-60"><span class="crayon-p">#tar_file=${dir_back}$svr_name-backup-$str_time.tar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#tar压缩包名称</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-61"><span class="crayon-p">#tar_split=${dir_back}$svr_name-backup-$str_time.split-tar.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#tar分卷名称</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-62"><span class="crayon-p">#tar zcPf $tar_file.gz `cat $list`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #压缩目标位置 支持列表方式</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-63"><span class="crayon-p">#split -b 45m -a 3 -d $tar_file.gz $tar_split&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#分卷存在的tar压缩包</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-64">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-65"><span class="crayon-p">####### 发送邮件 ########</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-66"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-o">*</span><span class="crayon-e ">split*</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#匹配含有split字符的文件</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-68">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">arr</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-o">*</span><span class="crayon-e ">split*</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]标识当前邮件是总分卷邮件中的第几个</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">num</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#arr[@]}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#获取数组的总个数</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#arr[@]}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-72">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">let</span><span class="crayon-h"> </span><span class="crayon-o">++</span><span class="crayon-i">i</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#i的值递增1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">i</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-75">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"$text[$i/${#arr[@]}]"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-77">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-78"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"$text[$i/$num]"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">mutt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-s">"$title[$i/$num]"</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">mail</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#通过mutt发送附件 每个附件发送一封</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-79">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10s</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe71018470832-81"><span class="crayon-v">done</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0018 seconds] -->
</p>
<div></div>
</div>
</div>
<h2></h2>
<div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;"><b>脚本使用测试:</b></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">测试100M的网站文件夹,被压缩成36M附件的邮件发送完毕大约2分钟后qq邮箱可以查到这封新邮件&gt;</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;"><img src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_de4af56d-458a-49f5-8bc8-b4d661149f6e.jpg"></p>
<div>&nbsp;<img loading="lazy" class="alignnone size-full wp-image-2222" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_6cba7087-7e73-4f3e-9462-b510755b072e.jpg" width="497" height="383" alt="039c280ff790f5ba515130334672ed98_6cba7087-7e73-4f3e-9462-b510755b072e" title="039c280ff790f5ba515130334672ed98_6cba7087-7e73-4f3e-9462-b510755b072e" /><span style="font-weight:normal;font-size:1rem;">&nbsp;</span></p>
<div><b><br /></b></div>
<div><b>文件夹压缩率对比&gt;</b>&nbsp;</div>
</div>
</div>
<p>文件夹体积 107M.</p></div>
<div>7z压缩 36.9M.</div>
<div>宝塔tar.gz压缩 50.44M.</div>
<div>两个压缩包下载后解压对比无异:</div>
<p><img loading="lazy" class="alignnone size-full wp-image-2221" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_625ad534-94fb-415a-b306-dd3dd1da966d.jpg" width="798" height="206" alt="039c280ff790f5ba515130334672ed98_625ad534-94fb-415a-b306-dd3dd1da966d" title="039c280ff790f5ba515130334672ed98_625ad534-94fb-415a-b306-dd3dd1da966d" /><span></span></p>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;"><br /></b></div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">数据库压缩率对比&gt;</b></div>
<div class="wiz-code-container" id="wiz_cm_1512652306609_1065" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe74379083260" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
1.7M db-www_luoji_men-2017-12-07.sql
233K database7z.7z
331K  sqlbakup.sql.gz</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe74379083260-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe74379083260-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe74379083260-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe74379083260-1"><span class="crayon-cn">1.7M</span><span class="crayon-h"> </span><span class="crayon-v">db</span><span class="crayon-o">-</span><span class="crayon-v">www_luoji_men</span><span class="crayon-o">-</span><span class="crayon-cn">2017</span><span class="crayon-o">-</span><span class="crayon-cn">12</span><span class="crayon-o">-</span><span class="crayon-cn">07.sql</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe74379083260-2"><span class="crayon-cn">233K</span><span class="crayon-h"> </span><span class="crayon-v">database7z</span><span class="crayon-sy">.</span><span class="crayon-cn">7z</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe74379083260-3"><span class="crayon-cn">331K</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">sqlbakup</span><span class="crayon-sy">.</span><span class="crayon-v">sql</span><span class="crayon-sy">.</span><span class="crayon-v">gz</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
<div>不压缩导出数据库1.7M</div>
<div>7z压缩以上文件后:233K</div>
<div>使用gz压缩方式导出数据库331K</div>
<div>结论:还是7z优秀.</div>
<div></div>
<div></div>
<h3>
<hr>
<p>脚本二(zip压缩方式)</h3>
<div><span>分卷</span>压缩、通过mutt发送邮件</div>
<div>文件+数据库+计划任务版本</div>
<div>脚本维护时间&gt;2017年9月17日20:00</div>
<div class="wiz-code-container" id="wiz_cm_1505649606548_9097" data-mode="Shell" data-theme="default"></p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe75302972796" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/bin/bash
######## 需要自定义修改的变量 ########
svr_name="[luoji.men]"          ###修改备份的名称
dir_back=/root/mail-test/backup/   ###修改压缩包保存位置
mail="xxxxx@qq.com"        ###修改要发往的邮箱

declare -a file                 #声明file为数组变量
file[0]=/root/mail-test/file/   ###修改需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加
file[1]=/root/mail-test/file2/  ###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写

sql_user=数据库用户名          ###修改你的mysql用户名 推荐使用root用户，以免出现权限问题
sql_pass=数据库密码        ###修改上面的用户对应的密码
declare -a data                 #声明data为数组变量
data[0]=数据库名           ###修改这里填写要备份的数据库名 依旧一行一个 不够了自己加
#data[1]=mysql_db_2             ###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写

######## 不需要修改的变量 ########
str_time=$(date +"%Y-%m-%d")                                    #日期变量
zip_file=${dir_back}$svr_name-backup-$str_time.zip              #压缩包文件名
zip_split=${dir_back}$svr_name-backup-$str_time.zipsplit.zip    #分卷后的压缩包文件名
title="Backup File $str_time $svr_name"                         #邮件标题
text="$svr_name Backup File $str_time"                          #邮件内容文本

######## 目录初始化 ########
if [ -d $dir_back ]; then
    rm -rf $dir_back            #如果压缩包保存目录已经存在 则删除目录
fi
mkdir -p $dir_back              #创建压缩包保存目录
list=${dir_back}file.lst        #文件列表

######## crontab ####计划任务备份#### 
tsk_list=${dir_back}crontab-$str_time
crontab -l &gt;&gt; $tsk_list
echo $tsk_list &gt;&gt; $list

######## mysql ####数据库备份#### 
for var in ${data[@]}; do
    sql_file=${dir_back}db-$var-$str_time.sql
    mysqldump -u$sql_user -p$sql_pass $var &gt; $sql_file
    echo $sql_file &gt;&gt; $list
done

######## files ####文件备份#### 
for var in ${file[@]}; do
    echo $var &gt;&gt; $list
done

######## 压缩与分卷 ########
zip -r $zip_file `cat $list`                    #压缩目标位置 支持列表方式
zip -s 300k /$zip_file --out $zip_split         #分卷存在的压缩包

####### 发送邮件 ########
for var in ${dir_back}*zipsplit.*; do           #匹配含有zipsplit字符的文件
    echo $var

    arr=(${dir_back}*zipsplit.*)        #将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]是总分卷附件中的第几个
    num=${#arr[@]}                      #获取数组的总个数
    echo ${#arr[@]}

    let ++i     #i的值递增1
    echo $i

    echo "$text[$i/${#arr[@]}]"

echo "$text[$i/$num]" | mutt -s "$title[$i/$num]" $mail -a $var         #通过mutt发送附件 每个附件发送一封

    sleep 3s            #循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险
done</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-38">38</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-39">39</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-40">40</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-41">41</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-42">42</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-43">43</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-44">44</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-45">45</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-46">46</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-47">47</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-48">48</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-49">49</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-50">50</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-51">51</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-52">52</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-53">53</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-54">54</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-55">55</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-56">56</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-57">57</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-58">58</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-59">59</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-60">60</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-61">61</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-62">62</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-63">63</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-64">64</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-65">65</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-66">66</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-67">67</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe75302972796-68">68</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-1"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-2"><span class="crayon-p">######## 需要自定义修改的变量 ########</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-3"><span class="crayon-v">svr_name</span><span class="crayon-o">=</span><span class="crayon-s">"[luoji.men]"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">###修改备份的名称</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-4"><span class="crayon-v">dir_back</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">mail</span><span class="crayon-o">-</span><span class="crayon-v">test</span><span class="crayon-o">/</span><span class="crayon-v">backup</span><span class="crayon-o">/</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-p">###修改压缩包保存位置</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-5"><span class="crayon-v">mail</span><span class="crayon-o">=</span><span class="crayon-s">"xxxxx@qq.com"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">###修改要发往的邮箱</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-6">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-7"><span class="crayon-r">declare</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-i">file</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#声明file为数组变量</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-8"><span class="crayon-v">file</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">mail</span><span class="crayon-o">-</span><span class="crayon-v">test</span><span class="crayon-o">/</span><span class="crayon-v">file</span><span class="crayon-o">/</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-p">###修改需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-9"><span class="crayon-v">file</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">mail</span><span class="crayon-o">-</span><span class="crayon-v">test</span><span class="crayon-o">/</span><span class="crayon-v">file2</span><span class="crayon-o">/</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-p">###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-10">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-11"><span class="crayon-v">sql_user</span><span class="crayon-o">=</span>数据库用户名<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">###修改你的mysql用户名 推荐使用root用户，以免出现权限问题</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-12"><span class="crayon-v">sql_pass</span><span class="crayon-o">=</span>数据库密码<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">###修改上面的用户对应的密码</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-13"><span class="crayon-r">declare</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-i">data</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#声明data为数组变量</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-14"><span class="crayon-v">data</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-o">=</span>数据库名<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">###修改这里填写要备份的数据库名 依旧一行一个 不够了自己加</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-15"><span class="crayon-p">#data[1]=mysql_db_2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-16">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-17"><span class="crayon-p">######## 不需要修改的变量 ########</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-18"><span class="crayon-v">str_time</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-s">"%Y-%m-%d"</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#日期变量</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-19"><span class="crayon-v">zip_file</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-sy">$</span><span class="crayon-v">svr_name</span><span class="crayon-o">-</span><span class="crayon-v">backup</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-v">str_time</span><span class="crayon-sy">.</span><span class="crayon-i">zip</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#压缩包文件名</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-20"><span class="crayon-v">zip_split</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-sy">$</span><span class="crayon-v">svr_name</span><span class="crayon-o">-</span><span class="crayon-v">backup</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-v">str_time</span><span class="crayon-sy">.</span><span class="crayon-v">zipsplit</span><span class="crayon-sy">.</span><span class="crayon-i">zip</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#分卷后的压缩包文件名</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-21"><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"Backup File $str_time $svr_name"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#邮件标题</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-22"><span class="crayon-v">text</span><span class="crayon-o">=</span><span class="crayon-s">"$svr_name Backup File $str_time"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#邮件内容文本</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-24"><span class="crayon-p">######## 目录初始化 ########</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-25"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">dir</span><span class="crayon-sy">_</span>back<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rm</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">rf</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">dir</span><span class="crayon-sy">_</span>back<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#如果压缩包保存目录已经存在 则删除目录</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-27"><span class="crayon-e">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-28"><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">dir</span><span class="crayon-sy">_</span>back<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#创建压缩包保存目录</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-29"><span class="crayon-v">list</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-v">file</span><span class="crayon-sy">.</span><span class="crayon-i">lst</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#文件列表</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-30">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-31"><span class="crayon-p">######## crontab ####计划任务备份#### </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-32"><span class="crayon-v">tsk_list</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-e">crontab</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-e">str_time</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-33"><span class="crayon-e">crontab</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">l</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">tsk_list</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-34"><span class="crayon-e">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">tsk_list</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">list</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-36"><span class="crayon-p">######## mysql ####数据库备份#### </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-37"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">data</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">do</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sql_file</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-v">db</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-v">str_time</span><span class="crayon-sy">.</span><span class="crayon-e">sql</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-39"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">mysqldump</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">u</span><span class="crayon-sy">$</span><span class="crayon-e">sql_user</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">p</span><span class="crayon-sy">$</span><span class="crayon-e">sql_pass</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">sql_file</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">sql_file</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">list</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-41"><span class="crayon-e">done</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-42">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-43"><span class="crayon-p">######## files ####文件备份#### </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-44"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">file</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">list</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-46"><span class="crayon-e">done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-48"><span class="crayon-p">######## 压缩与分卷 ########</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-49"><span class="crayon-e">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">r</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">zip_file</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-e">cat</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">list</span><span class="crayon-sy">`</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#压缩目标位置 支持列表方式</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-50"><span class="crayon-e">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-cn">300k</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-sy">$</span><span class="crayon-e">zip_file</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">out</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">zip_split</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#分卷存在的压缩包</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-52"><span class="crayon-p">####### 发送邮件 ########</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-53"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-o">*</span><span class="crayon-v">zipsplit</span><span class="crayon-sy">.</span><span class="crayon-o">*</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#匹配含有zipsplit字符的文件</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">arr</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-o">*</span><span class="crayon-v">zipsplit</span><span class="crayon-sy">.</span><span class="crayon-o">*</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]是总分卷附件中的第几个</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">num</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#arr[@]}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#获取数组的总个数</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#arr[@]}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-59">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">let</span><span class="crayon-h"> </span><span class="crayon-o">++</span><span class="crayon-i">i</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#i的值递增1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">i</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-62">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"$text[$i/${#arr[@]}]"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-64">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-65"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"$text[$i/$num]"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">mutt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-s">"$title[$i/$num]"</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">mail</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p">#通过mutt发送附件 每个附件发送一封</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-66">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">3s</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe75302972796-68"><span class="crayon-v">done</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p></p>
<div></div>
</div>
<div><span style="text-align: start; text-indent: 0px; display: inline !important;"><br /></span></div>
<h3>脚本三(zip压缩方式.不含数据库)&nbsp;</h3>
<div>脚本维护时间&gt;2017年9月16日21:55:43</div>
<div class="wiz-code-container" id="wiz_cm_1505570149225_4129" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe78745026639" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@vultr mail-test]# cat zipmail.sh
#!/bin/bash
# This script run at 02:00 every Tuesday

svr_name="[luoji.men]" #备份的名称
dir_back=/root/mail-test/zip/ #压缩包保存位置
mail="xxxxx@qq.com" #要发往的邮箱

declare -a file #声明file为数组变量
file[0]=/root/mail-test/file/ #需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加
file[1]=/root/mail-test/file2/ #可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写

###########################

str_time=$(date +"%Y-%m-%d") #日期变量
zip_file=${dir_back}$svr_name-backup-$str_time.zip #压缩包文件名
zip_split=${dir_back}$svr_name-backup-$str_time.zipsplit.zip #分卷后的压缩包文件名
title="Backup File $str_time $svr_name" #邮件标题
text="$svr_name Backup File $str_time" #邮件内容文本

####################################

if [ -d $dir_back ]; then
    rm -rf $dir_back #如果压缩包保存目录已经存在 则删除目录
fi

mkdir -p $dir_back #创建压缩包保存目录

list=${dir_back}file.lst #文件列表

# files
for var in ${file[@]}; do
    echo $var &gt;&gt; $list
done

zip -r $zip_file `cat $list`  #压缩目标位置 支持列表方式
zip -s 100k /$zip_file --out $zip_split #分卷压缩包

#######
for var in ${dir_back}*zipsplit.*; do #匹配含有zipsplit字符的文件
    echo $var

    arr=(${dir_back}*zipsplit.*) #将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]是总分卷附件中的第几个
    num=${#arr[@]} #获取数组的总个数
    echo ${#arr[@]}

    let ++i #i的值递增1
    echo $i

    echo "$text[$i/${#arr[@]}]"

echo "$text[$i/$num]" | mutt -s "$title[$i/$num]" $mail -a $var #通过mutt发送附件 每个附件发送一封

    sleep 3s #循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险
done</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-38">38</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-39">39</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-40">40</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-41">41</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-42">42</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-43">43</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-44">44</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-45">45</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-46">46</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-47">47</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-48">48</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-49">49</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-50">50</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-51">51</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-52">52</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-53">53</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-54">54</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe78745026639-55">55</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">vultr </span><span class="crayon-v">mail</span><span class="crayon-o">-</span><span class="crayon-v">test</span><span class="crayon-sy">]</span><span class="crayon-p"># cat zipmail.sh</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-2"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-3"><span class="crayon-p"># This script run at 02:00 every Tuesday</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-4">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-5"><span class="crayon-v">svr_name</span><span class="crayon-o">=</span><span class="crayon-s">"[luoji.men]"</span><span class="crayon-h"> </span><span class="crayon-p">#备份的名称</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-6"><span class="crayon-v">dir_back</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">mail</span><span class="crayon-o">-</span><span class="crayon-v">test</span><span class="crayon-o">/</span><span class="crayon-v">zip</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-p">#压缩包保存位置</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-7"><span class="crayon-v">mail</span><span class="crayon-o">=</span><span class="crayon-s">"xxxxx@qq.com"</span><span class="crayon-h"> </span><span class="crayon-p">#要发往的邮箱</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-8">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-9"><span class="crayon-r">declare</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-i">file</span><span class="crayon-h"> </span><span class="crayon-p">#声明file为数组变量</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-10"><span class="crayon-v">file</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">mail</span><span class="crayon-o">-</span><span class="crayon-v">test</span><span class="crayon-o">/</span><span class="crayon-v">file</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-p">#需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-11"><span class="crayon-v">file</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">mail</span><span class="crayon-o">-</span><span class="crayon-v">test</span><span class="crayon-o">/</span><span class="crayon-v">file2</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-p">#可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-12">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-13"><span class="crayon-p">###########################</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-14">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-15"><span class="crayon-v">str_time</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-s">"%Y-%m-%d"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-p">#日期变量</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-16"><span class="crayon-v">zip_file</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-sy">$</span><span class="crayon-v">svr_name</span><span class="crayon-o">-</span><span class="crayon-v">backup</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-v">str_time</span><span class="crayon-sy">.</span><span class="crayon-i">zip</span><span class="crayon-h"> </span><span class="crayon-p">#压缩包文件名</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-17"><span class="crayon-v">zip_split</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-sy">$</span><span class="crayon-v">svr_name</span><span class="crayon-o">-</span><span class="crayon-v">backup</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-v">str_time</span><span class="crayon-sy">.</span><span class="crayon-v">zipsplit</span><span class="crayon-sy">.</span><span class="crayon-i">zip</span><span class="crayon-h"> </span><span class="crayon-p">#分卷后的压缩包文件名</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-18"><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"Backup File $str_time $svr_name"</span><span class="crayon-h"> </span><span class="crayon-p">#邮件标题</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-19"><span class="crayon-v">text</span><span class="crayon-o">=</span><span class="crayon-s">"$svr_name Backup File $str_time"</span><span class="crayon-h"> </span><span class="crayon-p">#邮件内容文本</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-20">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-21"><span class="crayon-p">####################################</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-22">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-23"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">dir</span><span class="crayon-sy">_</span>back<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rm</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">rf</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">dir</span><span class="crayon-sy">_</span>back<span class="crayon-h"> </span><span class="crayon-p">#如果压缩包保存目录已经存在 则删除目录</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-25"><span class="crayon-e">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-26">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-27"><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">dir</span><span class="crayon-sy">_</span>back<span class="crayon-h"> </span><span class="crayon-p">#创建压缩包保存目录</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-28">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-29"><span class="crayon-v">list</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-v">file</span><span class="crayon-sy">.</span><span class="crayon-i">lst</span><span class="crayon-h"> </span><span class="crayon-p">#文件列表</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-30">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-31"><span class="crayon-p"># files</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-32"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">file</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">list</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-34"><span class="crayon-e">done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-36"><span class="crayon-e">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">r</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">zip_file</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-e">cat</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">list</span><span class="crayon-sy">`</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-p">#压缩目标位置 支持列表方式</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-37"><span class="crayon-e">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-cn">100k</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-sy">$</span><span class="crayon-e">zip_file</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">out</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">zip_split</span><span class="crayon-h"> </span><span class="crayon-p">#分卷压缩包</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-38">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-39"><span class="crayon-p">#######</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-40"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-o">*</span><span class="crayon-v">zipsplit</span><span class="crayon-sy">.</span><span class="crayon-o">*</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-p">#匹配含有zipsplit字符的文件</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-42">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">arr</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-o">*</span><span class="crayon-v">zipsplit</span><span class="crayon-sy">.</span><span class="crayon-o">*</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-p">#将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]是总分卷附件中的第几个</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">num</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#arr[@]} #获取数组的总个数</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#arr[@]}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-46">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">let</span><span class="crayon-h"> </span><span class="crayon-o">++</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-p">#i的值递增1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">i</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"$text[$i/${#arr[@]}]"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-52"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"$text[$i/$num]"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">mutt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-s">"$title[$i/$num]"</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">mail</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-p">#通过mutt发送附件 每个附件发送一封</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">3s</span><span class="crayon-h"> </span><span class="crayon-p">#循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe78745026639-55"><span class="crayon-v">done</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
</p>
<div></div>
</div>
<div></div>
<div>
<h3>脚本四(tar压缩方式.不含数据库)</h3>
<div>/bin/bash /your-script-path/backup.sh</div>
<div></div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512589254057_5683"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe7a228874793" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/bin/bash

str_time=$(date +"%Y-%m-%d")
dir_back=/home/backup/
tar_file=${dir_back}backup-$str_time.tar

mail="xxxx@qq.com" #在这里设定收件人地址
title="Backup File $str_time luoji.men"
text="luoji.men Backup File $str_time" #这里可以设置邮件的标题 最后的$str_time不要动

declare -a file
file[0]=/www/backup/luoji_men #在这里设置需要备份的内容  每行可设置一个文件或文件夹 如果数量不够可以自己加
#file[1]=/other-file          #格式为   file[N]=路径    其中 N请按顺序填写
####################################

if [ -d $dir_back ]; then
    rm -rf $dir_back
fi

mkdir -p $dir_back

list=${dir_back}file.lst

# files
for var in ${file[@]}; do
    echo $var &gt;&gt; $list
done

tar zcPf $tar_file.gz `cat $list`

split -b 20m -a 3 -d $tar_file.gz ${dir_back}backup-$str_time.part.
#cat ${dir_back}backup-* &gt; ${dir_back}backup.tar.gz

for var in ${dir_back}*.part.*; do
    echo "$text" | mutt -s "$title" $mail -a $var #var为附件
    sleep 30s
done</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7a228874793-37">37</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-1"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-3"><span class="crayon-v">str_time</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-s">"%Y-%m-%d"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-4"><span class="crayon-v">dir_back</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">backup</span><span class="crayon-o">/</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-5"><span class="crayon-v">tar_file</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-v">backup</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-v">str_time</span><span class="crayon-sy">.</span><span class="crayon-e">tar</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-6">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-7"><span class="crayon-v">mail</span><span class="crayon-o">=</span><span class="crayon-s">"xxxx@qq.com"</span><span class="crayon-h"> </span><span class="crayon-p">#在这里设定收件人地址</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-8"><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"Backup File $str_time luoji.men"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-9"><span class="crayon-v">text</span><span class="crayon-o">=</span><span class="crayon-s">"luoji.men Backup File $str_time"</span><span class="crayon-h"> </span><span class="crayon-p">#这里可以设置邮件的标题 最后的$str_time不要动</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-10">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-11"><span class="crayon-r">declare</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">file</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-12"><span class="crayon-v">file</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">www</span><span class="crayon-o">/</span><span class="crayon-v">backup</span><span class="crayon-o">/</span><span class="crayon-v">luoji</span><span class="crayon-sy">_</span>men<span class="crayon-h"> </span><span class="crayon-p">#在这里设置需要备份的内容&nbsp;&nbsp;每行可设置一个文件或文件夹 如果数量不够可以自己加</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-13"><span class="crayon-p">#file[1]=/other-file&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#格式为&nbsp;&nbsp; file[N]=路径&nbsp;&nbsp;&nbsp;&nbsp;其中 N请按顺序填写</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-14"><span class="crayon-p">####################################</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-16"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">dir</span><span class="crayon-sy">_</span>back<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rm</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">rf</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">dir_back</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-18"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-20"><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">dir_back</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-22"><span class="crayon-v">list</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-v">file</span><span class="crayon-sy">.</span><span class="crayon-i">lst</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-24"><span class="crayon-p"># files</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-25"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">file</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">do</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">list</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-27"><span class="crayon-e">done</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-28">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-29"><span class="crayon-e">tar </span><span class="crayon-i">zcPf</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">tar_file</span><span class="crayon-sy">.</span><span class="crayon-i">gz</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-i">cat</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">list</span><span class="crayon-sy">`</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-30">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-31"><span class="crayon-v">split</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">b</span><span class="crayon-h"> </span><span class="crayon-cn">20m</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">tar_file</span><span class="crayon-sy">.</span><span class="crayon-i">gz</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-v">backup</span><span class="crayon-o">-</span><span class="crayon-sy">$</span><span class="crayon-v">str_time</span><span class="crayon-sy">.</span><span class="crayon-v">part</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-32"><span class="crayon-p">#cat ${dir_back}backup-* &gt; ${dir_back}backup.tar.gz</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-34"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">dir_back</span><span class="crayon-sy">}</span><span class="crayon-o">*</span><span class="crayon-sy">.</span><span class="crayon-v">part</span><span class="crayon-sy">.</span><span class="crayon-o">*</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"$text"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">mutt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-s">"$title"</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">mail</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-p">#var为附件</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">30s</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7a228874793-37"><span class="crayon-v">done</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
</p>
<div></div>
</div>
<div></div>
<p></div>
<div></div>
<div>
<hr>
</div>
<h2></h2>
<div>
<div style="margin: 0px; color: rgb(0, 0, 0); font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif; font-size: 1rem; font-style: normal; text-align: start; text-indent: 0px;"></div>
</div>
<h2>参考文献</h2>
<h3>mysql备份与还原&nbsp;</h3>
<div>http://www.cnblogs.com/Cherie/p/3309456.html</div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505644523183_6193" data-mode="Shell" data-theme="default"></p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe7b036522492" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
一、备份常用操作基本命令
1、备份命令mysqldump格式
    格式：mysqldump -h主机名  -P端口 -u用户名 -p密码 –database 数据库名 &gt; 文件名.sql 
2、备份MySQL数据库为带删除表的格式
    备份MySQL数据库为带删除表的格式，能够让该备份覆盖已有数据库而不需要手动删除原有数据库。
    mysqldump  --add-drop-table -uusername -ppassword -database databasename &gt; backupfile.sql
3、直接将MySQL数据库压缩备份
    mysqldump -hhostname -uusername -ppassword -database databasename | gzip &gt; backupfile.sql.gz

二、增量备份
小量的数据库可以每天进行完整备份，因为这也用不了多少时间，但当数据库很大时，就不太可能每天进行一次完整备份了，这时候就可以使用增量备份。增量备份的原理就是使用了mysql的binlog志。
1、首先做一次完整备份：
    mysqldump -h10.6.208.183 -utest2 -p123  -P3310 --single-transaction  --master-data=2  test&gt;test.sql这时候就会得到一个全备文件test.sql
在sql文件中我们会看到：
    -- CHANGE MASTER TO MASTER_LOG_FILE='bin-log.000002', MASTER_LOG_POS=107;是指备份后所有的更改将会保存到bin-log.000002二进制文件中。
2、在test库的t_student表中增加两条记录，然后执行flush logs命令。这时将会产生一个新的二进制日志文件bin-log.000003，bin-log.000002则保存了全备过后的所有更改，既增加记录的操作也保存在了bin-log.00002中。
3、再在test库中的a表中增加两条记录，然后误删除t_student表和a表。a中增加记录的操作和删除表a和t_student的操作都记录在bin-log.000003中。

三、恢复
1、首先导入全备数据
    mysql -h10.6.208.183 -utest2 -p123  -P3310 &lt; test.sql，也可以直接在mysql命令行下面用source导入
2、恢复bin-log.000002
    mysqlbinlog bin-log.000002 |mysql -h10.6.208.183 -utest2 -p123  -P3310  
3、恢复部分 bin-log.000003
    在general_log中找到误删除的时间点，然后更加对应的时间点到bin-log.000003中找到相应的position点，需要恢复到误删除的前面一个position点。
可以用如下参数来控制binlog的区间
    --start-position 开始点 --stop-position 结束点
    --start-date 开始时间  --stop-date  结束时间
找到恢复点后，既可以开始恢复。
    mysqlbinlog mysql-bin.000003 --stop-position=208 |mysql -h10.6.208.183 -utest2 -p123  -P3310 </textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7b036522492-30">30</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-1">一、备份常用操作基本命令</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-2"><span class="crayon-cn">1</span>、备份命令<span class="crayon-i">mysqldump</span>格式</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>格式：<span class="crayon-v">mysqldump</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">h</span>主机名<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">-</span><span class="crayon-i">P</span>端口<span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">u</span>用户名<span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span>密码<span class="crayon-h"> </span>–<span class="crayon-i">database</span><span class="crayon-h"> </span>数据库名<span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>文件名<span class="crayon-sy">.</span><span class="crayon-i">sql</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-4"><span class="crayon-cn">2</span>、备份<span class="crayon-i">MySQL</span>数据库为带删除表的格式</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>备份<span class="crayon-i">MySQL</span>数据库为带删除表的格式，能够让该备份覆盖已有数据库而不需要手动删除原有数据库。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">mysqldump</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-v">add</span><span class="crayon-o">-</span><span class="crayon-v">drop</span><span class="crayon-o">-</span><span class="crayon-v">table</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">uusername</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">ppassword</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">database </span><span class="crayon-v">databasename</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">backupfile</span><span class="crayon-sy">.</span><span class="crayon-i">sql</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-7"><span class="crayon-cn">3</span>、直接将<span class="crayon-i">MySQL</span>数据库压缩备份</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">mysqldump</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">hhostname</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">uusername</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">ppassword</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">database </span><span class="crayon-v">databasename</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">gzip</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">backupfile</span><span class="crayon-sy">.</span><span class="crayon-v">sql</span><span class="crayon-sy">.</span><span class="crayon-i">gz</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-10">二、增量备份</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-11">小量的数据库可以每天进行完整备份，因为这也用不了多少时间，但当数据库很大时，就不太可能每天进行一次完整备份了，这时候就可以使用增量备份。增量备份的原理就是使用了<span class="crayon-i">mysql</span>的<span class="crayon-i">binlog</span>志。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-12"><span class="crayon-cn">1</span>、首先做一次完整备份：</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">mysqldump</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">h10</span><span class="crayon-sy">.</span><span class="crayon-cn">6.208.183</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">utest2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">p123</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">-</span><span class="crayon-v">P3310</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">single</span><span class="crayon-o">-</span><span class="crayon-v">transaction</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-v">master</span><span class="crayon-o">-</span><span class="crayon-v">data</span><span class="crayon-o">=</span><span class="crayon-cn">2</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">test</span><span class="crayon-o">&gt;</span><span class="crayon-v">test</span><span class="crayon-sy">.</span><span class="crayon-i">sql</span>这时候就会得到一个全备文件<span class="crayon-v">test</span><span class="crayon-sy">.</span><span class="crayon-i">sql</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-14">在<span class="crayon-i">sql</span>文件中我们会看到：</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-h"> </span><span class="crayon-e">CHANGE </span><span class="crayon-e">MASTER </span><span class="crayon-st">TO</span><span class="crayon-h"> </span><span class="crayon-v">MASTER_LOG_FILE</span><span class="crayon-o">=</span><span class="crayon-s">'bin-log.000002'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">MASTER_LOG_POS</span><span class="crayon-o">=</span><span class="crayon-cn">107</span><span class="crayon-sy">;</span>是指备份后所有的更改将会保存到<span class="crayon-v">bin</span><span class="crayon-o">-</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-cn">000002</span>二进制文件中。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-16"><span class="crayon-cn">2</span>、在<span class="crayon-i">test</span>库的<span class="crayon-v">t</span><span class="crayon-sy">_</span>student表中增加两条记录，然后执行<span class="crayon-e">flush </span><span class="crayon-i">logs</span>命令。这时将会产生一个新的二进制日志文件<span class="crayon-v">bin</span><span class="crayon-o">-</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-cn">000003</span>，<span class="crayon-v">bin</span><span class="crayon-o">-</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-cn">000002</span>则保存了全备过后的所有更改，既增加记录的操作也保存在了<span class="crayon-v">bin</span><span class="crayon-o">-</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-cn">00002</span>中。</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-17"><span class="crayon-cn">3</span>、再在<span class="crayon-i">test</span>库中的<span class="crayon-i">a</span>表中增加两条记录，然后误删除<span class="crayon-v">t</span><span class="crayon-sy">_</span>student表和<span class="crayon-i">a</span>表。<span class="crayon-i">a</span>中增加记录的操作和删除表<span class="crayon-i">a</span>和<span class="crayon-v">t</span><span class="crayon-sy">_</span>student的操作都记录在<span class="crayon-v">bin</span><span class="crayon-o">-</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-cn">000003</span>中。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-18">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-19">三、恢复</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-20"><span class="crayon-cn">1</span>、首先导入全备数据</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">mysql</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">h10</span><span class="crayon-sy">.</span><span class="crayon-cn">6.208.183</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">utest2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">p123</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">-</span><span class="crayon-v">P3310</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">test</span><span class="crayon-sy">.</span><span class="crayon-i">sql</span>，也可以直接在<span class="crayon-i">mysql</span>命令行下面用<span class="crayon-i">source</span>导入</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-22"><span class="crayon-cn">2</span>、恢复<span class="crayon-v">bin</span><span class="crayon-o">-</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-cn">000002</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">mysqlbinlog </span><span class="crayon-v">bin</span><span class="crayon-o">-</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-cn">000002</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-v">mysql</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">h10</span><span class="crayon-sy">.</span><span class="crayon-cn">6.208.183</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">utest2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">p123</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">-</span><span class="crayon-i">P3310</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-24"><span class="crayon-cn">3</span>、恢复部分<span class="crayon-h"> </span><span class="crayon-v">bin</span><span class="crayon-o">-</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-cn">000003</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>在<span class="crayon-v">general</span><span class="crayon-sy">_</span>log中找到误删除的时间点，然后更加对应的时间点到<span class="crayon-v">bin</span><span class="crayon-o">-</span><span class="crayon-v">log</span><span class="crayon-sy">.</span><span class="crayon-cn">000003</span>中找到相应的<span class="crayon-i">position</span>点，需要恢复到误删除的前面一个<span class="crayon-i">position</span>点。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-26">可以用如下参数来控制<span class="crayon-i">binlog</span>的区间</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-v">start</span><span class="crayon-o">-</span><span class="crayon-i">position</span><span class="crayon-h"> </span>开始点<span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">stop</span><span class="crayon-o">-</span><span class="crayon-i">position</span><span class="crayon-h"> </span>结束点</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-v">start</span><span class="crayon-o">-</span><span class="crayon-i">date</span><span class="crayon-h"> </span>开始时间<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-v">stop</span><span class="crayon-o">-</span><span class="crayon-i">date</span><span class="crayon-h">&nbsp;&nbsp;</span>结束时间</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-29">找到恢复点后，既可以开始恢复。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7b036522492-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">mysqlbinlog </span><span class="crayon-v">mysql</span><span class="crayon-o">-</span><span class="crayon-v">bin</span><span class="crayon-sy">.</span><span class="crayon-cn">000003</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">stop</span><span class="crayon-o">-</span><span class="crayon-v">position</span><span class="crayon-o">=</span><span class="crayon-cn">208</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-v">mysql</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">h10</span><span class="crayon-sy">.</span><span class="crayon-cn">6.208.183</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">utest2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">p123</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">-</span><span class="crayon-i">P3310</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0744 seconds] -->
<p></p>
<div></div>
</div>
</div>
<h3><span style="font-size: 1rem; line-height: 1.6; font-weight: bold; color: inherit;"><span data-wiz-span="data-wiz-span" style="font-size: 1.167rem;">Linux使用Mutt发送邮件/附件</span>&nbsp;</span><br /></h3>
<div><span style="font-size: 1rem; line-height: 1.6;">http://www.isucc.me/129.html</span></div>
<div class="wiz-code-container" id="wiz_cm_1505574966054_192" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe7d879343248" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Centos安装 # 
yum install -y mutt
2.使用方法
最简单的测试方法
echo "Test" | mutt -s "Title" xxxx@qq.com
带附件的
echo "Test" | mutt -s "mysql backup" -a /mysql.tar.gz xxxx@qq.com</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7d879343248-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7d879343248-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7d879343248-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7d879343248-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7d879343248-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7d879343248-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7d879343248-7">7</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7d879343248-1"><span class="crayon-i">Centos</span>安装<span class="crayon-h"> </span><span class="crayon-p"># </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7d879343248-2"><span class="crayon-e">yum </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">y</span><span class="crayon-h"> </span><span class="crayon-i">mutt</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7d879343248-3"><span class="crayon-cn">2.</span>使用方法</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7d879343248-4">最简单的测试方法</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7d879343248-5"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"Test"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">mutt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-s">"Title"</span><span class="crayon-h"> </span><span class="crayon-v">xxxx</span><span class="crayon-sy">@</span><span class="crayon-v">qq</span><span class="crayon-sy">.</span><span class="crayon-i">com</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7d879343248-6">带附件的</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7d879343248-7"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"Test"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">mutt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-s">"mysql backup"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">mysql</span><span class="crayon-sy">.</span><span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-e">gz </span><span class="crayon-v">xxxx</span><span class="crayon-sy">@</span><span class="crayon-v">qq</span><span class="crayon-sy">.</span><span class="crayon-v">com</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
</p>
<div></div>
</div>
<h3>VPS 自动备份脚本&nbsp;</h3>
<div><span style="font-size: 1rem; line-height: 1.6;">https://blog.onens.com/auto-backup-bash.html</span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505574995083_8028" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe7e343116439" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
没事自己写了两个脚本，一个是备份网站文件，另一个是备份数据库和配置文件，并把备份文件发送到邮箱。
安装 mutt：
yum install mutt

vim ~/.muttrc
# Add the following
set envelope_from=yes
set from=backup@yourdomain.com
set realname="Backup"
set use_from=yes

backup.sh：
config.sh：

crontab：
0 2 * * 2 /bin/bash /your-script-path/backup.sh
0 1 * * * /bin/bash /your-script-path/config.sh</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe7e343116439-17">17</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-1">没事自己写了两个脚本，一个是备份网站文件，另一个是备份数据库和配置文件，并把备份文件发送到邮箱。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-2">安装<span class="crayon-h"> </span><span class="crayon-i">mutt</span>：</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-3"><span class="crayon-e">yum </span><span class="crayon-e">install </span><span class="crayon-e">mutt</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-4">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-5"><span class="crayon-v">vim</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-i">muttrc</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-6"><span class="crayon-p"># Add the following</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-7"><span class="crayon-e">set </span><span class="crayon-v">envelope_from</span><span class="crayon-o">=</span><span class="crayon-e">yes</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-8"><span class="crayon-e">set </span><span class="crayon-v">from</span><span class="crayon-o">=</span><span class="crayon-v">backup</span><span class="crayon-sy">@</span><span class="crayon-v">yourdomain</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-9"><span class="crayon-e">set </span><span class="crayon-v">realname</span><span class="crayon-o">=</span><span class="crayon-s">"Backup"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-10"><span class="crayon-e">set </span><span class="crayon-v">use_from</span><span class="crayon-o">=</span><span class="crayon-e">yes</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-12"><span class="crayon-v">backup</span><span class="crayon-sy">.</span><span class="crayon-i">sh</span>：</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-13"><span class="crayon-v">config</span><span class="crayon-sy">.</span><span class="crayon-i">sh</span>：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-14">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-15"><span class="crayon-i">crontab</span>：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-16"><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">bash</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">your</span><span class="crayon-o">-</span><span class="crayon-v">script</span><span class="crayon-o">-</span><span class="crayon-v">path</span><span class="crayon-o">/</span><span class="crayon-v">backup</span><span class="crayon-sy">.</span><span class="crayon-i">sh</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe7e343116439-17"><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">bash</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">your</span><span class="crayon-o">-</span><span class="crayon-v">script</span><span class="crayon-o">-</span><span class="crayon-v">path</span><span class="crayon-o">/</span><span class="crayon-v">config</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
</p>
<div></div>
</div>
</div>
<h3><span style="font-size: 1rem; line-height: 1.6; font-weight: bold; color: inherit;"><span data-wiz-span="data-wiz-span" style="font-size: 1.167rem;">用邮箱备份VPS的数据 超简易教程&nbsp;</span></span><br /></h3>
<div><span style="font-size: 1rem; line-height: 1.6;">https://ilazycat.com/posts/2012/08/backup-vps-data-using-mailbox.html<br /></span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505574751886_558" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe80898229348" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
DataBackUP.sh
额刚才忘了说了，这个脚本分为两部分，一部分是备份数据，一部分是备份数据库和配置文件的。。。这一部分是备份网站数据用得。。。
你要是觉得麻烦可以用最后一个整合的脚本。。。</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe80898229348-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe80898229348-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe80898229348-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe80898229348-1"><span class="crayon-v">DataBackUP</span><span class="crayon-sy">.</span><span class="crayon-i">sh</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe80898229348-2">额刚才忘了说了，这个脚本分为两部分，一部分是备份数据，一部分是备份数据库和配置文件的。。。这一部分是备份网站数据用得。。。</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe80898229348-3">你要是觉得麻烦可以用最后一个整合的脚本。。。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
</div>
<h3><span style="font-size: 1rem; line-height: 1.6;">[SHELL]备份系统文件并邮件发送</span></h3>
<div><span style="font-size: 1rem; line-height: 1.6;">&nbsp;http://showerlee.blog.51cto.com/2047005/1283408</span></div>
<div><span style="font-size: 1rem; line-height: 1.6;"><img loading="lazy" class="alignnone size-full wp-image-2220" src="https://luojimen.github.io/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_0.02878437096215536.png" width="595" height="418" alt="039c280ff790f5ba515130334672ed98_0.02878437096215536" title="039c280ff790f5ba515130334672ed98_0.02878437096215536" /><br /></span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505574627039_7430" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe81570572349" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
(版本三)
实现rar分割并附件发送
推荐附件超过50M的用户使用
# 安装rar
rar=$(rar | grep RAR | awk '{print $1}'| sed -n '1p')
if [ $? != 0 ];then</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe81570572349-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe81570572349-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe81570572349-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe81570572349-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe81570572349-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe81570572349-6">6</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe81570572349-1"><span class="crayon-sy">(</span>版本三<span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe81570572349-2">实现<span class="crayon-i">rar</span>分割并附件发送</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe81570572349-3">推荐附件超过<span class="crayon-cn">50M</span>的用户使用</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe81570572349-4"><span class="crayon-p"># 安装rar</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe81570572349-5"><span class="crayon-v">rar</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">rar</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">grep </span><span class="crayon-v">RAR</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">awk</span><span class="crayon-h"> </span><span class="crayon-s">'{print $1}'</span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">sed</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-s">'1p'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe81570572349-6"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-st">then</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
</div>
<h3><span style="font-size: 1rem; line-height: 1.6;">用python自动备份网站到你的邮件中&nbsp;</span></h3>
<div><span style="font-size: 1rem; line-height: 1.6;">https://blog.iw3c.com/archive/1085<br /></span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505574854966_3415" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe87312400310" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# 备份名称，用于标记
BAKUP_NAME="bakup"
# 备份目录，多个请空格分隔
BAKUP_SRC="/home/wwwroot/iw3c.com"
# 备份文件临时存放目录，一般不需要更改
BAKUP_DIR="/tmp/bakuptoemail"
# Mysql主机地址
MYSQL_SERVER="localhost"
# Mysql用户名
MYSQL_USER="root"
# Mysql密码
MYSQL_PASS="password"
# Mysql备份数据库，多个请空格分隔
MYSQL_DBS="iw3c_com_db "
# 备份文件压缩密码
BAKUP_FILE_PASSWD="iw3c.com"
# 邮件SMTP地址
THESMTP_HOST="smtp.xxx.com"
# 邮件登录帐号
THESMTP_USER='aries@xxx.com'
# 邮件登录密码
THESMTP_PWD='password'
# 邮件接收地址
THESMTP_TO='xxx@xxx.com'</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe87312400310-24">24</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-1"><span class="crayon-p"># 备份名称，用于标记</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-2"><span class="crayon-v">BAKUP_NAME</span><span class="crayon-o">=</span><span class="crayon-s">"bakup"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-3"><span class="crayon-p"># 备份目录，多个请空格分隔</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-4"><span class="crayon-v">BAKUP_SRC</span><span class="crayon-o">=</span><span class="crayon-s">"/home/wwwroot/iw3c.com"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-5"><span class="crayon-p"># 备份文件临时存放目录，一般不需要更改</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-6"><span class="crayon-v">BAKUP_DIR</span><span class="crayon-o">=</span><span class="crayon-s">"/tmp/bakuptoemail"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-7"><span class="crayon-p"># Mysql主机地址</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-8"><span class="crayon-v">MYSQL_SERVER</span><span class="crayon-o">=</span><span class="crayon-s">"localhost"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-9"><span class="crayon-p"># Mysql用户名</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-10"><span class="crayon-v">MYSQL_USER</span><span class="crayon-o">=</span><span class="crayon-s">"root"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-11"><span class="crayon-p"># Mysql密码</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-12"><span class="crayon-v">MYSQL_PASS</span><span class="crayon-o">=</span><span class="crayon-s">"password"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-13"><span class="crayon-p"># Mysql备份数据库，多个请空格分隔</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-14"><span class="crayon-v">MYSQL_DBS</span><span class="crayon-o">=</span><span class="crayon-s">"iw3c_com_db "</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-15"><span class="crayon-p"># 备份文件压缩密码</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-16"><span class="crayon-v">BAKUP_FILE_PASSWD</span><span class="crayon-o">=</span><span class="crayon-s">"iw3c.com"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-17"><span class="crayon-p"># 邮件SMTP地址</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-18"><span class="crayon-v">THESMTP_HOST</span><span class="crayon-o">=</span><span class="crayon-s">"smtp.xxx.com"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-19"><span class="crayon-p"># 邮件登录帐号</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-20"><span class="crayon-v">THESMTP_USER</span><span class="crayon-o">=</span><span class="crayon-s">'aries@xxx.com'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-21"><span class="crayon-p"># 邮件登录密码</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-22"><span class="crayon-v">THESMTP_PWD</span><span class="crayon-o">=</span><span class="crayon-s">'password'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-23"><span class="crayon-p"># 邮件接收地址</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe87312400310-24"><span class="crayon-v">THESMTP_TO</span><span class="crayon-o">=</span><span class="crayon-s">'xxx@xxx.com'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
</div>
<div><span style="font-size: 1rem; line-height: 1.6;"><br /></span></div>
<h3><span style="font-size: 1rem; line-height: 1.6;">压缩&gt;</span><b style="color: inherit; font-size: 1rem; line-height: 1.6;">综合相关</b></h3>
<div>浅谈Linux下各种压缩 解压命令和压缩比率对比&nbsp;http://blog.sina.com.cn/s/blog_407abb0d0100lajg.html</div>
<div class="wiz-code-container" id="wiz_cm_1505576443458_6648" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe88056471232" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
综合起来，在压缩比率上： tar.bz=tar.bz2&gt;tgz&gt;tar
耗费时间（打包，解压）
    打包：tar.bz&gt;tar.bz2&gt;tgz&gt;tar
    解压： tar.bz&gt;tar.bz2&gt;tar&gt;tgz
因此，Linux下对于占用空间与耗费时间的折衷多选用tgz格式，不仅压缩率较高，而且打包、解压的时间都较为快速，是较为理想的选择。
如果对效率很关切，非常在乎时间的话，选择tgz tar的方式都不错。当然，如果disk空间较为紧张，非常在乎空间的话，选择高压缩比率的tar.bz2则更为适宜。</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe88056471232-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe88056471232-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe88056471232-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe88056471232-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe88056471232-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe88056471232-6">6</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe88056471232-1">综合起来，在压缩比率上：<span class="crayon-h"> </span><span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-v">bz</span><span class="crayon-o">=</span><span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-v">bz2</span><span class="crayon-o">&gt;</span><span class="crayon-v">tgz</span><span class="crayon-o">&gt;</span><span class="crayon-i">tar</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe88056471232-2">耗费时间（打包，解压）</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe88056471232-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>打包：<span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-v">bz</span><span class="crayon-o">&gt;</span><span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-v">bz2</span><span class="crayon-o">&gt;</span><span class="crayon-v">tgz</span><span class="crayon-o">&gt;</span><span class="crayon-i">tar</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe88056471232-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>解压：<span class="crayon-h"> </span><span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-v">bz</span><span class="crayon-o">&gt;</span><span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-v">bz2</span><span class="crayon-o">&gt;</span><span class="crayon-v">tar</span><span class="crayon-o">&gt;</span><span class="crayon-i">tgz</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe88056471232-5">因此，<span class="crayon-i">Linux</span>下对于占用空间与耗费时间的折衷多选用<span class="crayon-i">tgz</span>格式，不仅压缩率较高，而且打包、解压的时间都较为快速，是较为理想的选择。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe88056471232-6">如果对效率很关切，非常在乎时间的话，选择<span class="crayon-e">tgz </span><span class="crayon-i">tar</span>的方式都不错。当然，如果<span class="crayon-i">disk</span>空间较为紧张，非常在乎空间的话，选择高压缩比率的<span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-i">bz2</span>则更为适宜。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
</p>
<div></div>
</div>
<div><b style="font-size: 1rem; line-height: 1.6; color: inherit;">Linux下解压：tar、rar、7z命令简单易懂的教程（含实例）</b></div>
<div><span style="font-size: 1rem; line-height: 1.6;">http://blog.csdn.net/ac_huang/article/details/23279641<br /></span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505575610838_9647" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe8a761762351" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
tar命令常见参数与实例：
——————————————————————————————————-
必须的参数：（3个参数不能共存）
-c ：创建压缩文件c代表create。

7z文件到解压缩实例
——————————————————————————————————-
安装：Redhat、Fedora、Centos安装命令：yum install p7zip</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8a761762351-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe8a761762351-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8a761762351-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe8a761762351-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8a761762351-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe8a761762351-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8a761762351-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe8a761762351-8">8</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8a761762351-1"><span class="crayon-i">tar</span>命令常见参数与实例：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe8a761762351-2">——————————————————————————————————<span class="crayon-o">-</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8a761762351-3">必须的参数：（<span class="crayon-cn">3</span>个参数不能共存）</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe8a761762351-4"><span class="crayon-o">-</span><span class="crayon-i">c</span><span class="crayon-h"> </span>：创建压缩文件<span class="crayon-i">c</span>代表<span class="crayon-i">create</span>。</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8a761762351-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe8a761762351-6"><span class="crayon-cn">7z</span>文件到解压缩实例</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8a761762351-7">——————————————————————————————————<span class="crayon-o">-</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe8a761762351-8">安装：<span class="crayon-i">Redhat</span>、<span class="crayon-i">Fedora</span>、<span class="crayon-i">Centos</span>安装命令：<span class="crayon-e">yum </span><span class="crayon-e">install </span><span class="crayon-v">p7zip</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
</div>
<div><b><span style="font-size: 1rem; color: inherit; line-height: 1.6;">Linux zip分卷压缩&nbsp;</span><br /></b></div>
<div>http://blog.csdn.net/u010273224/article/details/54171696</div>
<div class="wiz-code-container" id="wiz_cm_1505573977386_5775" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe8b482243113" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
分卷压缩的话，需要先将文件打包成一个zip包，然后执行
zip -s SIZE origin.zip --out new.zip
SIZE为分卷的大小4m,4g,4t等
解压的时候需要先将它合并才能正常解压
zip spiltfile.zip -s=0 --out single.zip</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8b482243113-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe8b482243113-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8b482243113-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe8b482243113-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8b482243113-5">5</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8b482243113-1">分卷压缩的话，需要先将文件打包成一个<span class="crayon-i">zip</span>包，然后执行</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe8b482243113-2"><span class="crayon-v">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-e">SIZE </span><span class="crayon-v">origin</span><span class="crayon-sy">.</span><span class="crayon-v">zip</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">out </span><span class="crayon-r">new</span><span class="crayon-sy">.</span><span class="crayon-e">zip</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8b482243113-3"><span class="crayon-i">SIZE</span>为分卷的大小<span class="crayon-cn">4m</span><span class="crayon-sy">,</span><span class="crayon-cn">4g</span><span class="crayon-sy">,</span><span class="crayon-cn">4t</span>等</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe8b482243113-4">解压的时候需要先将它合并才能正常解压</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8b482243113-5"><span class="crayon-e">zip </span><span class="crayon-v">spiltfile</span><span class="crayon-sy">.</span><span class="crayon-v">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">out </span><span class="crayon-v">single</span><span class="crayon-sy">.</span><span class="crayon-v">zip</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
<div><b>Linux系统zip压缩命令详细参数，附文件排除选项的正确用法</b></div>
<div>&nbsp;https://zhangge.net/4776.html</div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505641875118_5881" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe8d654698861" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
这次给博客添加了纯代码缓存之后，发现缓存文件竟然达到了50多MB！而我的服务器每次还需要同步至七牛，文件体积的增加都会增加文件远程同步备份的时间。因此，我第一想到的办法就是在网站ZIP压缩打包的时候排除缓存文件夹。
下面是从网上找来的ZIP命令参数：
zip Linux上适用的参数:
-1 : 最快压缩，压缩率最差。
-9 : 最大压缩，压缩率最佳。</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8d654698861-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe8d654698861-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8d654698861-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe8d654698861-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8d654698861-5">5</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8d654698861-1">这次给博客添加了纯代码缓存之后，发现缓存文件竟然达到了<span class="crayon-cn">50</span>多<span class="crayon-i">MB</span>！而我的服务器每次还需要同步至七牛，文件体积的增加都会增加文件远程同步备份的时间。因此，我第一想到的办法就是在网站<span class="crayon-i">ZIP</span>压缩打包的时候排除缓存文件夹。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe8d654698861-2">下面是从网上找来的<span class="crayon-i">ZIP</span>命令参数：</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8d654698861-3"><span class="crayon-e">zip </span><span class="crayon-i">Linux</span>上适用的参数<span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe8d654698861-4"><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span>最快压缩，压缩率最差。</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8d654698861-5"><span class="crayon-o">-</span><span class="crayon-cn">9</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span>最大压缩，压缩率最佳。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
</div>
<div><b>Linux 下zip包的压缩与解压</b></div>
<div>&nbsp;https://www.cnblogs.com/chinareny2k/archive/2010/01/05/1639468.html</div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505641936997_7040" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe8e083264047" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
linux zip 命令详解 
功能说明：压缩文件。 
语 法：zip [-AcdDfFghjJKlLmoqrSTuvVwXyz$][-b &lt;工作目录&gt;][-ll][-n &lt;字尾字符串&gt;][-t &lt;日期时间&gt;][-&lt;压缩效率&gt;][压缩文件][文件...][-i &lt;范本样式&gt;][-x &lt;范本样式&gt;] 
补充说明：zip是个使用广泛的压缩程序，文件经它压缩后会另外产生具有".zip"扩展名的压缩文件。 
参 数： 
-A 调整可执行的自动解压缩文件。 
-b&lt;工作目录&gt; 指定暂时存放文件的目录。 </textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8e083264047-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe8e083264047-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8e083264047-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe8e083264047-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8e083264047-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe8e083264047-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe8e083264047-7">7</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8e083264047-1"><span class="crayon-e">linux </span><span class="crayon-i">zip</span><span class="crayon-h"> </span>命令详解<span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe8e083264047-2">功能说明：压缩文件。<span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8e083264047-3">语<span class="crayon-h"> </span>法：<span class="crayon-i">zip</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-v">AcdDfFghjJKlLmoqrSTuvVwXyz</span><span class="crayon-sy">$</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-v">b</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>工作目录<span class="crayon-o">&gt;</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-v">ll</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-v">n</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>字尾字符串<span class="crayon-o">&gt;</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-v">t</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>日期时间<span class="crayon-o">&gt;</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-o">&lt;</span>压缩效率<span class="crayon-o">&gt;</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span>压缩文件<span class="crayon-sy">]</span><span class="crayon-sy">[</span>文件<span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>范本样式<span class="crayon-o">&gt;</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>范本样式<span class="crayon-o">&gt;</span><span class="crayon-sy">]</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe8e083264047-4">补充说明：<span class="crayon-i">zip</span>是个使用广泛的压缩程序，文件经它压缩后会另外产生具有<span class="crayon-s">".zip"</span>扩展名的压缩文件。<span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8e083264047-5">参<span class="crayon-h"> </span>数：<span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe8e083264047-6"><span class="crayon-o">-</span><span class="crayon-i">A</span><span class="crayon-h"> </span>调整可执行的自动解压缩文件。<span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe8e083264047-7"><span class="crayon-o">-</span><span class="crayon-v">b</span><span class="crayon-o">&lt;</span>工作目录<span class="crayon-o">&gt;</span><span class="crayon-h"> </span>指定暂时存放文件的目录。<span class="crayon-h"> </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
</p>
<div></div>
</div>
</div>
<div><b><span style="font-size: 1rem; color: inherit; line-height: 1.6;">linux下分卷压缩，合并解压的3种方法&nbsp;</span><br /></b></div>
<div>http://blog.csdn.net/aree/article/details/50946137 、http://blog.51yip.com/linux/988.html</div>
<div class="wiz-code-container" id="wiz_cm_1505574039680_5916" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe90351110059" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
我们上传东西的时候，由于文件过大而不能上传，或者不给上传，最明显的就是发邮件了，附件最大5M，有的10M。如果超过了就郁闷了。这个时候，如果能把压缩的东西，分割开来就比较爽了，windows下面我想大家知道怎么分割，利用winrar，winzip图型化设置压缩出来的块的大小。但是在linux下面有没有这样的方法了，linux下面有rar命令，有zip命令，windows下面这二种方式可以分割压缩,我想linux下面绝对也是可以的。下面是我尝试过程的记录：</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe90351110059-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe90351110059-1">我们上传东西的时候，由于文件过大而不能上传，或者不给上传，最明显的就是发邮件了，附件最大<span class="crayon-cn">5M</span>，有的<span class="crayon-cn">10M</span>。如果超过了就郁闷了。这个时候，如果能把压缩的东西，分割开来就比较爽了，<span class="crayon-i">windows</span>下面我想大家知道怎么分割，利用<span class="crayon-i">winrar</span>，<span class="crayon-i">winzip</span>图型化设置压缩出来的块的大小。但是在<span class="crayon-i">linux</span>下面有没有这样的方法了，<span class="crayon-i">linux</span>下面有<span class="crayon-i">rar</span>命令，有<span class="crayon-i">zip</span>命令，<span class="crayon-i">windows</span>下面这二种方式可以分割压缩<span class="crayon-sy">,</span>我想<span class="crayon-i">linux</span>下面绝对也是可以的。下面是我尝试过程的记录：</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div><b>Linux下分卷压缩较大的文件&nbsp;</b></div>
<div>http://blog.csdn.net/baggio1006/article/details/17503113</div>
<div class="wiz-code-container" id="wiz_cm_1505574405932_586" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe91240137090" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
附录：split命令的使用
split proc.tar.gz -b 2m #将proc.tar.gz文件分割为多个小文件，并保持每个小文件的大小不超过2m字节。命令运行后，源文件依然存在。生成的小文件以默认格式命名，为：xaa、xab等
split proc.tar.gz -b 2m -d #基本同上，只是生成的小文件以数字格式命名，为：x00、x01等
split proc.tar.gz -b 2m -d proc.tar.gz #基本同上，只是生成的小文件名前缀是自定义的，为：proc.tar.gz00、proc.tar.gz01等
split a.txt -C 300k -d a.txt #将a.txt文本文件分割为多个小文件，并保持每个小文件的大小不超过300k字节，而且尽量保持每行的完整性</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe91240137090-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe91240137090-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe91240137090-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe91240137090-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe91240137090-5">5</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe91240137090-1">附录：<span class="crayon-i">split</span>命令的使用</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe91240137090-2"><span class="crayon-e">split </span><span class="crayon-v">proc</span><span class="crayon-sy">.</span><span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-v">gz</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">b</span><span class="crayon-h"> </span><span class="crayon-cn">2m</span><span class="crayon-h"> </span><span class="crayon-p">#将proc.tar.gz文件分割为多个小文件，并保持每个小文件的大小不超过2m字节。命令运行后，源文件依然存在。生成的小文件以默认格式命名，为：xaa、xab等</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe91240137090-3"><span class="crayon-e">split </span><span class="crayon-v">proc</span><span class="crayon-sy">.</span><span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-v">gz</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">b</span><span class="crayon-h"> </span><span class="crayon-cn">2m</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-p">#基本同上，只是生成的小文件以数字格式命名，为：x00、x01等</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe91240137090-4"><span class="crayon-e">split </span><span class="crayon-v">proc</span><span class="crayon-sy">.</span><span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-v">gz</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">b</span><span class="crayon-h"> </span><span class="crayon-cn">2m</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-v">proc</span><span class="crayon-sy">.</span><span class="crayon-v">tar</span><span class="crayon-sy">.</span><span class="crayon-i">gz</span><span class="crayon-h"> </span><span class="crayon-p">#基本同上，只是生成的小文件名前缀是自定义的，为：proc.tar.gz00、proc.tar.gz01等</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe91240137090-5"><span class="crayon-i">split</span><span class="crayon-h"> </span><span class="crayon-v">a</span><span class="crayon-sy">.</span><span class="crayon-v">txt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">C</span><span class="crayon-h"> </span><span class="crayon-cn">300k</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-v">a</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-p">#将a.txt文本文件分割为多个小文件，并保持每个小文件的大小不超过300k字节，而且尽量保持每行的完整性</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
</p>
<div></div>
</div>
<div><b>CentOS 安装 rar、zip 解压缩&nbsp;</b></div>
<div>https://ehlxr.me/2016/12/22/CentOS-%E5%AE%89%E8%A3%85-rar%E3%80%81zip-%E8%A7%A3%E5%8E%8B%E7%BC%A9/</div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505575177563_5299" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe93812220270" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Windows 系统压缩的 rar 和 zip 文件，在 Linux 系统下是无法通过 tar 命令解压缩的，需要使用 rar 和 zip 命令来解压缩。下面记录一下 rar 和 zip 安装和简单的使用。
一、rar 安装使用
Linux 系统下使用 rarlinux 解压缩 rar 压缩文件，下载页面：http://www.rarsoft.com/download.htm。
1.1 下载系统对应的版本
2.2 安装 zip、unzip
$ yum install zip
$ yum install unzip
2.3 常用命令
$ zip -r myfile.zip ./*
# 将当前目录下的所有文件和文件夹全部压缩成 myfile.zip 文件，-r 表示递归压缩子目录下所有文件.
$ unzip -o -d /home/sunny myfile.zip
# 把 myfile.zip 文件解压到 /home/sunny/
# -o ：不提示的情况下覆盖文件
# -d：将文件解压缩到指定目录下
$ zip -d myfile.zip smart.txt
# 删除压缩文件中 smart.txt 文件
$ zip -m myfile.zip ./rpm_info.txt
# 向压缩文件中 myfile.zip 中添加 rpm_info.txt 文件</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe93812220270-18">18</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-1"><span class="crayon-i">Windows</span><span class="crayon-h"> </span>系统压缩的<span class="crayon-h"> </span><span class="crayon-i">rar</span><span class="crayon-h"> </span>和<span class="crayon-h"> </span><span class="crayon-i">zip</span><span class="crayon-h"> </span>文件，在<span class="crayon-h"> </span><span class="crayon-i">Linux</span><span class="crayon-h"> </span>系统下是无法通过<span class="crayon-h"> </span><span class="crayon-i">tar</span><span class="crayon-h"> </span>命令解压缩的，需要使用<span class="crayon-h"> </span><span class="crayon-i">rar</span><span class="crayon-h"> </span>和<span class="crayon-h"> </span><span class="crayon-i">zip</span><span class="crayon-h"> </span>命令来解压缩。下面记录一下<span class="crayon-h"> </span><span class="crayon-i">rar</span><span class="crayon-h"> </span>和<span class="crayon-h"> </span><span class="crayon-i">zip</span><span class="crayon-h"> </span>安装和简单的使用。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-2">一、<span class="crayon-i">rar</span><span class="crayon-h"> </span>安装使用</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-3"><span class="crayon-i">Linux</span><span class="crayon-h"> </span>系统下使用<span class="crayon-h"> </span><span class="crayon-i">rarlinux</span><span class="crayon-h"> </span>解压缩<span class="crayon-h"> </span><span class="crayon-i">rar</span><span class="crayon-h"> </span>压缩文件，下载页面：<span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//www.rarsoft.com/download.htm。</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-4"><span class="crayon-cn">1.1</span><span class="crayon-h"> </span>下载系统对应的版本</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-5"><span class="crayon-cn">2.2</span><span class="crayon-h"> </span>安装<span class="crayon-h"> </span><span class="crayon-i">zip</span>、<span class="crayon-i">unzip</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-6"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">yum </span><span class="crayon-e">install </span><span class="crayon-i">zip</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-7"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">yum </span><span class="crayon-e">install </span><span class="crayon-i">unzip</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-8"><span class="crayon-cn">2.3</span><span class="crayon-h"> </span>常用命令</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-9"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">r</span><span class="crayon-h"> </span><span class="crayon-v">myfile</span><span class="crayon-sy">.</span><span class="crayon-i">zip</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-o">*</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-10"><span class="crayon-p"># 将当前目录下的所有文件和文件夹全部压缩成 myfile.zip 文件，-r 表示递归压缩子目录下所有文件.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-11"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">unzip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">o</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-e">sunny </span><span class="crayon-v">myfile</span><span class="crayon-sy">.</span><span class="crayon-i">zip</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-12"><span class="crayon-p"># 把 myfile.zip 文件解压到 /home/sunny/</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-13"><span class="crayon-p"># -o ：不提示的情况下覆盖文件</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-14"><span class="crayon-p"># -d：将文件解压缩到指定目录下</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-15"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-v">myfile</span><span class="crayon-sy">.</span><span class="crayon-e">zip </span><span class="crayon-v">smart</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-16"><span class="crayon-p"># 删除压缩文件中 smart.txt 文件</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-17"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">m</span><span class="crayon-h"> </span><span class="crayon-v">myfile</span><span class="crayon-sy">.</span><span class="crayon-i">zip</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">rpm_info</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe93812220270-18"><span class="crayon-p"># 向压缩文件中 myfile.zip 中添加 rpm_info.txt 文件</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
</p>
<div></div>
</div>
</div>
<div><b>Linux下的压缩（zip）解压(unzip)缩命令</b></div>
<div>&nbsp;http://blog.csdn.net/shenyunsese/article/details/17556089</div>
<div class="wiz-code-container" id="wiz_cm_1505575342384_9242" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe94116404854" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
1.zip命令
zip -r myfile.zip ./*
将当前目录下的所有文件和文件夹全部压缩成myfile.zip文件,－r表示递归压缩子目录下所有文件.
zip -r filename.zip filesdir
在这个例子里，filename.zip 代表你创建的文件，filesdir 代表你想放置新 zip 文件的目录。-r 选项指定你想递归地（recursively）包括所有包括在 filesdir 目录中的文件。

你可以使用 zip 命令同时处理多个文件和目录，方法是将它们逐一列出，并用空格间隔：
zip -r filename.zip file1 file2 file3 /usr/work/school 
上面的命令把 file1、file2、 file3、以及 /usr/work/school 目录的内容（假设这个目录存在）压缩起来，然后放入 filename.zip 文件中。</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe94116404854-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe94116404854-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe94116404854-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe94116404854-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe94116404854-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe94116404854-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe94116404854-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe94116404854-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe94116404854-9">9</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe94116404854-1"><span class="crayon-cn">1.zip</span>命令</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe94116404854-2"><span class="crayon-v">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">r</span><span class="crayon-h"> </span><span class="crayon-v">myfile</span><span class="crayon-sy">.</span><span class="crayon-i">zip</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-o">*</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe94116404854-3">将当前目录下的所有文件和文件夹全部压缩成<span class="crayon-v">myfile</span><span class="crayon-sy">.</span><span class="crayon-i">zip</span>文件<span class="crayon-sy">,</span>－<span class="crayon-i">r</span>表示递归压缩子目录下所有文件<span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe94116404854-4"><span class="crayon-v">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">r</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">.</span><span class="crayon-e">zip </span><span class="crayon-i">filesdir</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe94116404854-5">在这个例子里，<span class="crayon-v">filename</span><span class="crayon-sy">.</span><span class="crayon-i">zip</span><span class="crayon-h"> </span>代表你创建的文件，<span class="crayon-i">filesdir</span><span class="crayon-h"> </span>代表你想放置新<span class="crayon-h"> </span><span class="crayon-i">zip</span><span class="crayon-h"> </span>文件的目录。<span class="crayon-o">-</span><span class="crayon-i">r</span><span class="crayon-h"> </span>选项指定你想递归地（<span class="crayon-i">recursively</span>）包括所有包括在<span class="crayon-h"> </span><span class="crayon-i">filesdir</span><span class="crayon-h"> </span>目录中的文件。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe94116404854-6">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe94116404854-7">你可以使用<span class="crayon-h"> </span><span class="crayon-i">zip</span><span class="crayon-h"> </span>命令同时处理多个文件和目录，方法是将它们逐一列出，并用空格间隔：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe94116404854-8"><span class="crayon-v">zip</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">r</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">.</span><span class="crayon-e">zip </span><span class="crayon-e">file1 </span><span class="crayon-e">file2 </span><span class="crayon-v">file3</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">work</span><span class="crayon-o">/</span><span class="crayon-i">school</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe94116404854-9">上面的命令把<span class="crayon-h"> </span><span class="crayon-i">file1</span>、<span class="crayon-i">file2</span>、<span class="crayon-h"> </span><span class="crayon-i">file3</span>、以及<span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">work</span><span class="crayon-o">/</span><span class="crayon-i">school</span><span class="crayon-h"> </span>目录的内容（假设这个目录存在）压缩起来，然后放入<span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">.</span><span class="crayon-i">zip</span><span class="crayon-h"> </span>文件中。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
</p>
<div></div>
</div>
<div></div>
<h3>压缩&gt;7zip相关文献</h3>
<div><b>CentOS中如何安装7ZIP </b>&nbsp;</div>
<div>https://teddysun.com/176.html</div>
<div class="wiz-code-container" id="wiz_cm_1505575920052_7301" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe95751855329" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
使用7zip的命令是7za。
安装完成后的使用方法：
7za {a|d|l|e|u|x} 压缩包文件名 {文件列表或目录，可选}

a  向压缩包里添加文件或创建压缩包，如向001.7z添加001.jpg，执行：7za a 001.7z 001.jpg；将001目录打包执行：7za a 001.7z 001；
d  从压缩里删除文件，如将001.7z里的001.jpg删除，执行：7za d 001.7z 001.jpg
l  列出压缩包里的文件，如列出001.7z里的文件，执行：7za l 001.7z
e  解压到当前目录，目录结构会被破坏，如001.rar内有如下目录及文件123/456/789.html，
执行：7za e 001.rar，目录123和456及文件789.html都会存放在当前目录下。
x  以完整路径解压。

zip文件解压中文文件乱码问题，由于zip文件中没有声明其编码，所以在Linux上使用unzip解压以默认编码解压，中文文件名会出现乱码。</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe95751855329-12">12</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-1">使用<span class="crayon-cn">7zip</span>的命令是<span class="crayon-cn">7za</span>。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-2">安装完成后的使用方法：</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-3"><span class="crayon-cn">7za</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">a</span><span class="crayon-o">|</span><span class="crayon-v">d</span><span class="crayon-o">|</span><span class="crayon-v">l</span><span class="crayon-o">|</span><span class="crayon-v">e</span><span class="crayon-o">|</span><span class="crayon-v">u</span><span class="crayon-o">|</span><span class="crayon-v">x</span><span class="crayon-sy">}</span><span class="crayon-h"> </span>压缩包文件名<span class="crayon-h"> </span><span class="crayon-sy">{</span>文件列表或目录，可选<span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-4">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-5"><span class="crayon-i">a</span><span class="crayon-h">&nbsp;&nbsp;</span>向压缩包里添加文件或创建压缩包，如向<span class="crayon-cn">001.7z</span>添加<span class="crayon-cn">001.jpg</span>，执行：<span class="crayon-cn">7za</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-cn">001.7z</span><span class="crayon-h"> </span><span class="crayon-cn">001.jpg</span>；将<span class="crayon-cn">001</span>目录打包执行：<span class="crayon-cn">7za</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-cn">001.7z</span><span class="crayon-h"> </span><span class="crayon-cn">001</span>；</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-6"><span class="crayon-i">d</span><span class="crayon-h">&nbsp;&nbsp;</span>从压缩里删除文件，如将<span class="crayon-cn">001.7z</span>里的<span class="crayon-cn">001.jpg</span>删除，执行：<span class="crayon-cn">7za</span><span class="crayon-h"> </span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-cn">001.7z</span><span class="crayon-h"> </span><span class="crayon-cn">001.jpg</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-7"><span class="crayon-i">l</span><span class="crayon-h">&nbsp;&nbsp;</span>列出压缩包里的文件，如列出<span class="crayon-cn">001.7z</span>里的文件，执行：<span class="crayon-cn">7za</span><span class="crayon-h"> </span><span class="crayon-i">l</span><span class="crayon-h"> </span><span class="crayon-cn">001.7z</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-8"><span class="crayon-i">e</span><span class="crayon-h">&nbsp;&nbsp;</span>解压到当前目录，目录结构会被破坏，如<span class="crayon-cn">001.rar</span>内有如下目录及文件<span class="crayon-cn">123</span><span class="crayon-o">/</span><span class="crayon-cn">456</span><span class="crayon-o">/</span><span class="crayon-cn">789.html</span>，</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-9">执行：<span class="crayon-cn">7za</span><span class="crayon-h"> </span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-cn">001.rar</span>，目录<span class="crayon-cn">123</span>和<span class="crayon-cn">456</span>及文件<span class="crayon-cn">789.html</span>都会存放在当前目录下。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-10"><span class="crayon-i">x</span><span class="crayon-h">&nbsp;&nbsp;</span>以完整路径解压。</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe95751855329-12"><span class="crayon-i">zip</span>文件解压中文文件乱码问题，由于<span class="crayon-i">zip</span>文件中没有声明其编码，所以在<span class="crayon-i">Linux</span>上使用<span class="crayon-i">unzip</span>解压以默认编码解压，中文文件名会出现乱码。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
</p>
<div></div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">How to create multipart 7zip file in Linux?&nbsp;</b></div>
<div>https://superuser.com/questions/184557/how-to-create-multipart-7zip-file-in-linux</div>
<div class="wiz-code-container" id="wiz_cm_1505576265172_9702" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe97548888096" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Full command example: 7z -v100m a my_zip.7z my_folder/
Use the -v option (v is for volume) -v100m will split the archive into chunks of 100MB.
7z -v option supports b k m g (bytes, kilobytes, megabytes, gigabytes)</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe97548888096-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe97548888096-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe97548888096-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe97548888096-1"><span class="crayon-e">Full </span><span class="crayon-e">command </span><span class="crayon-v">example</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">7z</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v100m</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">my_zip</span><span class="crayon-sy">.</span><span class="crayon-cn">7z</span><span class="crayon-h"> </span><span class="crayon-v">my_folder</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe97548888096-2"><span class="crayon-st">Use</span><span class="crayon-h"> </span><span class="crayon-v">the</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-e">option</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">volume</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">v100m </span><span class="crayon-e">will </span><span class="crayon-e">split </span><span class="crayon-e">the </span><span class="crayon-e">archive </span><span class="crayon-e">into </span><span class="crayon-e">chunks </span><span class="crayon-i">of</span><span class="crayon-h"> </span><span class="crayon-cn">100MB.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe97548888096-3"><span class="crayon-cn">7z</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-e">option </span><span class="crayon-i">supports</span><span class="crayon-h"> </span><span class="crayon-i">b</span><span class="crayon-h"> </span><span class="crayon-i">k</span><span class="crayon-h"> </span><span class="crayon-i">m</span><span class="crayon-h"> </span><span class="crayon-e">g</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">bytes</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">kilobytes</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">megabytes</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">gigabytes</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
</p>
<div></div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">How to use 7zip on Linux command Line</b></div>
<div>&nbsp;https://www.ibm.com/developerworks/community/blogs/6e6f6d1b-95c3-46df-8a26-b7efd8ee4b57/entry/how_to_use_7zip_on_linux_command_line144?lang=en</div>
<div class="wiz-code-container" id="wiz_cm_1505575792001_9659" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe98332110306" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
7z uses plugins to handle archives. 
7za is a stand-alone executable. 7za handles fewer archive formats than 7z, but does not need any others. 
7zr is a stand-alone executable. 7zr handles fewer archive formats than 7z, but does not need any others. 7zr is a "light-version" of 7za that only handles 7z archives.</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe98332110306-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe98332110306-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe98332110306-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe98332110306-1"><span class="crayon-cn">7z</span><span class="crayon-h"> </span><span class="crayon-e">uses </span><span class="crayon-e">plugins </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">handle </span><span class="crayon-v">archives</span><span class="crayon-sy">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe98332110306-2"><span class="crayon-cn">7za</span><span class="crayon-h"> </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">stand</span><span class="crayon-o">-</span><span class="crayon-e">alone </span><span class="crayon-v">executable</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-cn">7za</span><span class="crayon-h"> </span><span class="crayon-e">handles </span><span class="crayon-e">fewer </span><span class="crayon-e">archive </span><span class="crayon-e">formats </span><span class="crayon-i">than</span><span class="crayon-h"> </span><span class="crayon-cn">7z</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">but </span><span class="crayon-e">does </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-e">need </span><span class="crayon-e">any </span><span class="crayon-v">others</span><span class="crayon-sy">.</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe98332110306-3"><span class="crayon-cn">7zr</span><span class="crayon-h"> </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">stand</span><span class="crayon-o">-</span><span class="crayon-e">alone </span><span class="crayon-v">executable</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-cn">7zr</span><span class="crayon-h"> </span><span class="crayon-e">handles </span><span class="crayon-e">fewer </span><span class="crayon-e">archive </span><span class="crayon-e">formats </span><span class="crayon-i">than</span><span class="crayon-h"> </span><span class="crayon-cn">7z</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">but </span><span class="crayon-e">does </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-e">need </span><span class="crayon-e">any </span><span class="crayon-v">others</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-cn">7zr</span><span class="crayon-h"> </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-s">"light-version"</span><span class="crayon-h"> </span><span class="crayon-i">of</span><span class="crayon-h"> </span><span class="crayon-cn">7za</span><span class="crayon-h"> </span><span class="crayon-e">that </span><span class="crayon-e">only </span><span class="crayon-i">handles</span><span class="crayon-h"> </span><span class="crayon-cn">7z</span><span class="crayon-h"> </span><span class="crayon-v">archives</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
</p>
<div></div>
</div>
<h4></h4>
<h3>Shell相关文献</h3>
<div><b>shell 将字符串分割成数组&nbsp;</b></div>
<div>https://my.oschina.net/5lei/blog/189559</div>
<div class="wiz-code-container" id="wiz_cm_1505610464067_2085" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe99184859781" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
a="one,two,three,four"
arr=($a)用于将字符串$a分割到数组$arr ${arr[0]} ${arr[1]} </textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe99184859781-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe99184859781-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe99184859781-1"><span class="crayon-v">a</span><span class="crayon-o">=</span><span class="crayon-s">"one,two,three,four"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe99184859781-2"><span class="crayon-v">arr</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">a</span><span class="crayon-sy">)</span>用于将字符串<span class="crayon-sy">$</span><span class="crayon-e">a</span>分割到数组<span class="crayon-sy">$</span><span class="crayon-e">arr</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">arr</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">arr</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">Shell 数组元素个数${#array[@]} 数组的所有元素${array[*]} 字符串长度${#str}&nbsp;</b></div>
<div>http://zhenshi4597.blog.51cto.com/1891465/871166</div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505610572811_3969" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe9b344929746" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
1、获取数组元素的个数:
        array=(bill   chen  bai   hu);
        num=${#array[@]}  </textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe9b344929746-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe9b344929746-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe9b344929746-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe9b344929746-1"><span class="crayon-cn">1</span>、获取数组元素的个数<span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe9b344929746-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">array</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-e">bill&nbsp;&nbsp; </span><span class="crayon-e">chen&nbsp;&nbsp;</span><span class="crayon-e">bai&nbsp;&nbsp; </span><span class="crayon-v">hu</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe9b344929746-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">num</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#array[@]}&nbsp;&nbsp;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">SHELL脚本中的数组</b><span style="color: inherit; font-size: 1rem; line-height: 1.6;">&nbsp;</span></div>
</div>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;">http://smilejay.com/2016/04/array-in-bash/</span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505610676980_4931" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe9d282961200" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
4. 数组的长度（元素的个数）和元素的字符串长度
数组的长度就是元素的个数，通过 ${#array_name[@]} 或 ${#array_name[*]} 获取；其中某个元素的字符串长度 ${#array_name[index]} 。

5. 数组的截断
{array_name[@]:1} 表示除了第1个元素（小标0）之外的所有元素
{array_name[@]:1:4} 表示第2、3、4个（下标为1，2，4-1）元素</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe9d282961200-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe9d282961200-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe9d282961200-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe9d282961200-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe9d282961200-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe9d282961200-6">6</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe9d282961200-1"><span class="crayon-cn">4.</span><span class="crayon-h"> </span>数组的长度（元素的个数）和元素的字符串长度</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe9d282961200-2">数组的长度就是元素的个数，通过<span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#array_name[@]} 或 ${#array_name[*]} 获取；其中某个元素的字符串长度 ${#array_name[index]} 。</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe9d282961200-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe9d282961200-4"><span class="crayon-cn">5.</span><span class="crayon-h"> </span>数组的截断</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe9d282961200-5"><span class="crayon-sy">{</span><span class="crayon-v">array_name</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-sy">]</span><span class="crayon-o">:</span><span class="crayon-cn">1</span><span class="crayon-sy">}</span><span class="crayon-h"> </span>表示除了第<span class="crayon-cn">1</span>个元素（小标<span class="crayon-cn">0</span>）之外的所有元素</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe9d282961200-6"><span class="crayon-sy">{</span><span class="crayon-v">array_name</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-sy">]</span><span class="crayon-o">:</span><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-cn">4</span><span class="crayon-sy">}</span><span class="crayon-h"> </span>表示第<span class="crayon-cn">2</span>、<span class="crayon-cn">3</span>、<span class="crayon-cn">4</span>个（下标为<span class="crayon-cn">1</span>，<span class="crayon-cn">2</span>，<span class="crayon-cn">4</span><span class="crayon-o">-</span><span class="crayon-cn">1</span>）元素</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">Shell编程中的数组定义、遍历&nbsp;</b></div>
<div>https://www.coder4.com/archives/3853</div>
<div class="wiz-code-container" id="wiz_cm_1505610993488_9785" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfe9f527789053" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
数组定义：
    arr=(1 2 3 4 5) # 注意是用空格分开，不是逗号！！
数组定义法2：
    array
    array[0]="a"
    array[1]="b"
    array[2]="c"</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe9f527789053-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe9f527789053-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe9f527789053-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe9f527789053-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe9f527789053-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfe9f527789053-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfe9f527789053-7">7</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe9f527789053-1">数组定义：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe9f527789053-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">arr</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-p"># 注意是用空格分开，不是逗号！！</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe9f527789053-3">数组定义法<span class="crayon-cn">2</span>：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe9f527789053-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">array</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe9f527789053-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">array</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-s">"a"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfe9f527789053-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">array</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-s">"b"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfe9f527789053-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">array</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-s">"c"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
</p>
<div></div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">Shell数组：shell数组的定义、数组长度&nbsp;</b></div>
<div>http://c.biancheng.net/cpp/view/7002.html</div>
<div class="wiz-code-container" id="wiz_cm_1505611150904_5473" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828dfea0759362439" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
定义数组
在Shell中，用括号来表示数组，数组元素用“空格”符号分割开。定义数组的一般形式为：
    array_name=(value1 ... valuen)
    例如：
    array_name=(value0 value1 value2 value3)
    或者
    array_name=(
    value0
    value1
    value2
    value3
    )
还可以单独定义数组的各个分量：
    array_name[0]=value0
    array_name[1]=value1
    array_name[2]=value2
可以不使用连续的下标，而且下标的范围没有限制。

读取数组
读取数组元素值的一般格式是：
    ${array_name[index]}
    例如：
    valuen=${array_name[2]}

获取数组的长度
获取数组长度的方法与获取字符串长度的方法相同，例如：
    # 取得数组元素的个数
    length=${#array_name[@]}
    # 或者
    length=${#array_name[*]}
    # 取得数组单个元素的长度
    lengthn=${#array_name[n]}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828dfea0759362439-32">32</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-1">定义数组</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-2">在<span class="crayon-i">Shell</span>中，用括号来表示数组，数组元素用“空格”符号分割开。定义数组的一般形式为：</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">array_name</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-i">value1</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">valuen</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>例如：</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">array_name</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-e">value0 </span><span class="crayon-e">value1 </span><span class="crayon-e">value2 </span><span class="crayon-v">value3</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>或者</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">array_name</span><span class="crayon-o">=</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">value0</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-9"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">value1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-10"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">value2</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-11"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">value3</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-13">还可以单独定义数组的各个分量：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">array_name</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-e">value0</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-15"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">array_name</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-e">value1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-16"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">array_name</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-e">value2</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-17">可以不使用连续的下标，而且下标的范围没有限制。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-18">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-19">读取数组</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-20">读取数组元素值的一般格式是：</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">array_name</span><span class="crayon-sy">[</span><span class="crayon-v">index</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>例如：</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">valuen</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">array_name</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-24">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-25">获取数组的长度</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-26">获取数组长度的方法与获取字符串长度的方法相同，例如：</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 取得数组元素的个数</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">length</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#array_name[@]}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 或者</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">length</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#array_name[*]}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 取得数组单个元素的长度</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828dfea0759362439-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lengthn</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#array_name[n]}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
</p>
<div></div>
</div>
<div></div>
<p><wiz_tmp_tag id="wiz-table-range-border" contenteditable="false" style="display: none;"></p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p></wiz_tmp_tag></p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a>, <a href="https://luojimen.github.io/tag/pt/" rel="tag">pt</a>, <a href="https://luojimen.github.io/tag/vps/" rel="tag">vps</a>, <a href="https://luojimen.github.io/tag/vultr/" rel="tag">vultr</a>, <a href="https://luojimen.github.io/tag/wordpress/" rel="tag">wordpress</a>, <a href="https://luojimen.github.io/tag/%e4%b8%8b%e8%bd%bd/" rel="tag">下载</a>, <a href="https://luojimen.github.io/tag/blog/" rel="tag">博客</a>, <a href="https://luojimen.github.io/tag/%e7%bd%91%e7%ab%99/" rel="tag">网站</a>, <a href="https://luojimen.github.io/tag/%e8%84%9a%e6%9c%ac/" rel="tag">脚本</a>, <a href="https://luojimen.github.io/tag/%e9%82%ae%e4%bb%b6/" rel="tag">邮件</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1480 post type-post status-publish format-standard has-post-thumbnail hentry category-linux tag-linux" id="post-1480">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2017/12/centos6-8%e7%bc%96%e8%af%91%e5%ae%89%e8%a3%85%e5%ae%98%e6%96%b9transmission2-92/">centos6.8编译安装官方transmission2.92</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2017/12/centos6-8%e7%bc%96%e8%af%91%e5%ae%89%e8%a3%85%e5%ae%98%e6%96%b9transmission2-92/">2017年12月6日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<figure class="featured-media">

		<div class="featured-media-inner section-inner medium">

			<img width="432" height="50" src="https://luojimen.github.io/wp-content/uploads/2017/12/5e149f4ce784bb614022db803c8f8e8b_a932d44e-4755-4692-9986-41c2e3c4096a.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="" loading="lazy" />
		</div><!-- .featured-media-inner -->

	</figure><!-- .featured-media -->

	
	<div class="post-inner thin ">

		<div class="entry-content">

			<div>官方git: https://github.com/transmission/transmission</div>
<div></div>
<div>步骤概览</div>
<div id="wiz_cm_1512457155819_7491" class="wiz-code-container" data-mode="HTML" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e071d461018240" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
yum install git
git clone https://github.com/transmission/transmission.git
cd transmission
git submodule update --init
mkdir build
cd build
cmake ..
make
sudo make install</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e071d461018240-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e071d461018240-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e071d461018240-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e071d461018240-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e071d461018240-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e071d461018240-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e071d461018240-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e071d461018240-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e071d461018240-9">9</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e071d461018240-1"><span class="crayon-e">yum </span><span class="crayon-e">install </span><span class="crayon-e">git</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e071d461018240-2"><span class="crayon-e">git </span><span class="crayon-r">clone</span><span class="crayon-h"> </span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//github.com/transmission/transmission.git</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e071d461018240-3"><span class="crayon-e">cd </span><span class="crayon-e">transmission</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e071d461018240-4"><span class="crayon-e">git </span><span class="crayon-e">submodule </span><span class="crayon-v">update</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">init</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e071d461018240-5"><span class="crayon-e">mkdir </span><span class="crayon-e">build</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e071d461018240-6"><span class="crayon-e">cd </span><span class="crayon-e">build</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e071d461018240-7"><span class="crayon-i">cmake</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e071d461018240-8"><span class="crayon-e">make</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e071d461018240-9"><span class="crayon-e">sudo </span><span class="crayon-e">make </span><span class="crayon-v">install</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
<div></div>
<div>如果cmake不存在则 参考 &gt;&gt;<b>linux 安装gcc,make,cmake  [这篇的cmake版本太低,需替换]</b> (https://my.oschina.net/dyyweb/blog/750733)</div>
<div>yum install gcc-c++ //必须的依赖包</div>
<div>yum install cmake</div>
<div>
<div id="wiz_cm_1512457184497_6083" class="wiz-code-container" data-mode="HTML" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0723660949738" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@centos6 build]# cmake ..
-bash: cmake: command not found</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0723660949738-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0723660949738-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0723660949738-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">centos6 </span><span class="crayon-v">build</span><span class="crayon-sy">]</span><span class="crayon-p"># cmake ..</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0723660949738-2"><span class="crayon-o">-</span><span class="crayon-v">bash</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">cmake</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">command </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-v">found</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>如果cmake还是没有安装成功,尝试编译安装,cmake要求2.8.12以上版本.</div>
<div>//要安装在/usr/local目录下</div>
<div id="wiz_cm_1512463097086_8470" class="wiz-code-container" data-mode="HTML" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0724545818812" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
cd /usr/local 
wget https://cmake.org/files/v2.8/cmake-2.8.12.2.tar.gz
tar -zxvf cmake-2.8.12.2.tar.gz
cd cmake-2.8.12.2
./configure
make
make install</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0724545818812-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0724545818812-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0724545818812-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0724545818812-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0724545818812-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0724545818812-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0724545818812-7">7</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0724545818812-1"><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-e">local </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0724545818812-2"><span class="crayon-e">wget </span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//cmake.org/files/v2.8/cmake-2.8.12.2.tar.gz</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0724545818812-3"><span class="crayon-v">tar</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">zxvf </span><span class="crayon-v">cmake</span><span class="crayon-o">-</span><span class="crayon-cn">2.8.12.2.tar.gz</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0724545818812-4"><span class="crayon-e">cd </span><span class="crayon-v">cmake</span><span class="crayon-o">-</span><span class="crayon-cn">2.8.12.2</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0724545818812-5"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-e">configure</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0724545818812-6"><span class="crayon-e">make</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0724545818812-7"><span class="crayon-e">make </span><span class="crayon-v">install</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
<div></div>
<div>先创建目录:mkdir /root/Downloads (否则无法下载)</div>
<div></div>
<div>首次运行创建配置文件</div>
</div>
<div id="wiz_cm_1512457795375_4541" class="wiz-code-container" data-mode="HTML" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0726594411328" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
transmission-daemon -g /usr/local/transmission</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0726594411328-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0726594411328-1"><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">daemon</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">g</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">local</span><span class="crayon-o">/</span><span class="crayon-v">transmission</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;">杀死进程</span></div>
<div id="wiz_cm_1512457792352_2589" class="wiz-code-container" data-mode="HTML" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0727455817135" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
killall transmission-daemon</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0727455817135-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0727455817135-1"><span class="crayon-e">killall </span><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">daemon</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;">修改配置文件</span></div>
<div id="wiz_cm_1512457788875_5826" class="wiz-code-container" data-mode="HTML" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0729580668779" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
vi /usr/local/transmission/settings.json</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0729580668779-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0729580668779-1"><span class="crayon-v">vi</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">local</span><span class="crayon-o">/</span><span class="crayon-v">transmission</span><span class="crayon-o">/</span><span class="crayon-v">settings</span><span class="crayon-sy">.</span><span class="crayon-v">json</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;">运行程序</span></div>
<div id="wiz_cm_1512457785445_4998" class="wiz-code-container" data-mode="HTML" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e072a370382867" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
transmission-daemon -g /usr/local/transmission</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e072a370382867-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e072a370382867-1"><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">daemon</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">g</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">local</span><span class="crayon-o">/</span><span class="crayon-v">transmission</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div></div>
<div>记得关闭防火墙</div>
<div id="wiz_cm_1512457780987_7169" class="wiz-code-container" data-mode="HTML" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e072b225604196" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
service iptables stop //临时关闭
chkconfig iptables off //永久关闭</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e072b225604196-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e072b225604196-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e072b225604196-1"><span class="crayon-e">service </span><span class="crayon-e">iptables </span><span class="crayon-v">stop</span><span class="crayon-h"> </span><span class="crayon-c">//临时关闭</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e072b225604196-2"><span class="crayon-e">chkconfig </span><span class="crayon-e">iptables </span><span class="crayon-v">off</span><span class="crayon-h"> </span><span class="crayon-c">//永久关闭</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div></div>
<div>完成: <img loading="lazy" class="alignnone size-full wp-image-2239" src="https://luojimen.github.io/wp-content/uploads/2017/12/5e149f4ce784bb614022db803c8f8e8b_a932d44e-4755-4692-9986-41c2e3c4096a.jpg" width="432" height="50" alt="5e149f4ce784bb614022db803c8f8e8b_a932d44e-4755-4692-9986-41c2e3c4096a" title="5e149f4ce784bb614022db803c8f8e8b_a932d44e-4755-4692-9986-41c2e3c4096a" /></div>
<div></div>
<div>故障:虽然可以打开tr和rpc链接,但依旧无法添加种子,</div>
<div></div>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;"> </span></div>
<p>&nbsp;</p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;"></div>
<div id="wiz-table-range-border_range" style="display: none;"></div>
<p>&nbsp;</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1464 post type-post status-publish format-standard hentry category-linux tag-linux tag-ubuntu" id="post-1464">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2017/12/linuxcentos%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4/">Linux(CentOS/Ubuntu)常用命令和路径</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2017/12/linuxcentos%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4/">2017年12月5日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<h2>通用</h2>
<div>当前文件夹下生成指定体积的文件</div>
<div class="wiz-code-container" id="wiz_cm_1512630683617_1149" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e095c496697831" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
dd if=/dev/zero of=test.bin bs=1M count=10</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e095c496697831-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e095c496697831-1"><span class="crayon-e">dd </span><span class="crayon-st">if</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-e">zero </span><span class="crayon-v">of</span><span class="crayon-o">=</span><span class="crayon-v">test</span><span class="crayon-sy">.</span><span class="crayon-e">bin </span><span class="crayon-v">bs</span><span class="crayon-o">=</span><span class="crayon-cn">1M</span><span class="crayon-h"> </span><span class="crayon-v">count</span><span class="crayon-o">=</span><span class="crayon-cn">10</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<h2>Ubuntu</h2>
<div>ssh配置</div>
<div class="wiz-code-container" id="wiz_cm_1512666661709_2694" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0961535808819" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# /etc/ssh/sshd_config
# service ssh restart</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0961535808819-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0961535808819-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0961535808819-1"><span class="crayon-p"># /etc/ssh/sshd_config</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0961535808819-2"><span class="crayon-p"># service ssh restart</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div>修改主机名称</div>
<div class="wiz-code-container" id="wiz_cm_1513357697465_6547" data-mode="Shell" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0962560643241" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# hostname 新主机名 //临时修改,重登生效,重启失效.</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0962560643241-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0962560643241-1"><span class="crayon-p"># hostname 新主机名 //临时修改,重登生效,重启失效.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<h2></h2>
<h2>CentOS</h2>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;">查看CentOS版本:rpm -q centos-release</span></div>
<div class="wiz-code-container" id="wiz_cm_1512402177036_5343" data-mode="HTML" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0964666360357" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# rpm -q centos-release
centos-release-6-8.el6.centos.12.3.x86_64</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0964666360357-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0964666360357-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0964666360357-1"><span class="crayon-p"># rpm -q centos-release</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0964666360357-2"><span class="crayon-v">centos</span><span class="crayon-o">-</span><span class="crayon-v">release</span><span class="crayon-o">-</span><span class="crayon-cn">6</span><span class="crayon-o">-</span><span class="crayon-cn">8.el6.centos.12.3.x86_64</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>
<div>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;">查看发行版本:cat /etc/redhat-release</span></div>
<div class="wiz-code-container" data-mode="HTML" data-theme="default" id="wiz_cm_1512491706642_8538"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0965582176883" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@centos6 ~]# cat /etc/redhat-release
CentOS release 6.8 (Final)</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0965582176883-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0965582176883-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0965582176883-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">centos6</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># cat /etc/redhat-release</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0965582176883-2"><span class="crayon-e">CentOS </span><span class="crayon-i">release</span><span class="crayon-h"> </span><span class="crayon-cn">6.8</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-m">Final</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>
<div>查看内核:uname -r</div>
<div>
<div class="wiz-code-container" data-mode="HTML" data-theme="default" id="wiz_cm_1512491706629_9566"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0966901880344" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@centos6 ~]# uname -r
2.6.32-642.6.1.el6.x86_64</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0966901880344-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0966901880344-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0966901880344-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">centos6</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># uname -r</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0966901880344-2"><span class="crayon-cn">2.6.32</span><span class="crayon-o">-</span><span class="crayon-cn">642.6.1.el6.x86_64</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>查看内核:uname -a</div>
</div>
<div>
<div class="wiz-code-container" data-mode="HTML" data-theme="default" id="wiz_cm_1512491706619_9035"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0968650212528" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@centos6 ~]# uname -a
Linux centos6 2.6.32-642.6.1.el6.x86_64 #1 SMP Wed Oct 5 00:36:12 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0968650212528-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0968650212528-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0968650212528-1"><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">centos6</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># uname -a</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0968650212528-2"><span class="crayon-e">Linux </span><span class="crayon-i">centos6</span><span class="crayon-h"> </span><span class="crayon-cn">2.6.32</span><span class="crayon-o">-</span><span class="crayon-cn">642.6.1.el6.x86_64</span><span class="crayon-h"> </span><span class="crayon-p">#1 SMP Wed Oct 5 00:36:12 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
</div>
<div>&nbsp;</div>
</div>
</div>
<div>CentOS6.8 防火墙命令:</div>
<div class="wiz-code-container" data-mode="HTML" data-theme="default" id="wiz_cm_1512491292012_9237"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0969617145429" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
查询防火墙:[root@localhost ~]# service  iptables status
停止防火墙:[root@localhost ~]# service  iptables stop 
启动防火墙:[root@localhost ~]# service  iptables start
重启防火墙:[root@localhost ~]# service  iptables restart
永久关闭墙:[root@localhost ~]# chkconfig  iptables off
永久启用墙:[root@localhost ~]# chkconfig  iptables on (永久关闭后启用)</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0969617145429-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0969617145429-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0969617145429-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0969617145429-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0969617145429-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d25828e0969617145429-6">6</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0969617145429-1">查询防火墙<span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">localhost</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># service&nbsp;&nbsp;iptables status</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0969617145429-2">停止防火墙<span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">localhost</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># service&nbsp;&nbsp;iptables stop </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0969617145429-3">启动防火墙<span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">localhost</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># service&nbsp;&nbsp;iptables start</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0969617145429-4">重启防火墙<span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">localhost</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># service&nbsp;&nbsp;iptables restart</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0969617145429-5">永久关闭墙<span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">localhost</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># chkconfig&nbsp;&nbsp;iptables off</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d25828e0969617145429-6">永久启用墙<span class="crayon-o">:</span><span class="crayon-sy">[</span><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">localhost</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">]</span><span class="crayon-p"># chkconfig&nbsp;&nbsp;iptables on (永久关闭后启用)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
<div></div>
<div></div>
<p></div>
<div></div>
<div></div>
<p><wiz_tmp_tag id="wiz-table-range-border" contenteditable="false" style="display: none;"></p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p></wiz_tmp_tag></p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a>, <a href="https://luojimen.github.io/tag/ubuntu/" rel="tag">ubuntu</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1403 post type-post status-publish format-standard hentry category-linux tag-linux" id="post-1403">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2017/12/ubuntu%e4%b8%8b%e4%bd%bf%e7%94%a8-root-%e8%bf%9c%e7%a8%8b%e7%99%bb%e5%bd%95-ssh/">ubuntu下使用 root 远程登录 ssh</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2017/12/ubuntu%e4%b8%8b%e4%bd%bf%e7%94%a8-root-%e8%bf%9c%e7%a8%8b%e7%99%bb%e5%bd%95-ssh/">2017年12月3日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<div>ubuntu默认未启用root用户的SSH远程连接</div>
<div>启用方法依下:</div>
<div>
<p><span style="color: inherit; font-size: 1rem; line-height: 1.6;">1/ 给root用户设定密码:</span></p>
<div>
<div id="wiz_cm_1512215666064_9919" class="wiz-code-container" data-mode="HTML" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0b8c445858420" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
sudo passwd root</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0b8c445858420-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0b8c445858420-1"><span class="crayon-e">sudo </span><span class="crayon-e">passwd </span><span class="crayon-v">root</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
</div>
<p>2/ 修改openssh server配置,找到PermitRootLogin 一行，改为PermitRootLogin yes</p>
</div>
<div id="wiz_cm_1512215732628_8756" class="wiz-code-container" data-mode="HTML" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0b90541671036" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
sudo vi /etc/ssh/sshd_config</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0b90541671036-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0b90541671036-1"><span class="crayon-e">sudo </span><span class="crayon-v">vi</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">ssh</span><span class="crayon-o">/</span><span class="crayon-v">sshd_config</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>3/ 重启 openssh server</div>
<div id="wiz_cm_1512215810484_4335" class="wiz-code-container" data-mode="HTML" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d25828e0b92137766670" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
sudo service ssh restart</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d25828e0b92137766670-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d25828e0b92137766670-1"><span class="crayon-e">sudo </span><span class="crayon-e">service </span><span class="crayon-e">ssh </span><span class="crayon-v">restart</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>现在已经可以使用root远程登录ssh!</div>
<div></div>
<p>&nbsp;</p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;"></div>
<div id="wiz-table-range-border_range" style="display: none;"></div>
<p>&nbsp;</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-308 post type-post status-publish format-standard has-post-thumbnail hentry category-devops tag-13 tag-linux tag-pt tag-16 tag-8 tag-10" id="post-308">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/devops/" rel="category tag">网站运维</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2017/05/%e5%ae%9d%e5%a1%94linux%e9%9d%a2%e6%9d%bf%e9%83%a8%e7%bd%b2ssl%e5%85%8d%e8%b4%b9%e8%af%81%e4%b9%a6/">宝塔linux面板部署SSL免费证书</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2017/05/%e5%ae%9d%e5%a1%94linux%e9%9d%a2%e6%9d%bf%e9%83%a8%e7%bd%b2ssl%e5%85%8d%e8%b4%b9%e8%af%81%e4%b9%a6/">2017年5月26日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<figure class="featured-media">

		<div class="featured-media-inner section-inner medium">

			
		</div><!-- .featured-media-inner -->

	</figure><!-- .featured-media -->

	
	<div class="post-inner thin ">

		<div class="entry-content">

			<div>
<div>
<p><img loading="lazy" class="alignnone size-full wp-image-2361" title="c52b9a08bbbc685ef863ea8d75b3d1c1_81cba5c6-c76f-4710-b2b0-de15befb9488" src="https://luojimen.github.io/wp-content/uploads/2017/05/c52b9a08bbbc685ef863ea8d75b3d1c1_81cba5c6-c76f-4710-b2b0-de15befb9488.jpg" alt="c52b9a08bbbc685ef863ea8d75b3d1c1_81cba5c6-c76f-4710-b2b0-de15befb9488" width="459" height="215" /></p>
<div></div>
</div>
<div>
<p><span style="font-weight: normal; font-size: 1rem;" data-wiz-span="data-wiz-span">看到越来越多个人网站都用上了https前缀,遂尝试部署。过程很简单。</span></p>
<h2>宝塔面板自带申请Let&#8217;s Encrypt免费证书（有效期90天，自动续签）</h2>
<div></div>
<p>非常简单，网站点选Let&#8217;s Encrypt免费证书，自动部署，部署后需要等几小时生效（注意：部署后访问https时可能并非即时生效，本博主以为不成功，所以后来又去申请阿里云的SSL证书。第二天阿里云证书成功后，意外发现昨天使用宝塔面板自动部署的Let&#8217;s Encrypt网站https成功打开并且证书绿色通过。）</p>
</div>
<div>
<p><img loading="lazy" class="alignnone size-full wp-image-2360" title="c52b9a08bbbc685ef863ea8d75b3d1c1_2f69e72f-ee5d-4794-9250-c698f13b1aa0-2" src="https://luojimen.github.io/wp-content/uploads/2017/05/c52b9a08bbbc685ef863ea8d75b3d1c1_2f69e72f-ee5d-4794-9250-c698f13b1aa0-2.png" alt="c52b9a08bbbc685ef863ea8d75b3d1c1_2f69e72f-ee5d-4794-9250-c698f13b1aa0-2" width="539" height="463" /></p>
<div>
<p>第二天查看已经成功。 <img loading="lazy" class="alignnone size-full wp-image-2364" title="c52b9a08bbbc685ef863ea8d75b3d1c1_f585418c-1800-49f7-bb27-3326947a7c98-2" src="https://luojimen.github.io/wp-content/uploads/2017/05/c52b9a08bbbc685ef863ea8d75b3d1c1_f585418c-1800-49f7-bb27-3326947a7c98-2.png" alt="c52b9a08bbbc685ef863ea8d75b3d1c1_f585418c-1800-49f7-bb27-3326947a7c98-2" width="319" height="104" /></p>
<div></div>
</div>
<div>
<hr />
</div>
</div>
<div>
<h2>阿里云申请免费SSL证书（有效期一年）</h2>
<div>
<div>【其他：在西部数码注册的 <a href="http://www.luoji.men">www.luoji.men</a>  小众顶级域名,虽然西部数码也提供免费SSL证书(TrustAsia品牌),但是申请的时候提示不支持这域名(自家儿子都不认?)。】<img loading="lazy" class="alignnone size-full wp-image-2396" src="https://luojimen.github.io/wp-content/uploads/2017/05/c52b9a08bbbc685ef863ea8d75b3d1c1_32941212-51d6-43fe-814b-c798d24d7311-2-20220402-120610.jpg" width="371" height="178" alt="宝塔linux面板部署SSL免费证书-1" title="宝塔linux面板部署SSL免费证书-1" />。</div>
<div></div>
<div>于是去阿里云申请（网站和域名都不在阿里云，并且无备案，成功申请部署）</div>
<div>www.luoji.men小众域名一天便通过，赞!</div>
</div>
<p>步骤很简单</p>
</div>
</div>
<div>1、购买阿里云的安全（云盾）产品中的免费型DV SSL证书服务（Symantec）有效期一年</div>
<div><img loading="lazy" class="alignnone size-full wp-image-2366" title="c52b9a08bbbc685ef863ea8d75b3d1c1_d2cac3f5-206f-49d6-b652-15734f570edc-2" src="https://luojimen.github.io/wp-content/uploads/2017/05/c52b9a08bbbc685ef863ea8d75b3d1c1_d2cac3f5-206f-49d6-b652-15734f570edc-2.png" alt="c52b9a08bbbc685ef863ea8d75b3d1c1_d2cac3f5-206f-49d6-b652-15734f570edc-2" width="1211" height="582" /></div>
<div>
<div> 2、到证书管理补全域名和申请人信息。</div>
<div><img loading="lazy" class="alignnone size-full wp-image-2363" title="c52b9a08bbbc685ef863ea8d75b3d1c1_084d8f4a-60bf-4fc2-9a57-9613ea9b4359-2" src="https://luojimen.github.io/wp-content/uploads/2017/05/c52b9a08bbbc685ef863ea8d75b3d1c1_084d8f4a-60bf-4fc2-9a57-9613ea9b4359-2.png" alt="c52b9a08bbbc685ef863ea8d75b3d1c1_084d8f4a-60bf-4fc2-9a57-9613ea9b4359-2" width="1242" height="281" /></div>
<div></div>
<div>3、按照域名验证做响应的响应操作，二选一，DNS和文件都可<img loading="lazy" class="alignnone size-full wp-image-2368" title="c52b9a08bbbc685ef863ea8d75b3d1c1_ac3d0c52-ff11-4562-857e-b262b9faeb6e-2" src="https://luojimen.github.io/wp-content/uploads/2017/05/c52b9a08bbbc685ef863ea8d75b3d1c1_ac3d0c52-ff11-4562-857e-b262b9faeb6e-2.png" alt="c52b9a08bbbc685ef863ea8d75b3d1c1_ac3d0c52-ff11-4562-857e-b262b9faeb6e-2" width="233" height="30" /></div>
<div>4、申请完成。等待通过即可。昨晚19点操作，今早9点已签发</div>
<div></div>
<div>
<div> 我使用的是宝塔Linux面板（版本: 4.2.1）</div>
<div>1、下载申请的SSL证书</div>
<div><img loading="lazy" class="alignnone size-full wp-image-2369" title="c52b9a08bbbc685ef863ea8d75b3d1c1_30eb7224-1995-47a2-a708-b786124032a5-2" src="https://luojimen.github.io/wp-content/uploads/2017/05/c52b9a08bbbc685ef863ea8d75b3d1c1_30eb7224-1995-47a2-a708-b786124032a5-2.png" alt="c52b9a08bbbc685ef863ea8d75b3d1c1_30eb7224-1995-47a2-a708-b786124032a5-2" width="1097" height="48" /></div>
<div>
<p><img loading="lazy" class="alignnone size-full wp-image-2365" title="c52b9a08bbbc685ef863ea8d75b3d1c1_5e9d2740-6cfc-42bf-aa57-e46c8e66105e-2" src="https://luojimen.github.io/wp-content/uploads/2017/05/c52b9a08bbbc685ef863ea8d75b3d1c1_5e9d2740-6cfc-42bf-aa57-e46c8e66105e-2.png" alt="c52b9a08bbbc685ef863ea8d75b3d1c1_5e9d2740-6cfc-42bf-aa57-e46c8e66105e-2" width="169" height="113" /></p>
<div></div>
</div>
<div>2、将一串数字的key和pem文件用文本打开，复制到宝塔面板的SSL上保存。</div>
<div>
<p><img loading="lazy" class="alignnone size-full wp-image-2367" title="c52b9a08bbbc685ef863ea8d75b3d1c1_abb0c56e-211a-457c-b33d-8ce4c636d66f-2" src="https://luojimen.github.io/wp-content/uploads/2017/05/c52b9a08bbbc685ef863ea8d75b3d1c1_abb0c56e-211a-457c-b33d-8ce4c636d66f-2.png" alt="c52b9a08bbbc685ef863ea8d75b3d1c1_abb0c56e-211a-457c-b33d-8ce4c636d66f-2" width="580" height="398" /></p>
<div>3、已部署完成。 打开https://www.luoji.men为绿色安全标记<img loading="lazy" class="alignnone size-full wp-image-2370" title="c52b9a08bbbc685ef863ea8d75b3d1c1_035478cd-e69f-4c17-ad26-2e36d44f9c8f-2" src="https://luojimen.github.io/wp-content/uploads/2017/05/c52b9a08bbbc685ef863ea8d75b3d1c1_035478cd-e69f-4c17-ad26-2e36d44f9c8f-2.png" alt="c52b9a08bbbc685ef863ea8d75b3d1c1_035478cd-e69f-4c17-ad26-2e36d44f9c8f-2" width="322" height="108" />。</div>
<div></div>
<div></div>
</div>
<div></div>
</div>
<div></div>
</div>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;"></div>
<div id="wiz-table-range-border_range" style="display: none;"></div>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/2019/" rel="tag">2019</a>, <a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a>, <a href="https://luojimen.github.io/tag/pt/" rel="tag">pt</a>, <a href="https://luojimen.github.io/tag/%e4%b8%8b%e8%bd%bd/" rel="tag">下载</a>, <a href="https://luojimen.github.io/tag/%e5%9f%9f%e5%90%8d/" rel="tag">域名</a>, <a href="https://luojimen.github.io/tag/%e7%bd%91%e7%ab%99/" rel="tag">网站</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->

	
</main><!-- #site-content -->


	<div class="footer-nav-widgets-wrapper header-footer-group">

		<div class="footer-inner section-inner">

			
			
				<aside class="footer-widgets-outer-wrapper">

					<div class="footer-widgets-wrapper">

						
							<div class="footer-widgets column-one grid-item">
								<div class="widget widget_search"><div class="widget-content"><form role="search"  method="get" class="search-form" action="https://luojimen.github.io/">
	<label for="search-form-2">
		<span class="screen-reader-text">搜索：</span>
		<input type="search" id="search-form-2" class="search-field" placeholder="搜索&hellip;" value="" name="s" />
	</label>
	<input type="submit" class="search-submit" value="搜索" />
</form>
</div></div><div class="widget widget_categories"><div class="widget-content"><h2 class="widget-title subheading heading-size-3">分类</h2><nav aria-label="分类">
			<ul>
					<li class="cat-item cat-item-37"><a href="https://luojimen.github.io/category/linux/">Linux</a>
</li>
	<li class="cat-item cat-item-36"><a href="https://luojimen.github.io/category/wp/">WordPress</a>
</li>
	<li class="cat-item cat-item-12"><a href="https://luojimen.github.io/category/pc/">电脑相关</a>
</li>
	<li class="cat-item cat-item-61"><a href="https://luojimen.github.io/category/mobile/">移动端</a>
</li>
	<li class="cat-item cat-item-11"><a href="https://luojimen.github.io/category/devops/">网站运维</a>
</li>
			</ul>

			</nav></div></div><div class="widget widget_archive"><div class="widget-content"><h2 class="widget-title subheading heading-size-3">归档</h2><nav aria-label="归档">
			<ul>
					<li><a href='https://luojimen.github.io/2023/01/'>2023年1月</a></li>
	<li><a href='https://luojimen.github.io/2022/09/'>2022年9月</a></li>
	<li><a href='https://luojimen.github.io/2022/08/'>2022年8月</a></li>
	<li><a href='https://luojimen.github.io/2022/07/'>2022年7月</a></li>
	<li><a href='https://luojimen.github.io/2022/06/'>2022年6月</a></li>
	<li><a href='https://luojimen.github.io/2022/04/'>2022年4月</a></li>
	<li><a href='https://luojimen.github.io/2022/03/'>2022年3月</a></li>
	<li><a href='https://luojimen.github.io/2022/02/'>2022年2月</a></li>
	<li><a href='https://luojimen.github.io/2021/03/'>2021年3月</a></li>
	<li><a href='https://luojimen.github.io/2021/01/'>2021年1月</a></li>
	<li><a href='https://luojimen.github.io/2020/12/'>2020年12月</a></li>
	<li><a href='https://luojimen.github.io/2020/11/'>2020年11月</a></li>
	<li><a href='https://luojimen.github.io/2020/10/'>2020年10月</a></li>
	<li><a href='https://luojimen.github.io/2020/09/'>2020年9月</a></li>
	<li><a href='https://luojimen.github.io/2020/08/'>2020年8月</a></li>
	<li><a href='https://luojimen.github.io/2020/07/'>2020年7月</a></li>
	<li><a href='https://luojimen.github.io/2020/06/'>2020年6月</a></li>
	<li><a href='https://luojimen.github.io/2020/05/'>2020年5月</a></li>
	<li><a href='https://luojimen.github.io/2020/04/'>2020年4月</a></li>
	<li><a href='https://luojimen.github.io/2020/03/'>2020年3月</a></li>
	<li><a href='https://luojimen.github.io/2020/02/'>2020年2月</a></li>
	<li><a href='https://luojimen.github.io/2019/12/'>2019年12月</a></li>
	<li><a href='https://luojimen.github.io/2019/08/'>2019年8月</a></li>
	<li><a href='https://luojimen.github.io/2019/07/'>2019年7月</a></li>
	<li><a href='https://luojimen.github.io/2019/05/'>2019年5月</a></li>
	<li><a href='https://luojimen.github.io/2018/08/'>2018年8月</a></li>
	<li><a href='https://luojimen.github.io/2018/07/'>2018年7月</a></li>
	<li><a href='https://luojimen.github.io/2018/03/'>2018年3月</a></li>
	<li><a href='https://luojimen.github.io/2018/02/'>2018年2月</a></li>
	<li><a href='https://luojimen.github.io/2018/01/'>2018年1月</a></li>
	<li><a href='https://luojimen.github.io/2017/12/'>2017年12月</a></li>
	<li><a href='https://luojimen.github.io/2017/11/'>2017年11月</a></li>
	<li><a href='https://luojimen.github.io/2017/09/'>2017年9月</a></li>
	<li><a href='https://luojimen.github.io/2017/05/'>2017年5月</a></li>
			</ul>

			</nav></div></div>							</div>

						
						
					</div><!-- .footer-widgets-wrapper -->

				</aside><!-- .footer-widgets-outer-wrapper -->

			
		</div><!-- .footer-inner -->

	</div><!-- .footer-nav-widgets-wrapper -->


			<footer id="site-footer" class="header-footer-group">

				<div class="section-inner">

					<div class="footer-credits">

						<p class="footer-copyright">&copy;
							2023							<a href="https://luojimen.github.io/">LuoJi.men</a>
						</p><!-- .footer-copyright -->

						
						<p class="powered-by-wordpress">
							<a href="https://cn.wordpress.org/">
								由WordPress强力驱动							</a>
						</p><!-- .powered-by-wordpress -->

					</div><!-- .footer-credits -->

					<a class="to-the-top" href="#site-header">
						<span class="to-the-top-long">
							返回顶部<span class="arrow" aria-hidden="true">&uarr;</span>						</span><!-- .to-the-top-long -->
						<span class="to-the-top-short">
							向上 <span class="arrow" aria-hidden="true">&uarr;</span>						</span><!-- .to-the-top-short -->
					</a><!-- .to-the-top -->

				</div><!-- .section-inner -->

			</footer><!-- #site-footer -->

		<script id='image-sizes-js-extra'>
var THUMBPRESS = {"version":"3.6.1","disables":["thumbnail","medium","medium_large","large","1536x1536","2048x2048","kratos-thumbnail"]};
</script>
<script src='https://luojimen.github.io/wp-content/plugins/image-sizes/assets/js/front.js?ver=3.6.1' id='image-sizes-js'></script>
<script src='http://push.zhanzhang.baidu.com/push.js?ver=6.0.3' id='baidu_zz_push-js'></script>
	<script>
	/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);
	</script>
	
	</body>
</html>
