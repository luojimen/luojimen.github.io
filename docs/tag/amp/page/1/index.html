<!DOCTYPE html>

<html class="no-js" lang="zh-CN">

	<head>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" >

		<link rel="profile" href="https://gmpg.org/xfn/11">

		<title>amp &#8211; LuoJi.men</title>
<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//push.zhanzhang.baidu.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="LuoJi.men &raquo; Feed" href="https://luojimen.github.io/feed/" />
<link rel="alternate" type="application/rss+xml" title="LuoJi.men &raquo; 评论Feed" href="https://luojimen.github.io/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="LuoJi.men &raquo; amp标签Feed" href="https://luojimen.github.io/tag/amp/feed/" />
<link rel='stylesheet' id='urvanov_syntax_highlighter-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/css/min/urvanov_syntax_highlighter.min.css?ver=2.8.27' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/themes/classic/classic.css?ver=2.8.27' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/fonts/monaco.css?ver=2.8.27' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='https://luojimen.github.io/wp-includes/css/dist/block-library/style.min.css?ver=6.0.3' media='all' />
<style id='global-styles-inline-css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--accent: #cd2653;--wp--preset--color--primary: #000000;--wp--preset--color--secondary: #6d6d6d;--wp--preset--color--subtle-background: #dcd7ca;--wp--preset--color--background: #f5efe0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 18px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 26.25px;--wp--preset--font-size--x-large: 42px;--wp--preset--font-size--normal: 21px;--wp--preset--font-size--larger: 32px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel='stylesheet' id='twentytwenty-style-css'  href='https://luojimen.github.io/wp-content/themes/twentytwenty/style.css?ver=1.9' media='all' />
<style id='twentytwenty-style-inline-css'>
.color-accent,.color-accent-hover:hover,.color-accent-hover:focus,:root .has-accent-color,.has-drop-cap:not(:focus):first-letter,.wp-block-button.is-style-outline,a { color: #cd2653; }blockquote,.border-color-accent,.border-color-accent-hover:hover,.border-color-accent-hover:focus { border-color: #cd2653; }button,.button,.faux-button,.wp-block-button__link,.wp-block-file .wp-block-file__button,input[type="button"],input[type="reset"],input[type="submit"],.bg-accent,.bg-accent-hover:hover,.bg-accent-hover:focus,:root .has-accent-background-color,.comment-reply-link { background-color: #cd2653; }.fill-children-accent,.fill-children-accent * { fill: #cd2653; }body,.entry-title a,:root .has-primary-color { color: #000000; }:root .has-primary-background-color { background-color: #000000; }cite,figcaption,.wp-caption-text,.post-meta,.entry-content .wp-block-archives li,.entry-content .wp-block-categories li,.entry-content .wp-block-latest-posts li,.wp-block-latest-comments__comment-date,.wp-block-latest-posts__post-date,.wp-block-embed figcaption,.wp-block-image figcaption,.wp-block-pullquote cite,.comment-metadata,.comment-respond .comment-notes,.comment-respond .logged-in-as,.pagination .dots,.entry-content hr:not(.has-background),hr.styled-separator,:root .has-secondary-color { color: #6d6d6d; }:root .has-secondary-background-color { background-color: #6d6d6d; }pre,fieldset,input,textarea,table,table *,hr { border-color: #dcd7ca; }caption,code,code,kbd,samp,.wp-block-table.is-style-stripes tbody tr:nth-child(odd),:root .has-subtle-background-background-color { background-color: #dcd7ca; }.wp-block-table.is-style-stripes { border-bottom-color: #dcd7ca; }.wp-block-latest-posts.is-grid li { border-top-color: #dcd7ca; }:root .has-subtle-background-color { color: #dcd7ca; }body:not(.overlay-header) .primary-menu > li > a,body:not(.overlay-header) .primary-menu > li > .icon,.modal-menu a,.footer-menu a, .footer-widgets a,#site-footer .wp-block-button.is-style-outline,.wp-block-pullquote:before,.singular:not(.overlay-header) .entry-header a,.archive-header a,.header-footer-group .color-accent,.header-footer-group .color-accent-hover:hover { color: #cd2653; }.social-icons a,#site-footer button:not(.toggle),#site-footer .button,#site-footer .faux-button,#site-footer .wp-block-button__link,#site-footer .wp-block-file__button,#site-footer input[type="button"],#site-footer input[type="reset"],#site-footer input[type="submit"] { background-color: #cd2653; }.header-footer-group,body:not(.overlay-header) #site-header .toggle,.menu-modal .toggle { color: #000000; }body:not(.overlay-header) .primary-menu ul { background-color: #000000; }body:not(.overlay-header) .primary-menu > li > ul:after { border-bottom-color: #000000; }body:not(.overlay-header) .primary-menu ul ul:after { border-left-color: #000000; }.site-description,body:not(.overlay-header) .toggle-inner .toggle-text,.widget .post-date,.widget .rss-date,.widget_archive li,.widget_categories li,.widget cite,.widget_pages li,.widget_meta li,.widget_nav_menu li,.powered-by-wordpress,.to-the-top,.singular .entry-header .post-meta,.singular:not(.overlay-header) .entry-header .post-meta a { color: #6d6d6d; }.header-footer-group pre,.header-footer-group fieldset,.header-footer-group input,.header-footer-group textarea,.header-footer-group table,.header-footer-group table *,.footer-nav-widgets-wrapper,#site-footer,.menu-modal nav *,.footer-widgets-outer-wrapper,.footer-top { border-color: #dcd7ca; }.header-footer-group table caption,body:not(.overlay-header) .header-inner .toggle-wrapper::before { background-color: #dcd7ca; }
body,input,textarea,button,.button,.faux-button,.wp-block-button__link,.wp-block-file__button,.has-drop-cap:not(:focus)::first-letter,.entry-content .wp-block-archives,.entry-content .wp-block-categories,.entry-content .wp-block-cover-image,.entry-content .wp-block-latest-comments,.entry-content .wp-block-latest-posts,.entry-content .wp-block-pullquote,.entry-content .wp-block-quote.is-large,.entry-content .wp-block-quote.is-style-large,.entry-content .wp-block-archives *,.entry-content .wp-block-categories *,.entry-content .wp-block-latest-posts *,.entry-content .wp-block-latest-comments *,.entry-content p,.entry-content ol,.entry-content ul,.entry-content dl,.entry-content dt,.entry-content cite,.entry-content figcaption,.entry-content .wp-caption-text,.comment-content p,.comment-content ol,.comment-content ul,.comment-content dl,.comment-content dt,.comment-content cite,.comment-content figcaption,.comment-content .wp-caption-text,.widget_text p,.widget_text ol,.widget_text ul,.widget_text dl,.widget_text dt,.widget-content .rssSummary,.widget-content cite,.widget-content figcaption,.widget-content .wp-caption-text { font-family: 'PingFang SC','Helvetica Neue','Microsoft YaHei New','STHeiti Light',sans-serif; }
</style>
<link rel='stylesheet' id='twentytwenty-print-style-css'  href='https://luojimen.github.io/wp-content/themes/twentytwenty/print.css?ver=1.9' media='print' />
<script src='https://luojimen.github.io/wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script src='https://luojimen.github.io/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script id='urvanov_syntax_highlighter_js-js-extra'>
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.27","is_admin":"0","ajaxurl":"http:\/\/luojimen.github.io\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"Copied to the clipboard","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
</script>
<script src='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/js/min/urvanov_syntax_highlighter.min.js?ver=2.8.27' id='urvanov_syntax_highlighter_js-js'></script>
<script src='https://luojimen.github.io/wp-content/themes/twentytwenty/assets/js/index.js?ver=1.9' id='twentytwenty-js-js' async></script>
<link rel="https://api.w.org/" href="https://luojimen.github.io/wp-json/" /><link rel="alternate" type="application/json" href="https://luojimen.github.io/wp-json/wp/v2/tags/44" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://luojimen.github.io/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 6.0.3" />
	<script>document.documentElement.className = document.documentElement.className.replace( 'no-js', 'js' );</script>
	<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YQCVEPVH0S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YQCVEPVH0S');
</script>


<!-- 谷歌收录的验证方式 -->
<meta name="google-site-verification" content="XxPfUFFG0MmfvRUNs2AFXHfRXRx_xVLXdD_6Si95rJ0" />
<!-- bing收录验证luojimen.github.io -->
<meta name="msvalidate.01" content="508C6C00EA05098C32CD4DB253B3CB66" />
<!-- baidu收录验证luojimen.github.io -->
<meta name="baidu-site-verification" content="code-DlUhxrKYUP" />		
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-YQCVEPVH0S"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'G-YQCVEPVH0S');
		</script>

				<script type="text/javascript">
		var _hmt = _hmt || [];
				_hmt.push(['_trackPageview']);
						(function() {
		var hm = document.createElement("script");
		hm.src = "//hm.baidu.com/hm.js?cff4b8fde8a7abf46d402c4fd284f0cc";
		hm.setAttribute('async', 'true');
		document.getElementsByTagName('head')[0].appendChild(hm);
		})();
		</script>
		
	</head>

	<body class="archive tag tag-amp tag-44 wp-embed-responsive enable-search-modal has-no-pagination showing-comments show-avatars footer-top-visible">
    <script type="text/javascript">  
    $(function() {  
    $('.content img').each(function(i){  
        if (! this.parentNode.href) {  
            $(this).wrap("<a href='"+this.src+"' class='highslide-image' onclick='return hs.expand(this);'></a>");  
                                    }  
                                            });  
                });  
    </script> 

		<a class="skip-link screen-reader-text" href="#site-content">跳至内容</a><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-dark-grayscale"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 0.49803921568627" /><feFuncG type="table" tableValues="0 0.49803921568627" /><feFuncB type="table" tableValues="0 0.49803921568627" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-grayscale"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 1" /><feFuncG type="table" tableValues="0 1" /><feFuncB type="table" tableValues="0 1" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-purple-yellow"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.54901960784314 0.98823529411765" /><feFuncG type="table" tableValues="0 1" /><feFuncB type="table" tableValues="0.71764705882353 0.25490196078431" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-blue-red"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 1" /><feFuncG type="table" tableValues="0 0.27843137254902" /><feFuncB type="table" tableValues="0.5921568627451 0.27843137254902" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-midnight"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 0" /><feFuncG type="table" tableValues="0 0.64705882352941" /><feFuncB type="table" tableValues="0 1" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-magenta-yellow"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.78039215686275 1" /><feFuncG type="table" tableValues="0 0.94901960784314" /><feFuncB type="table" tableValues="0.35294117647059 0.47058823529412" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-purple-green"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.65098039215686 0.40392156862745" /><feFuncG type="table" tableValues="0 1" /><feFuncB type="table" tableValues="0.44705882352941 0.4" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-blue-orange"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.098039215686275 1" /><feFuncG type="table" tableValues="0 0.66274509803922" /><feFuncB type="table" tableValues="0.84705882352941 0.41960784313725" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg>
		<header id="site-header" class="header-footer-group">

			<div class="header-inner section-inner">

				<div class="header-titles-wrapper">

					
						<button class="toggle search-toggle mobile-search-toggle" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field" aria-expanded="false">
							<span class="toggle-inner">
								<span class="toggle-icon">
									<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23"><path d="M38.710696,48.0601792 L43,52.3494831 L41.3494831,54 L37.0601792,49.710696 C35.2632422,51.1481185 32.9839107,52.0076499 30.5038249,52.0076499 C24.7027226,52.0076499 20,47.3049272 20,41.5038249 C20,35.7027226 24.7027226,31 30.5038249,31 C36.3049272,31 41.0076499,35.7027226 41.0076499,41.5038249 C41.0076499,43.9839107 40.1481185,46.2632422 38.710696,48.0601792 Z M36.3875844,47.1716785 C37.8030221,45.7026647 38.6734666,43.7048964 38.6734666,41.5038249 C38.6734666,36.9918565 35.0157934,33.3341833 30.5038249,33.3341833 C25.9918565,33.3341833 22.3341833,36.9918565 22.3341833,41.5038249 C22.3341833,46.0157934 25.9918565,49.6734666 30.5038249,49.6734666 C32.7048964,49.6734666 34.7026647,48.8030221 36.1716785,47.3875844 C36.2023931,47.347638 36.2360451,47.3092237 36.2726343,47.2726343 C36.3092237,47.2360451 36.347638,47.2023931 36.3875844,47.1716785 Z" transform="translate(-20 -31)" /></svg>								</span>
								<span class="toggle-text">搜索</span>
							</span>
						</button><!-- .search-toggle -->

					
					<div class="header-titles">

						<div class="site-title faux-heading"><a href="https://luojimen.github.io/">LuoJi.men</a></div><div class="site-description">逻辑门</div><!-- .site-description -->
					</div><!-- .header-titles -->

					<button class="toggle nav-toggle mobile-nav-toggle" data-toggle-target=".menu-modal"  data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".close-nav-toggle">
						<span class="toggle-inner">
							<span class="toggle-icon">
								<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="26" height="7" viewBox="0 0 26 7"><path fill-rule="evenodd" d="M332.5,45 C330.567003,45 329,43.4329966 329,41.5 C329,39.5670034 330.567003,38 332.5,38 C334.432997,38 336,39.5670034 336,41.5 C336,43.4329966 334.432997,45 332.5,45 Z M342,45 C340.067003,45 338.5,43.4329966 338.5,41.5 C338.5,39.5670034 340.067003,38 342,38 C343.932997,38 345.5,39.5670034 345.5,41.5 C345.5,43.4329966 343.932997,45 342,45 Z M351.5,45 C349.567003,45 348,43.4329966 348,41.5 C348,39.5670034 349.567003,38 351.5,38 C353.432997,38 355,39.5670034 355,41.5 C355,43.4329966 353.432997,45 351.5,45 Z" transform="translate(-329 -38)" /></svg>							</span>
							<span class="toggle-text">菜单</span>
						</span>
					</button><!-- .nav-toggle -->

				</div><!-- .header-titles-wrapper -->

				<div class="header-navigation-wrapper">

					
							<nav class="primary-menu-wrapper" aria-label="水平">

								<ul class="primary-menu reset-list-style">

								<li id="menu-item-2784" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2784"><a href="https://luojimen.github.io/my/">我的</a></li>
<li id="menu-item-2391" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2391"><a href="https://luojimen.github.io/">主站</a></li>
<li id="menu-item-2392" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2392"><a href="https://luojimen.github.io/online-tool-station/">在线工具站</a></li>
<li id="menu-item-2393" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2393"><a href="https://luojimen.github.io/operation-and-maintenance/">运维</a></li>
<li id="menu-item-2787" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2787"><a href="https://luojimen.github.io/catalogue/">目录</a></li>

								</ul>

							</nav><!-- .primary-menu-wrapper -->

						
						<div class="header-toggles hide-no-js">

						
							<div class="toggle-wrapper search-toggle-wrapper">

								<button class="toggle search-toggle desktop-search-toggle" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field" aria-expanded="false">
									<span class="toggle-inner">
										<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23"><path d="M38.710696,48.0601792 L43,52.3494831 L41.3494831,54 L37.0601792,49.710696 C35.2632422,51.1481185 32.9839107,52.0076499 30.5038249,52.0076499 C24.7027226,52.0076499 20,47.3049272 20,41.5038249 C20,35.7027226 24.7027226,31 30.5038249,31 C36.3049272,31 41.0076499,35.7027226 41.0076499,41.5038249 C41.0076499,43.9839107 40.1481185,46.2632422 38.710696,48.0601792 Z M36.3875844,47.1716785 C37.8030221,45.7026647 38.6734666,43.7048964 38.6734666,41.5038249 C38.6734666,36.9918565 35.0157934,33.3341833 30.5038249,33.3341833 C25.9918565,33.3341833 22.3341833,36.9918565 22.3341833,41.5038249 C22.3341833,46.0157934 25.9918565,49.6734666 30.5038249,49.6734666 C32.7048964,49.6734666 34.7026647,48.8030221 36.1716785,47.3875844 C36.2023931,47.347638 36.2360451,47.3092237 36.2726343,47.2726343 C36.3092237,47.2360451 36.347638,47.2023931 36.3875844,47.1716785 Z" transform="translate(-20 -31)" /></svg>										<span class="toggle-text">搜索</span>
									</span>
								</button><!-- .search-toggle -->

							</div>

							
						</div><!-- .header-toggles -->
						
				</div><!-- .header-navigation-wrapper -->

			</div><!-- .header-inner -->

			<div class="search-modal cover-modal header-footer-group" data-modal-target-string=".search-modal">

	<div class="search-modal-inner modal-inner">

		<div class="section-inner">

			<form role="search" aria-label="搜索：" method="get" class="search-form" action="https://luojimen.github.io/">
	<label for="search-form-1">
		<span class="screen-reader-text">搜索：</span>
		<input type="search" id="search-form-1" class="search-field" placeholder="搜索&hellip;" value="" name="s" />
	</label>
	<input type="submit" class="search-submit" value="搜索" />
</form>

			<button class="toggle search-untoggle close-search-toggle fill-children-current-color" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field">
				<span class="screen-reader-text">关闭搜索</span>
				<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102" /></svg>			</button><!-- .search-toggle -->

		</div><!-- .section-inner -->

	</div><!-- .search-modal-inner -->

</div><!-- .menu-modal -->

		</header><!-- #site-header -->

		
<div class="menu-modal cover-modal header-footer-group" data-modal-target-string=".menu-modal">

	<div class="menu-modal-inner modal-inner">

		<div class="menu-wrapper section-inner">

			<div class="menu-top">

				<button class="toggle close-nav-toggle fill-children-current-color" data-toggle-target=".menu-modal" data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".menu-modal">
					<span class="toggle-text">关闭菜单</span>
					<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102" /></svg>				</button><!-- .nav-toggle -->

				
					<nav class="mobile-menu" aria-label="移动设备">

						<ul class="modal-menu reset-list-style">

						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2784"><div class="ancestor-wrapper"><a href="https://luojimen.github.io/my/">我的</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2391"><div class="ancestor-wrapper"><a href="https://luojimen.github.io/">主站</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2392"><div class="ancestor-wrapper"><a href="https://luojimen.github.io/online-tool-station/">在线工具站</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2393"><div class="ancestor-wrapper"><a href="https://luojimen.github.io/operation-and-maintenance/">运维</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2787"><div class="ancestor-wrapper"><a href="https://luojimen.github.io/catalogue/">目录</a></div><!-- .ancestor-wrapper --></li>

						</ul>

					</nav>

					
			</div><!-- .menu-top -->

			<div class="menu-bottom">

				
			</div><!-- .menu-bottom -->

		</div><!-- .menu-wrapper -->

	</div><!-- .menu-modal-inner -->

</div><!-- .menu-modal -->

<main id="site-content">

	
		<header class="archive-header has-text-align-center header-footer-group">

			<div class="archive-header-inner section-inner medium">

									<h1 class="archive-title">标签： <span>amp</span></h1>
				
				
			</div><!-- .archive-header-inner -->

		</header><!-- .archive-header -->

		
<article class="post-2059 post type-post status-publish format-standard hentry category-pc category-mobile tag-amp tag-26 tag-22" id="post-2059">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/pc/" rel="category tag">电脑相关</a> <a href="https://luojimen.github.io/category/mobile/" rel="category tag">移动端</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2020/10/%e4%bc%81%e4%b8%9a%e5%be%ae%e4%bf%a1-%e6%8e%a8%e9%80%81%e9%80%9a%e7%9f%a5%e5%88%b0%e6%99%ae%e9%80%9a%e5%be%ae%e4%bf%a1-post%e8%b0%83%e7%94%a8api/">企业微信-推送通知到普通微信-POST调用API</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2020/10/%e4%bc%81%e4%b8%9a%e5%be%ae%e4%bf%a1-%e6%8e%a8%e9%80%81%e9%80%9a%e7%9f%a5%e5%88%b0%e6%99%ae%e9%80%9a%e5%be%ae%e4%bf%a1-post%e8%b0%83%e7%94%a8api/">2020年10月27日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<h1 id="参考.资料和工具:">参考.资料和工具:</h1>
<ul>
<li><a href="https://work.weixin.qq.com/api/doc/90000/90003/90487">资料.企业微信API快速入门</a></li>
<li><a href="https://work.weixin.qq.com/api/doc/90000/90135/90236">资料.企业微信API发送应用消息.官方详细参数</a></li>
<li>工具.POST/GET接口测试在线工具</li>
<li><a href="https://blog.csdn.net/h137242126/article/details/90601878">教程.Tasker使用企业微信api推送消息到普通微信</a></li>
</ul>
<h1 id="前言">前言</h1>
<p>用过Server酱和WxPusher,这两者现在都是卡片消息推送,Server酱的卡片消息不显示正文,WxPusher的卡片消息则显示有限字数的正文<br />
这就导致了,你收到微信通知的时候:</p>
<ol class="wiz-list-level1">
<li>Server酱根本不知道是什么内容,必须点通知,再点卡片等待网页载入正文.</li>
<li>WxPusher比Server酱好点,卡片可以显示大约50个文字,如需看完整内容还要点击卡片等待网页载入.经常网页载入需要很久导致体验很差而不爱操作打开卡片这一步.</li>
</ol>
<p>企业微信的优点是推送消息支持<strong>文本消息</strong>,而且最长支持<strong>2048个字节</strong>的文本.并且速度极快,5秒内必有反应.</p>
<h1 id="企业微信API参数获取步骤">企业微信API参数获取步骤</h1>
<ol class="wiz-list-level1">
<li><a href="https://work.weixin.qq.com/wework_admin/register_wx">注册 企业微信</a>
<ul>
<li>注册时候填写的管理员姓名,会绑定在管理员微信上,可以在 <strong><em>管理后台 &#8212;&gt; 通讯录</em></strong> 中修改</li>
</ul>
</li>
<li>普通微信接收企业消息需要先关注此企业号
<ul>
<li>进入<strong><em>管理后台&#8212;&gt;我的企业&#8212;&gt;微信插件&#8212;&gt;邀请关注</em></strong></li>
</ul>
</li>
<li>创建消息应用
<ul>
<li><strong><em>应用管理&#8212;&gt;自建&#8212;&gt;创建应用</em></strong></li>
<li>打开创建好的应用,页面显示<strong>AgentId</strong>和<strong>Secret</strong>参数,在<strong><em>我的企业</em></strong>页面最底部则可以查到<strong>企业ID</strong>.</li>
</ul>
</li>
</ol>
<h1 id="API调用方式">API调用方式</h1>
<ol class="wiz-list-level1">
<li>GET获取<strong><em>access_token</em></strong>: <a href="https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=">https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=</a><strong><em>企业ID</em></strong>&amp;corpsecret=<strong><em>Secret</em></strong></li>
<li>POST请求地址: <a href="https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token=">https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token=</a><strong><em>access_token</em></strong><br />
2.1. JSON内容格式: <strong>(注意! json中每个参数用逗号&#8221;,&#8221;结尾, 但最后一项的结尾不要添加逗号&#8221;,&#8221; 否则json报错.)</strong></p>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191ee4c211587086" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
{
"touser" : "@all",
"msgtype" : "text",
"agentid" : 1000002,
"text" : {
   "content" : "你的快递已到，请携带工卡前往邮件中心领取。\n出发前可查看&lt;a href=\"http://work.weixin.qq.com\"&gt;邮件中心视频实况&lt;/a&gt;，聪明避开排队。"
}
}</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191ee4c211587086-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191ee4c211587086-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191ee4c211587086-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191ee4c211587086-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191ee4c211587086-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191ee4c211587086-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191ee4c211587086-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191ee4c211587086-8">8</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191ee4c211587086-1"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191ee4c211587086-2"><span class="crayon-s">"touser"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"@all"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191ee4c211587086-3"><span class="crayon-s">"msgtype"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"text"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191ee4c211587086-4"><span class="crayon-s">"agentid"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1000002</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191ee4c211587086-5"><span class="crayon-s">"text"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191ee4c211587086-6"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-s">"content"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"你的快递已到，请携带工卡前往邮件中心领取。\n出发前可查看&lt;a href=\"http://work.weixin.qq.com\"&gt;邮件中心视频实况&lt;/a&gt;，聪明避开排队。"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191ee4c211587086-7"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191ee4c211587086-8"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

</div>
<p>2.2. 提交POST和JSON, 微信即可收到消息推送!</li>
</ol>
<h1 id="参考.其他微信推送服务">参考.其他微信推送服务</h1>
<ul>
<li><a href="https://wxpusher.zjiecode.com/">WxPusher</a></li>
<li>Server酱</li>
</ul>
<p><wiz_tmp_tag id="wiz-table-range-border" contenteditable="false" style="display: none;"></wiz_tmp_tag></p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/amp/" rel="tag">amp</a>, <a href="https://luojimen.github.io/tag/%e8%a7%86%e9%a2%91/" rel="tag">视频</a>, <a href="https://luojimen.github.io/tag/%e9%82%ae%e4%bb%b6/" rel="tag">邮件</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1974 post type-post status-publish format-standard hentry category-linux category-devops tag-amp tag-rclone tag-62 tag-40 tag-22" id="post-1974">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a> <a href="https://luojimen.github.io/category/devops/" rel="category tag">网站运维</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2020/05/rclone-config-mail-notif-%e6%8a%a5%e9%94%99%e9%82%ae%e4%bb%b6%e9%80%9a%e7%9f%a5/">rclone.config-mail.notif 报错邮件通知</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2020/05/rclone-config-mail-notif-%e6%8a%a5%e9%94%99%e9%82%ae%e4%bb%b6%e9%80%9a%e7%9f%a5/">2020年5月29日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<div id="MathJax_Message" style="display: none;"></div>
<h1>目的</h1>
<ul>
<li>谷歌教育版邮箱寿命1-3年,随时可能被删账号因此,脚本通过监控rclone配置的网盘如果报错就发送邮件提醒.</li>
<li>rclone支持网盘的都能够监控;支持&#8221;我的云端硬盘&#8221;和&#8221;共享云端硬盘(团队盘)&#8221;.</li>
</ul>
<h1>脚本</h1>
<ul>
<li>项目地址: <a href="https://github.com/shusanjing/rclone.config-mail.notif">https://github.com/shusanjing/rclone.config-mail.notif</a></li>
<li>编辑脚本: nano /root/crontab/rc-mail.sh</li>
<li>bash /root/crontab/rc-mail.sh 8888@qq.com #参数为要发往的邮箱,</li>
</ul>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191f3c6726873218" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
######## 邮件目的地变量 ########
mail=${1:-"mail@qq.com"} #自定义.修改mail@qq.com成要发往的邮箱地址;同时支持传递脚本参数(第一个参数是$1)。"语法:bash rc-mail.sh 8888@qq.com"
echo "传入参数:$@"
echo "mail变量:$mail"
######## 邮件标题变量 ########
svr_name="[rclone配置状态检查]" ###自定义.邮件主体名称
str_time=$(date +"%Y-%m-%d") #日期变量
title="$svr_name $str_time" #邮件标题
failedtitle="报错 $svr_name $str_time" #执行错误后的邮件标题
succeedtitle="正常 $svr_name $str_time" #执行正确后的邮件标题
######## rclone配置提取成数组变量 ######## "rclone config file查看配置文件的路径"
rcloneconf=$(grep -oP '(?&lt;=\[).*?(?=\])' /root/.config/rclone/rclone.conf | tr "\n" " ") #使用tr命令将文本中的回车转换成空格
array=($rcloneconf) #转成数组
num=${#array[@]} #获取数组数量 
echo "输出rcloneconf:$rcloneconf"
echo "输出array:$array"
echo "输出num总数:$num"
echo "-----------" #换行

################ 数组循环 ################ 
for var in ${rcloneconf[@]};   
do
    let ++i #i的值递增1
    echo "输出标签:$var[$i/$num]"
    rclonelsd=$(rclone lsd $var: 2&gt;&amp;1) #命令结果赋值给变量,默认只会得到命令成功的输出,如果命令执行失败则返回一个空行,这一步是把标准错误写入标准成功的变量.
 if [ $? -ne 0 ]; then #判断上一条命令执行结果是否0
  echo "failed"
        title=$failedtitle #标识错误执行结果作为邮件标题
 else
     echo "succeed"
        title=$succeedtitle #标识正常执行结果作为邮件标题     
 fi
    echo -e "输出rclonelsd执行结果:\n${rclonelsd}"

 #### 发送邮件 ####
    runinfo=$(time rclone size $var: 2&gt;&amp;1) #查询目录占用体积,如果文件数量非常多耗时比较久可以禁用此命令
    echo $runinfo
    echo -e "$var[$i/$num]\n${rclonelsd}\n${runinfo}\n结尾" | mutt -s "$title[$num]信尾" $mail #echo -e使之激活转义字符        
    echo "邮件发送完毕-----------" #换行
done
</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-38">38</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-39">39</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-40">40</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3c6726873218-41">41</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-1"><span class="crayon-p">######## 邮件目的地变量 ########</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-2"><span class="crayon-v">mail</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-s">"mail@qq.com"</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-p">#自定义.修改mail@qq.com成要发往的邮箱地址;同时支持传递脚本参数(第一个参数是$1)。"语法:bash rc-mail.sh 8888@qq.com"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-3"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"传入参数:$@"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-4"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"mail变量:$mail"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-5"><span class="crayon-p">######## 邮件标题变量 ########</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-6"><span class="crayon-v">svr_name</span><span class="crayon-o">=</span><span class="crayon-s">"[rclone配置状态检查]"</span><span class="crayon-h"> </span><span class="crayon-p">###自定义.邮件主体名称</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-7"><span class="crayon-v">str_time</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-s">"%Y-%m-%d"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-p">#日期变量</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-8"><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-s">"$svr_name $str_time"</span><span class="crayon-h"> </span><span class="crayon-p">#邮件标题</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-9"><span class="crayon-v">failedtitle</span><span class="crayon-o">=</span><span class="crayon-s">"报错 $svr_name $str_time"</span><span class="crayon-h"> </span><span class="crayon-p">#执行错误后的邮件标题</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-10"><span class="crayon-v">succeedtitle</span><span class="crayon-o">=</span><span class="crayon-s">"正常 $svr_name $str_time"</span><span class="crayon-h"> </span><span class="crayon-p">#执行正确后的邮件标题</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-11"><span class="crayon-p">######## rclone配置提取成数组变量 ######## "rclone config file查看配置文件的路径"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-12"><span class="crayon-v">rcloneconf</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">oP</span><span class="crayon-h"> </span><span class="crayon-s">'(?&lt;=\[).*?(?=\])'</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">config</span><span class="crayon-o">/</span><span class="crayon-v">rclone</span><span class="crayon-o">/</span><span class="crayon-v">rclone</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">tr</span><span class="crayon-h"> </span><span class="crayon-s">"\n"</span><span class="crayon-h"> </span><span class="crayon-s">" "</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-p">#使用tr命令将文本中的回车转换成空格</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-13"><span class="crayon-t">array</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">rcloneconf</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-p">#转成数组</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-14"><span class="crayon-v">num</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-p">#array[@]} #获取数组数量 </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-15"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"输出rcloneconf:$rcloneconf"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-16"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"输出array:$array"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-17"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"输出num总数:$num"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-18"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"-----------"</span><span class="crayon-h"> </span><span class="crayon-p">#换行</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-20"><span class="crayon-p">################ 数组循环 ################ </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-21"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">rcloneconf</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-22"><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">let</span><span class="crayon-h"> </span><span class="crayon-o">++</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-p">#i的值递增1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"输出标签:$var[$i/$num]"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rclonelsd</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-e">rclone </span><span class="crayon-i">lsd</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-p">#命令结果赋值给变量,默认只会得到命令成功的输出,如果命令执行失败则返回一个空行,这一步是把标准错误写入标准成功的变量.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-26"><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">ne</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span><span class="crayon-h"> </span><span class="crayon-p">#判断上一条命令执行结果是否0</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"failed"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-i">failedtitle</span><span class="crayon-h"> </span><span class="crayon-p">#标识错误执行结果作为邮件标题</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-29"><span class="crayon-h"> </span><span class="crayon-st">else</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"succeed"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-i">succeedtitle</span><span class="crayon-h"> </span><span class="crayon-p">#标识正常执行结果作为邮件标题&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-32"><span class="crayon-h"> </span><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-33"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-s">"输出rclonelsd执行结果:\n${rclonelsd}"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-34">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-35"><span class="crayon-h"> </span><span class="crayon-p">#### 发送邮件 ####</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">runinfo</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-e">time </span><span class="crayon-e">rclone </span><span class="crayon-i">size</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-t">var</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-p">#查询目录占用体积,如果文件数量非常多耗时比较久可以禁用此命令</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">runinfo</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-38"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-s">"$var[$i/$num]\n${rclonelsd}\n${runinfo}\n结尾"</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">mutt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-s">"$title[$num]信尾"</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">mail</span><span class="crayon-h"> </span><span class="crayon-p">#echo -e使之激活转义字符&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"邮件发送完毕-----------"</span><span class="crayon-h"> </span><span class="crayon-p">#换行</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-40"><span class="crayon-i">done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3c6726873218-41">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->

</div>
<h1>备选代码和语法</h1>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191f3cc241647970" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
** # 固定mail变量: mail="mail@qq.com" ###自定义.要发往的邮箱地址
** bash传入mail参数
# :- 变量为null 或 空字符串
# mail=${1:-aaa} 参数传入为null或者空字符串的时候变量mail取默认值aaa
** 计划任务crontab -e
# rc-mail
# 0 19 * * * tmux new-session -s rc-mail -d
# 5 19 * * * tmux send-keys -t rc-mail 'bash /root/crontab/rc-mail.sh' C-m
** grep正则提取字符串
# rcloneconf=$(grep -oP '(?&lt;=\[).*?(?=\])' /root/.config/rclone/rclone.conf) #从文本提取table名称默认为每行一个
# rcloneconf=($(grep -oP '(?&lt;=\[).*?(?=\])' /root/.config/rclone/rclone.conf | tr "\n" " ")) #包含转成数组语法array=($rcloneconf) 
** 发送基本内容邮件
# echo -e "$var[$i/$num]\n${rclonelsd}" | mutt -s "$title[$num]信尾" $mail #echo -e使之激活转义字符</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f3cc241647970-13">13</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-1"><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-p"># 固定mail变量: mail="mail@qq.com" ###自定义.要发往的邮箱地址</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-2"><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-i">bash</span>传入<span class="crayon-i">mail</span>参数</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-3"><span class="crayon-p"># :- 变量为null 或 空字符串</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-4"><span class="crayon-p"># mail=${1:-aaa} 参数传入为null或者空字符串的时候变量mail取默认值aaa</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-5"><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span>计划任务<span class="crayon-v">crontab</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-6"><span class="crayon-p"># rc-mail</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-7"><span class="crayon-p"># 0 19 * * * tmux new-session -s rc-mail -d</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-8"><span class="crayon-p"># 5 19 * * * tmux send-keys -t rc-mail 'bash /root/crontab/rc-mail.sh' C-m</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-9"><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-i">grep</span>正则提取字符串</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-10"><span class="crayon-p"># rcloneconf=$(grep -oP '(?&lt;=\[).*?(?=\])' /root/.config/rclone/rclone.conf) #从文本提取table名称默认为每行一个</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-11"><span class="crayon-p"># rcloneconf=($(grep -oP '(?&lt;=\[).*?(?=\])' /root/.config/rclone/rclone.conf | tr "\n" " ")) #包含转成数组语法array=($rcloneconf) </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-12"><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span>发送基本内容邮件</div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f3cc241647970-13"><span class="crayon-p"># echo -e "$var[$i/$num]\n${rclonelsd}" | mutt -s "$title[$num]信尾" $mail #echo -e使之激活转义字符</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

</div>
<p>&nbsp;</p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p>&nbsp;</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/amp/" rel="tag">amp</a>, <a href="https://luojimen.github.io/tag/rclone/" rel="tag">rclone</a>, <a href="https://luojimen.github.io/tag/%e7%bd%91%e7%9b%98/" rel="tag">网盘</a>, <a href="https://luojimen.github.io/tag/%e8%84%9a%e6%9c%ac/" rel="tag">脚本</a>, <a href="https://luojimen.github.io/tag/%e9%82%ae%e4%bb%b6/" rel="tag">邮件</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1914 post type-post status-publish format-standard hentry category-linux tag-amp tag-linux tag-pt tag-webdav tag-40 tag-63" id="post-1914">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2020/03/tmux%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8ccaddy-webdav/">tmux后台执行caddy-webdav</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2020/03/tmux%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8ccaddy-webdav/">2020年3月2日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<div id="MathJax_Message" style="display: none;"></div>
<h1>目的</h1>
<ul>
<li>让webdav服务在后台执行,并且可窗口观测命令反馈信息来判断程序是否运行,方便排错.</li>
</ul>
<h1>准备</h1>
<ul>
<li>先手工测试代码可正确执行</li>
</ul>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191f6a9757306700" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
/media/TF4G/shusanjing/caddy/caddy_webdav -conf /media/TF4G/shusanjing/caddy/caddyfile.ini</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6a9757306700-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6a9757306700-1"><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-v">TF4G</span><span class="crayon-o">/</span><span class="crayon-v">shusanjing</span><span class="crayon-o">/</span><span class="crayon-v">caddy</span><span class="crayon-o">/</span><span class="crayon-v">caddy_webdav</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">conf</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-v">TF4G</span><span class="crayon-o">/</span><span class="crayon-v">shusanjing</span><span class="crayon-o">/</span><span class="crayon-v">caddy</span><span class="crayon-o">/</span><span class="crayon-v">caddyfile</span><span class="crayon-sy">.</span><span class="crayon-v">ini</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

</div>
<ul>
<li>授予caddy文件777权限:<br />
<code>chmod 777 /media/TF4G/shusanjing/caddy/caddy_webdav</code></li>
</ul>
<h1>Tmux-终端复用器方式</h1>
<p>类Screen风格使用,但更为方便操作.</p>
<ul>
<li>新建tmux_webdav.sh脚本并授予777权限:<br />
vi /media/TF4G/shusanjing/caddy/tmux_webdav.sh.</li>
</ul>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191f6ad196147436" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/bin/bash
#tmux-session-name
session="webdav"
#new session
tmux new-session -s $session -d
#command
tmux send-keys -t $session '/media/TF4G/shusanjing/caddy/caddy_webdav -conf /media/TF4G/shusanjing/caddy/caddyfile.ini' C-m
echo "-------------------------------------"
endDate=`date +"%Y-%m-%d %H:%M:%S"`
echo "[$endDate] Successful"
echo "-------------------------------------"</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6ad196147436-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f6ad196147436-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6ad196147436-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f6ad196147436-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6ad196147436-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f6ad196147436-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6ad196147436-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f6ad196147436-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6ad196147436-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f6ad196147436-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6ad196147436-11">11</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6ad196147436-1"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f6ad196147436-2"><span class="crayon-p">#tmux-session-name</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6ad196147436-3"><span class="crayon-v">session</span><span class="crayon-o">=</span><span class="crayon-s">"webdav"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f6ad196147436-4"><span class="crayon-p">#new session</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6ad196147436-5"><span class="crayon-e">tmux </span><span class="crayon-r">new</span><span class="crayon-o">-</span><span class="crayon-v">session</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">session</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f6ad196147436-6"><span class="crayon-p">#command</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6ad196147436-7"><span class="crayon-e">tmux </span><span class="crayon-v">send</span><span class="crayon-o">-</span><span class="crayon-v">keys</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">session</span><span class="crayon-h"> </span><span class="crayon-s">'/media/TF4G/shusanjing/caddy/caddy_webdav -conf /media/TF4G/shusanjing/caddy/caddyfile.ini'</span><span class="crayon-h"> </span><span class="crayon-v">C</span><span class="crayon-o">-</span><span class="crayon-i">m</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f6ad196147436-8"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"-------------------------------------"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6ad196147436-9"><span class="crayon-v">endDate</span><span class="crayon-o">=</span><span class="crayon-sy">`</span><span class="crayon-v">date</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-s">"%Y-%m-%d %H:%M:%S"</span><span class="crayon-sy">`</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f6ad196147436-10"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"[$endDate] Successful"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6ad196147436-11"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"-------------------------------------"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->

</div>
<ul>
<li>给tmux_webdav.sh.权限<br />
<code></code><code> chmod 777 /media/TF4G/shusanjing/caddy/tmux_webdav.sh </code><code></code><code></code></li>
<li>路由器启动时自动执行脚本,<br />
以下命令添加到路由器自定义脚本尾部:</li>
</ul>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191f6af721802971" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
## tmux执行webdav
sleep 60
/media/TF4G/shusanjing/caddy/tmux_webdav.sh</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6af721802971-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f6af721802971-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6af721802971-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6af721802971-1"><span class="crayon-p">## tmux执行webdav</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f6af721802971-2"><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">60</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6af721802971-3"><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-v">TF4G</span><span class="crayon-o">/</span><span class="crayon-v">shusanjing</span><span class="crayon-o">/</span><span class="crayon-v">caddy</span><span class="crayon-o">/</span><span class="crayon-v">tmux_webdav</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->

</div>
<ul>
<li>完</li>
</ul>
<h1>screen-终端复用器方式</h1>
<h2 id="screen-基础命令">screen-基础命令</h2>
<p>在当前窗口创建webdav的窗口 &gt; screen -S webdav<br />
在后台创建webdav的窗口 &gt; screen -dmS webdav<br />
查询已经存在的窗口 &gt; screen -ls</p>
<h2 id="以bash.sh脚本方式调用screen">以bash.sh脚本方式调用screen</h2>
<ul>
<li>screen脚本的缺点是可以创建相同名字的窗口,这样会让窗口管理混乱.tmxu则具有窗口名称唯一的优点,因此优先选择tmux.</li>
<li>如果我们直接在脚本里写 screen -S my_screen, 会导致脚本无法继续执行。为了使脚本执行下去，<br />
创建screen-webdav.sh</li>
</ul>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191f6b1428732874" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
screen_name=$"webdav"
screen -dmS $screen_name

cmd=$"/media/TF4G/shusanjing/caddy/caddy_webdav -conf /media/TF4G/shusanjing/caddy/caddyfile.ini'";
screen -x -S $screen_name -p 0 -X stuff "$cmd"
screen -x -S $screen_name -p 0 -X stuff $'\n'</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6b1428732874-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f6b1428732874-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6b1428732874-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f6b1428732874-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6b1428732874-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f6b1428732874-6">6</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6b1428732874-1"><span class="crayon-v">screen_name</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-s">"webdav"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f6b1428732874-2"><span class="crayon-v">screen</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">dmS</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">screen_name</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6b1428732874-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f6b1428732874-4"><span class="crayon-v">cmd</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-s">"/media/TF4G/shusanjing/caddy/caddy_webdav -conf /media/TF4G/shusanjing/caddy/caddyfile.ini'"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6b1428732874-5"><span class="crayon-v">screen</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">S</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">screen_name</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">X</span><span class="crayon-h"> </span><span class="crayon-i">stuff</span><span class="crayon-h"> </span><span class="crayon-s">"$cmd"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f6b1428732874-6"><span class="crayon-v">screen</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">S</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">screen_name</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">X</span><span class="crayon-h"> </span><span class="crayon-i">stuff</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-s">'\n'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->

</div>
<h2 id="screen快捷键操作">screen 快捷键操作</h2>
<ul>
<li>ctrl a + d，detach挂起窗口</li>
<li>ctrl a + k，杀死当前窗口</li>
<li>ctrl a + [，进入复制模式，这个用来翻屏</li>
<li>ctrl a + A，修改当前窗口的名称</li>
</ul>
<p>注意<br />
这种方式发送的命令不能太长，否则会导致脚本卡住。<br />
如果需要发送一条很长的命令，或者连续发送许多条命令，最好单独写一个脚本，发送一个脚本命令给screen，让screen执行新的脚本。</p>
<h1>nohup-后台无窗口模式</h1>
<ul>
<li>特点:可后台执行,但没有查看状态窗口.</li>
</ul>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191f6b3600271647" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
用途：不挂断地运行命令。
语法：nohup Command [ Arg … ] [　&amp; ]
nohup /mnt/sda1/opt/app/webdav/caddy_webdav -conf /mnt/sda1/opt/app/webdav/caddyfile.ini &amp;</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6b3600271647-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f6b3600271647-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f6b3600271647-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6b3600271647-1">用途：不挂断地运行命令。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f6b3600271647-2">语法：<span class="crayon-e">nohup </span><span class="crayon-i">Command</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-i">Arg</span><span class="crayon-h"> </span>…<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">[</span>　<span class="crayon-o">&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">]</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f6b3600271647-3"><span class="crayon-v">nohup</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">mnt</span><span class="crayon-o">/</span><span class="crayon-v">sda1</span><span class="crayon-o">/</span><span class="crayon-v">opt</span><span class="crayon-o">/</span><span class="crayon-v">app</span><span class="crayon-o">/</span><span class="crayon-v">webdav</span><span class="crayon-o">/</span><span class="crayon-v">caddy_webdav</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">conf</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">mnt</span><span class="crayon-o">/</span><span class="crayon-v">sda1</span><span class="crayon-o">/</span><span class="crayon-v">opt</span><span class="crayon-o">/</span><span class="crayon-v">app</span><span class="crayon-o">/</span><span class="crayon-v">webdav</span><span class="crayon-o">/</span><span class="crayon-v">caddyfile</span><span class="crayon-sy">.</span><span class="crayon-v">ini</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

</div>
<p>&nbsp;</p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p>&nbsp;</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/amp/" rel="tag">amp</a>, <a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a>, <a href="https://luojimen.github.io/tag/pt/" rel="tag">pt</a>, <a href="https://luojimen.github.io/tag/webdav/" rel="tag">webdav</a>, <a href="https://luojimen.github.io/tag/%e8%84%9a%e6%9c%ac/" rel="tag">脚本</a>, <a href="https://luojimen.github.io/tag/%e8%b7%af%e7%94%b1%e5%99%a8/" rel="tag">路由器</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1897 post type-post status-publish format-standard hentry category-linux tag-13 tag-amp tag-open tag-pt tag-shell tag-16 tag-40 tag-63" id="post-1897">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2020/03/hiboy-padavan%e4%bd%bf%e7%94%a8opkg%e5%ae%89%e8%a3%85tmux%e6%95%99%e7%a8%8b/">hiboy-padavan使用opkg安装tmux教程</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2020/03/hiboy-padavan%e4%bd%bf%e7%94%a8opkg%e5%ae%89%e8%a3%85tmux%e6%95%99%e7%a8%8b/">2020年3月1日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<h1>开启 opt-Entware支持</h1>
<ul>
<li>不是ext4磁盘时,会用镜像生成opt.推荐使用ext4格式化u盘.</li>
<li>先卸载 U 盘.</li>
<li>usb应用程序&gt;允许运行optware&gt;entware.</li>
<li>拔下 U 盘再重新插入，等一小会儿.</li>
</ul>
<h1>安装tmux</h1>
<ul>
<li>安装okpg: opkg.sh</li>
<li>升级opkg: opkg update</li>
<li>安装tmux: opkg install tmux<br />
运行tmux如果出现错误,大约是opkg.sh有些依赖包因为服务器下载太慢导致超时没有下载完成,可尝试使用以下脚本</p>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191f9a9564624915" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
wget -O - http://bin.entware.net/mipselsf-k3.4/installer/generic.sh | /bin/sh</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9a9564624915-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9a9564624915-1"><span class="crayon-v">wget</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">O</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//bin.entware.net/mipselsf-k3.4/installer/generic.sh | /bin/sh</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->

</div>
</li>
</ul>
<h1>可能遇到的bug故障</h1>
<ul>
<li>&#8220;libc.so.6: file too short&#8221; 错误<br />
如果重新安装路由器固件后运行opkg的程序出现此报错,是因为u盘存放的是老固件的依赖包,格式化u盘重新安装opkg可解决.</p>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191f9ad906368476" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
错误信息:
[RT-N56U_B1 /opt/home/admin]# tmux
tmux: error while loading shared libraries: libevent-2.1.so.7: cannot open shared object file: No such file or directory
[RT-N56U_B1 /opt/home/admin]# opkg remove tmux
opkg: error while loading shared libraries: /opt/lib/libc.so.6: file too short
实际上在登录ssh就会显示opt的依赖包故障.
onnecting to 192.168.123.1:22...
Connection established.
To escape to local shell, press 'Ctrl+Alt+]'.
BusyBox v1.29.3 (2019-12-17 07:06:31 CST) built-in shell (ash)
Enter 'help' for a list of built-in commands.
grep: error while loading shared libraries: /opt/lib/libc.so.6: file too short
sed: error while loading shared libraries: /opt/lib/libc.so.6: file too short
[RT-N56U_B1 /opt/home/admin]# </textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9ad906368476-14">14</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-1">错误信息<span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-2"><span class="crayon-sy">[</span><span class="crayon-v">RT</span><span class="crayon-o">-</span><span class="crayon-v">N56U_B1</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">opt</span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">admin</span><span class="crayon-sy">]</span><span class="crayon-p"># tmux</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-3"><span class="crayon-v">tmux</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">error </span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-e">loading </span><span class="crayon-e">shared </span><span class="crayon-v">libraries</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">libevent</span><span class="crayon-o">-</span><span class="crayon-cn">2.1.so.7</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">cannot </span><span class="crayon-e">open </span><span class="crayon-e">shared </span><span class="crayon-t">object</span><span class="crayon-h"> </span><span class="crayon-v">file</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">No </span><span class="crayon-e">such </span><span class="crayon-e">file </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-i">directory</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-4"><span class="crayon-sy">[</span><span class="crayon-v">RT</span><span class="crayon-o">-</span><span class="crayon-v">N56U_B1</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">opt</span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">admin</span><span class="crayon-sy">]</span><span class="crayon-p"># opkg remove tmux</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-5"><span class="crayon-v">opkg</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">error </span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-e">loading </span><span class="crayon-e">shared </span><span class="crayon-v">libraries</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">opt</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">libc</span><span class="crayon-sy">.</span><span class="crayon-v">so</span><span class="crayon-sy">.</span><span class="crayon-cn">6</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">file </span><span class="crayon-e">too </span><span class="crayon-t">short</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-6">实际上在登录<span class="crayon-i">ssh</span>就会显示<span class="crayon-i">opt</span>的依赖包故障<span class="crayon-sy">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-7"><span class="crayon-e">onnecting </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-cn">192.168.123.1</span><span class="crayon-o">:</span><span class="crayon-cn">22...</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-8"><span class="crayon-e">Connection </span><span class="crayon-v">established</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-9"><span class="crayon-st">To</span><span class="crayon-h"> </span><span class="crayon-e">escape </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">local </span><span class="crayon-v">shell</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">press</span><span class="crayon-h"> </span><span class="crayon-s">'Ctrl+Alt+]'</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-10"><span class="crayon-e">BusyBox </span><span class="crayon-v">v1</span><span class="crayon-sy">.</span><span class="crayon-cn">29.3</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">2019</span><span class="crayon-o">-</span><span class="crayon-cn">12</span><span class="crayon-o">-</span><span class="crayon-cn">17</span><span class="crayon-h"> </span><span class="crayon-cn">07</span><span class="crayon-o">:</span><span class="crayon-cn">06</span><span class="crayon-o">:</span><span class="crayon-cn">31</span><span class="crayon-h"> </span><span class="crayon-v">CST</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">built</span><span class="crayon-o">-</span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">shell</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ash</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-11"><span class="crayon-i">Enter</span><span class="crayon-h"> </span><span class="crayon-s">'help'</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">list </span><span class="crayon-e">of </span><span class="crayon-v">built</span><span class="crayon-o">-</span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">commands</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-12"><span class="crayon-v">grep</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">error </span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-e">loading </span><span class="crayon-e">shared </span><span class="crayon-v">libraries</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">opt</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">libc</span><span class="crayon-sy">.</span><span class="crayon-v">so</span><span class="crayon-sy">.</span><span class="crayon-cn">6</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">file </span><span class="crayon-e">too </span><span class="crayon-t">short</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-13"><span class="crayon-v">sed</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">error </span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-e">loading </span><span class="crayon-e">shared </span><span class="crayon-v">libraries</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">opt</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">libc</span><span class="crayon-sy">.</span><span class="crayon-v">so</span><span class="crayon-sy">.</span><span class="crayon-cn">6</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">file </span><span class="crayon-e">too </span><span class="crayon-t">short</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9ad906368476-14"><span class="crayon-sy">[</span><span class="crayon-v">RT</span><span class="crayon-o">-</span><span class="crayon-v">N56U_B1</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">opt</span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">admin</span><span class="crayon-sy">]</span><span class="crayon-p"># </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->

</div>
</li>
<li>&#8220;tmux: invalid LC_ALL, LC_CTYPE or LANG&#8221; 错误<br />
换新格式化的TF卡,安装好tmux后执行tmux出现此报错,解决办法使用以下脚本重新安装opkg</p>
<div>
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191f9af396286833" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
wget -O - http://bin.entware.net/mipselsf-k3.4/installer/generic.sh | /bin/sh</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9af396286833-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9af396286833-1"><span class="crayon-v">wget</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">O</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//bin.entware.net/mipselsf-k3.4/installer/generic.sh | /bin/sh</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->

</div>
<p>执行完毕即可成功使用tmux.<br />
本脚本参考来源:https://zhih.me/Padavan-entware/【已失效[2022-04-01]】</li>
</ul>
<h1>重刷固件后恢复opkg</h1>
<ul>
<li>固件恢复出厂设置后,当系统成功挂载原来的opt分区,直接输入tmux即可使用.无需再次安装.</li>
</ul>
<h1>使用USB-HUB</h1>
<ul>
<li>可成功使用usb-hub挂载tf卡和usb硬盘,好处是单独的tf卡安装opkg,移动硬盘的插拔不影响脚本功能.</li>
<li>设备插在usb-hub不同接口上没有顺序影响.因为每次重启都会变化/dev/sda代号.两个存储设备这次是重启是sda1,下次重启也有可能是sdb1.
<div>
</p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191f9b0459463410" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
重启第一次观测:
/dev/sda1&lt;&lt;&lt;                 3.6G    616.4M      2.8G  18% /media/TF4G
/dev/sdb1               590.6G    482.6M    560.1G   0% /media/2t-ext4
/dev/sdb2               600.0G      3.2G    596.8G   1% /media/2t-exfat
/dev/sdb3               663.0G      1.6G    661.4G   0% /media/2t-ntfs
重启第三次观测:
/dev/sda1&lt;&lt;&lt;                 3.6G    616.4M      2.8G  18% /media/TF4G
/dev/sdb2               600.0G      3.2G    596.8G   1% /media/2t-exfat
/dev/sdb1               590.6G    482.6M    560.1G   0% /media/2t-ext4
/dev/sdb3               663.0G      1.6G    661.4G   0% /media/2t-ntfs
重启第三次观测:
/dev/sdb1&lt;&lt;&lt;                 3.6G    616.4M      2.8G  18% /media/TF4G
/dev/sda1               590.6G    482.6M    560.1G   0% /media/2t-ext4
/dev/sda2               600.0G      3.2G    596.8G   1% /media/2t-exfat
/dev/sda3               663.0G      1.6G    661.4G   0% /media/2t-ntfs</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191f9b0459463410-15">15</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-1">重启第一次观测<span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-2"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-v">sda1</span><span class="crayon-o">&lt;&lt;&lt;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">3.6G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">616.4M</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">2.8G</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">18</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-v">TF4G</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-3"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-i">sdb1</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">590.6G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">482.6M</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">560.1G</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">0</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-cn">2t</span><span class="crayon-o">-</span><span class="crayon-v">ext4</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-4"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-i">sdb2</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">600.0G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">3.2G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">596.8G</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">1</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-cn">2t</span><span class="crayon-o">-</span><span class="crayon-v">exfat</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-5"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-i">sdb3</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">663.0G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">1.6G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">661.4G</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">0</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-cn">2t</span><span class="crayon-o">-</span><span class="crayon-i">ntfs</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-6">重启第三次观测<span class="crayon-o">:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-7"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-v">sda1</span><span class="crayon-o">&lt;&lt;&lt;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">3.6G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">616.4M</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">2.8G</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">18</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-v">TF4G</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-8"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-i">sdb2</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">600.0G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">3.2G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">596.8G</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">1</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-cn">2t</span><span class="crayon-o">-</span><span class="crayon-v">exfat</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-9"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-i">sdb1</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">590.6G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">482.6M</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">560.1G</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">0</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-cn">2t</span><span class="crayon-o">-</span><span class="crayon-v">ext4</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-10"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-i">sdb3</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">663.0G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">1.6G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">661.4G</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">0</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-cn">2t</span><span class="crayon-o">-</span><span class="crayon-i">ntfs</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-11">重启第三次观测<span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-12"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-v">sdb1</span><span class="crayon-o">&lt;&lt;&lt;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">3.6G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">616.4M</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">2.8G</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">18</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-v">TF4G</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-13"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-i">sda1</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">590.6G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">482.6M</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">560.1G</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">0</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-cn">2t</span><span class="crayon-o">-</span><span class="crayon-v">ext4</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-14"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-i">sda2</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">600.0G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">3.2G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">596.8G</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">1</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-cn">2t</span><span class="crayon-o">-</span><span class="crayon-v">exfat</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191f9b0459463410-15"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-i">sda3</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">663.0G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">1.6G</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">661.4G</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">0</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">media</span><span class="crayon-o">/</span><span class="crayon-cn">2t</span><span class="crayon-o">-</span><span class="crayon-v">ntfs</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>
</div>
</li>
</ul>
<h1>使用脚本更新padavan固件</h1>
<ul>
<li>更新完会自动重启<br />
<code>wget -q -O- https://opt.cn2qq.com/opt-script/up.sh &gt; /tmp/up.sh &amp;&amp; bash &lt; /tmp/up.sh &amp;</code></li>
</ul>
<p>&nbsp;</p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p>&nbsp;</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/2019/" rel="tag">2019</a>, <a href="https://luojimen.github.io/tag/amp/" rel="tag">amp</a>, <a href="https://luojimen.github.io/tag/open/" rel="tag">open</a>, <a href="https://luojimen.github.io/tag/pt/" rel="tag">pt</a>, <a href="https://luojimen.github.io/tag/shell/" rel="tag">shell</a>, <a href="https://luojimen.github.io/tag/%e4%b8%8b%e8%bd%bd/" rel="tag">下载</a>, <a href="https://luojimen.github.io/tag/%e8%84%9a%e6%9c%ac/" rel="tag">脚本</a>, <a href="https://luojimen.github.io/tag/%e8%b7%af%e7%94%b1%e5%99%a8/" rel="tag">路由器</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1851 post type-post status-publish format-standard hentry category-mobile tag-amp tag-28 tag-62 tag-26" id="post-1851">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/mobile/" rel="category tag">移动端</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2019/07/%e5%ae%89%e5%8d%93%e7%ab%af%e7%bd%91%e7%9b%98%e5%93%aa%e4%b8%aa%e6%9c%80%e5%a5%bd%e7%94%a8%ef%bc%9a%e7%99%be%e5%ba%a6%e7%bd%91%e7%9b%98vs%e5%a4%a9%e7%bf%bc%e4%ba%91%e7%9b%98/">安卓端网盘哪个最好用：百度网盘vs天翼云盘</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2019/07/%e5%ae%89%e5%8d%93%e7%ab%af%e7%bd%91%e7%9b%98%e5%93%aa%e4%b8%aa%e6%9c%80%e5%a5%bd%e7%94%a8%ef%bc%9a%e7%99%be%e5%ba%a6%e7%bd%91%e7%9b%98vs%e5%a4%a9%e7%bf%bc%e4%ba%91%e7%9b%98/">2019年7月30日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<p>假如手机丢失，我们希望恢复的数据：<br />
SSS:相册，拍摄的视频；通讯录，短信；<br />
SS:微信记录，录音，通话录音；<br />
S:通话记录；</p>
<ul>
<li>前置结论：
<ul>
<li>百度和天翼的微信备份都仅仅支持通过微信传输的图片，视频，文档，并非聊天记录的转移和恢复。</li>
<li>百度盘的普通会员支持备份自定义的多个目录，适应任意备份的需求。</li>
<li>天翼云不支持备份录音和通话录音。</li>
</ul>
</li>
<li>百度网盘 for Android （190730）
<ul>
<li>可自定义添加多个目录，并且自动wifi备份。（解决录音和通话录音的备份）√。</li>
<li>可备份：相册，视频；通讯录，短信；通话记录；微信（图片视频文档，不含聊天文本）。</li>
<li>不支持：微信聊天记录备份。</li>
<li>音乐备份功能不包含录音。</li>
</ul>
</li>
<li>天翼云盘 For Android（190730）
<ul>
<li>不支持：自定义添加目录来备份，因此录音和通话录音无法备份。</li>
<li>可备份：相册，视频；通讯录，短信；通话录音；微信（图片&amp;视频&amp;文档）</li>
<li>音乐备份功能不包含录音。</li>
</ul>
</li>
</ul>
<p>&nbsp;</p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p>&nbsp;</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/amp/" rel="tag">amp</a>, <a href="https://luojimen.github.io/tag/%e6%89%8b%e6%9c%ba/" rel="tag">手机</a>, <a href="https://luojimen.github.io/tag/%e7%bd%91%e7%9b%98/" rel="tag">网盘</a>, <a href="https://luojimen.github.io/tag/%e8%a7%86%e9%a2%91/" rel="tag">视频</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true" />
<article class="post-1748 post type-post status-publish format-standard hentry category-linux tag-amp tag-apache tag-certbot tag-pt tag-8 tag-10" id="post-1748">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">分类</span>
				<div class="entry-categories-inner">
					<a href="https://luojimen.github.io/category/linux/" rel="category tag">Linux</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h2 class="entry-title heading-size-1"><a href="https://luojimen.github.io/2018/03/webdav%e9%85%8d%e7%bd%aehttpscentos7apache/">webdav配置https(centos7+apache)</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">文章作者</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/author/ssj/">SSJ</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">发布日期</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/2018/03/webdav%e9%85%8d%e7%bd%aehttpscentos7apache/">2018年3月5日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<div></div>
<h2>介绍</h2>
<div>使用Let&#8217;s Encrypt的SSL免费证书</div>
<div>官网<span style="color: inherit; font-size: 1rem; line-height: 1.6;">https://certbot.eff.org/</span></div>
<div></div>
<h2>安装和配置证书</h2>
<div>安装certbot for apache:</div>
<div class="wiz-code-container" id="wiz_cm_1520229905861_2979" data-mode="C++" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191fb9e734609353" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
yum install certbot-apache</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191fb9e734609353-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191fb9e734609353-1"><span class="crayon-e">yum </span><span class="crayon-e">install </span><span class="crayon-v">certbot</span><span class="crayon-o">-</span><span class="crayon-v">apache</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>执行配置向导:</div>
<div>
<div class="wiz-code-container" id="wiz_cm_1520229913669_1309" data-mode="C++" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191fba3689782976" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
certbot --apache</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191fba3689782976-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191fba3689782976-1"><span class="crayon-v">certbot</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">apache</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
</div>
<div>输入域名:</div>
<div>*即使vhost并没有绑定域名,只要域名能够访问你的网站,在这里输入域名即可,https同样生效</div>
<div class="wiz-code-container" id="wiz_cm_1520229587195_242" data-mode="C++" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191fba4392414006" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
No names were found in your configuration files. Please enter in your domain
name(s) (comma and/or space separated)  (Enter 'c' to cancel):  输入域名www.domain.com</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191fba4392414006-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191fba4392414006-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191fba4392414006-1"><span class="crayon-e">No </span><span class="crayon-e">names </span><span class="crayon-e">were </span><span class="crayon-e">found </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">your </span><span class="crayon-e">configuration </span><span class="crayon-v">files</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">Please </span><span class="crayon-e">enter </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">your </span><span class="crayon-e">domain</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191fba4392414006-2"><span class="crayon-e">name</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">comma </span><span class="crayon-st">and</span><span class="crayon-o">/</span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-e">space </span><span class="crayon-v">separated</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-i">Enter</span><span class="crayon-h"> </span><span class="crayon-s">'c'</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-v">cancel</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span>输入域名<span class="crayon-v">www</span><span class="crayon-sy">.</span><span class="crayon-v">domain</span><span class="crayon-sy">.</span><span class="crayon-v">com</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
</p>
<div></div>
</div>
<div>选择是否强制https:</div>
<div class="wiz-code-container" id="wiz_cm_1520229654568_8257" data-mode="C++" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191fba6540364592" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Please choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.
-------------------------------------------------------------------------------
1: No redirect - Make no further changes to the webserver configuration.
2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for
new sites, or if you're confident your site works on HTTPS. You can undo this
change by editing your web server's configuration.
-------------------------------------------------------------------------------
Select the appropriate number [1-2] then [enter] (press 'c' to cancel): 输入1,http和https同时可用</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191fba6540364592-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191fba6540364592-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191fba6540364592-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191fba6540364592-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191fba6540364592-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191fba6540364592-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191fba6540364592-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-63d258191fba6540364592-8">8</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191fba6540364592-1"><span class="crayon-e">Please </span><span class="crayon-e">choose </span><span class="crayon-e">whether </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">redirect </span><span class="crayon-e">HTTP </span><span class="crayon-e">traffic </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-v">HTTPS</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">removing </span><span class="crayon-e">HTTP </span><span class="crayon-v">access</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191fba6540364592-2"><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191fba6540364592-3"><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">No </span><span class="crayon-v">redirect</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">Make </span><span class="crayon-e">no </span><span class="crayon-e">further </span><span class="crayon-e">changes </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">the </span><span class="crayon-e">webserver </span><span class="crayon-v">configuration</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191fba6540364592-4"><span class="crayon-cn">2</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Redirect</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">Make </span><span class="crayon-e">all </span><span class="crayon-e">requests </span><span class="crayon-e">redirect </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">secure </span><span class="crayon-e">HTTPS </span><span class="crayon-v">access</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">Choose </span><span class="crayon-r">this</span><span class="crayon-h"> </span><span class="crayon-st">for</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191fba6540364592-5"><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">sites</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-i">you</span><span class="crayon-s">'re confident your site works on HTTPS. You can undo this</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191fba6540364592-6"><span class="crayon-s">change by editing your web server'</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-v">configuration</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191fba6540364592-7"><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-63d258191fba6540364592-8"><span class="crayon-e">Select </span><span class="crayon-e">the </span><span class="crayon-e">appropriate </span><span class="crayon-i">number</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-st">then</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">enter</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">press</span><span class="crayon-h"> </span><span class="crayon-s">'c'</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-v">cancel</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-h"> </span>输入<span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-i">http</span>和<span class="crayon-i">https</span>同时可用</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
</p>
<div></div>
</div>
<div>打开https://www.domain.com显示绿标证书,配置证书成功.</div>
<div></div>
<div></div>
<h2>自动更新证书</h2>
<div>测试证书的续订命令:</div>
<div class="wiz-code-container" id="wiz_cm_1520231934555_101" data-mode="C++" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191fba7128812396" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
certbot renew --dry-run</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191fba7128812396-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191fba7128812396-1"><span class="crayon-e">certbot </span><span class="crayon-v">renew</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">dry</span><span class="crayon-o">-</span><span class="crayon-v">run</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
<div>如果运行正常,可以通过以下命令来安排自动续约</div>
<div class="wiz-code-container" id="wiz_cm_1520232004669_3962" data-mode="C++" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191fba9559568616" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
certbot renew</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191fba9559568616-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191fba9559568616-1"><span class="crayon-e">certbot </span><span class="crayon-v">renew</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div>一个cron作业的例子可能是这样的，它会在每天中午和午夜运行：</div>
<div class="wiz-code-container" id="wiz_cm_1520231879188_1442" data-mode="C++" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191fbaa998397261" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
0 0,12 * * * python -c 'import random; import time; time.sleep(random.random() * 3600)' &amp;&amp; certbot renew </textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191fbaa998397261-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191fbaa998397261-1"><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">12</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">python</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">c</span><span class="crayon-h"> </span><span class="crayon-s">'import random; import time; time.sleep(random.random() * 3600)'</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">certbot </span><span class="crayon-i">renew</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>查看crontab的运行记录:</div>
<div class="wiz-code-container" id="wiz_cm_1520232931814_6358" data-mode="C++" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-63d258191fbab114791289" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
看 /var/log/cron这个文件就可以，可以用tail -f /var/log/cron观察(不能用cat查看)</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-63d258191fbab114791289-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-63d258191fbab114791289-1">看<span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-o">/</span><span class="crayon-i">cron</span>这个文件就可以，可以用<span class="crayon-v">tail</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-o">/</span><span class="crayon-i">cron</span>观察<span class="crayon-sy">(</span>不能用<span class="crayon-i">cat</span>查看<span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
</p>
<div></div>
</div>
<p><wiz_tmp_tag id="wiz-table-range-border" contenteditable="false" style="display: none;"></p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p></wiz_tmp_tag></p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta">

									<li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">标签</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z" /></svg>						</span>
						<span class="meta-text">
							<a href="https://luojimen.github.io/tag/amp/" rel="tag">amp</a>, <a href="https://luojimen.github.io/tag/apache/" rel="tag">apache</a>, <a href="https://luojimen.github.io/tag/certbot/" rel="tag">certbot</a>, <a href="https://luojimen.github.io/tag/pt/" rel="tag">pt</a>, <a href="https://luojimen.github.io/tag/%e5%9f%9f%e5%90%8d/" rel="tag">域名</a>, <a href="https://luojimen.github.io/tag/%e7%bd%91%e7%ab%99/" rel="tag">网站</a>						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .section-inner -->

	
</article><!-- .post -->

	
</main><!-- #site-content -->


	<div class="footer-nav-widgets-wrapper header-footer-group">

		<div class="footer-inner section-inner">

			
			
				<aside class="footer-widgets-outer-wrapper">

					<div class="footer-widgets-wrapper">

						
							<div class="footer-widgets column-one grid-item">
								<div class="widget widget_search"><div class="widget-content"><form role="search"  method="get" class="search-form" action="https://luojimen.github.io/">
	<label for="search-form-2">
		<span class="screen-reader-text">搜索：</span>
		<input type="search" id="search-form-2" class="search-field" placeholder="搜索&hellip;" value="" name="s" />
	</label>
	<input type="submit" class="search-submit" value="搜索" />
</form>
</div></div><div class="widget widget_categories"><div class="widget-content"><h2 class="widget-title subheading heading-size-3">分类</h2><nav aria-label="分类">
			<ul>
					<li class="cat-item cat-item-37"><a href="https://luojimen.github.io/category/linux/">Linux</a>
</li>
	<li class="cat-item cat-item-36"><a href="https://luojimen.github.io/category/wp/">WordPress</a>
</li>
	<li class="cat-item cat-item-12"><a href="https://luojimen.github.io/category/pc/">电脑相关</a>
</li>
	<li class="cat-item cat-item-61"><a href="https://luojimen.github.io/category/mobile/">移动端</a>
</li>
	<li class="cat-item cat-item-11"><a href="https://luojimen.github.io/category/devops/">网站运维</a>
</li>
			</ul>

			</nav></div></div><div class="widget widget_archive"><div class="widget-content"><h2 class="widget-title subheading heading-size-3">归档</h2><nav aria-label="归档">
			<ul>
					<li><a href='https://luojimen.github.io/2023/01/'>2023年1月</a></li>
	<li><a href='https://luojimen.github.io/2022/09/'>2022年9月</a></li>
	<li><a href='https://luojimen.github.io/2022/08/'>2022年8月</a></li>
	<li><a href='https://luojimen.github.io/2022/07/'>2022年7月</a></li>
	<li><a href='https://luojimen.github.io/2022/06/'>2022年6月</a></li>
	<li><a href='https://luojimen.github.io/2022/04/'>2022年4月</a></li>
	<li><a href='https://luojimen.github.io/2022/03/'>2022年3月</a></li>
	<li><a href='https://luojimen.github.io/2022/02/'>2022年2月</a></li>
	<li><a href='https://luojimen.github.io/2021/03/'>2021年3月</a></li>
	<li><a href='https://luojimen.github.io/2021/01/'>2021年1月</a></li>
	<li><a href='https://luojimen.github.io/2020/12/'>2020年12月</a></li>
	<li><a href='https://luojimen.github.io/2020/11/'>2020年11月</a></li>
	<li><a href='https://luojimen.github.io/2020/10/'>2020年10月</a></li>
	<li><a href='https://luojimen.github.io/2020/09/'>2020年9月</a></li>
	<li><a href='https://luojimen.github.io/2020/08/'>2020年8月</a></li>
	<li><a href='https://luojimen.github.io/2020/07/'>2020年7月</a></li>
	<li><a href='https://luojimen.github.io/2020/06/'>2020年6月</a></li>
	<li><a href='https://luojimen.github.io/2020/05/'>2020年5月</a></li>
	<li><a href='https://luojimen.github.io/2020/04/'>2020年4月</a></li>
	<li><a href='https://luojimen.github.io/2020/03/'>2020年3月</a></li>
	<li><a href='https://luojimen.github.io/2020/02/'>2020年2月</a></li>
	<li><a href='https://luojimen.github.io/2019/12/'>2019年12月</a></li>
	<li><a href='https://luojimen.github.io/2019/08/'>2019年8月</a></li>
	<li><a href='https://luojimen.github.io/2019/07/'>2019年7月</a></li>
	<li><a href='https://luojimen.github.io/2019/05/'>2019年5月</a></li>
	<li><a href='https://luojimen.github.io/2018/08/'>2018年8月</a></li>
	<li><a href='https://luojimen.github.io/2018/07/'>2018年7月</a></li>
	<li><a href='https://luojimen.github.io/2018/03/'>2018年3月</a></li>
	<li><a href='https://luojimen.github.io/2018/02/'>2018年2月</a></li>
	<li><a href='https://luojimen.github.io/2018/01/'>2018年1月</a></li>
	<li><a href='https://luojimen.github.io/2017/12/'>2017年12月</a></li>
	<li><a href='https://luojimen.github.io/2017/11/'>2017年11月</a></li>
	<li><a href='https://luojimen.github.io/2017/09/'>2017年9月</a></li>
	<li><a href='https://luojimen.github.io/2017/05/'>2017年5月</a></li>
			</ul>

			</nav></div></div>							</div>

						
						
					</div><!-- .footer-widgets-wrapper -->

				</aside><!-- .footer-widgets-outer-wrapper -->

			
		</div><!-- .footer-inner -->

	</div><!-- .footer-nav-widgets-wrapper -->


			<footer id="site-footer" class="header-footer-group">

				<div class="section-inner">

					<div class="footer-credits">

						<p class="footer-copyright">&copy;
							2023							<a href="https://luojimen.github.io/">LuoJi.men</a>
						</p><!-- .footer-copyright -->

						
						<p class="powered-by-wordpress">
							<a href="https://cn.wordpress.org/">
								由WordPress强力驱动							</a>
						</p><!-- .powered-by-wordpress -->

					</div><!-- .footer-credits -->

					<a class="to-the-top" href="#site-header">
						<span class="to-the-top-long">
							返回顶部<span class="arrow" aria-hidden="true">&uarr;</span>						</span><!-- .to-the-top-long -->
						<span class="to-the-top-short">
							向上 <span class="arrow" aria-hidden="true">&uarr;</span>						</span><!-- .to-the-top-short -->
					</a><!-- .to-the-top -->

				</div><!-- .section-inner -->

			</footer><!-- #site-footer -->

		<script id='image-sizes-js-extra'>
var THUMBPRESS = {"version":"3.6.1","disables":["thumbnail","medium","medium_large","large","1536x1536","2048x2048","kratos-thumbnail"]};
</script>
<script src='https://luojimen.github.io/wp-content/plugins/image-sizes/assets/js/front.js?ver=3.6.1' id='image-sizes-js'></script>
<script src='http://push.zhanzhang.baidu.com/push.js?ver=6.0.3' id='baidu_zz_push-js'></script>
	<script>
	/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);
	</script>
	
	</body>
</html>
