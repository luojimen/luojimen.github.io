<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>Padavan密钥登录Windows的配置（Dropbear免密登录OpenSSH） - 逻辑 | LuoJi.eu.org</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><meta name="format-detection" content="telphone=no, date=no, address=no, email=no"><meta name="theme-color" content="#282a2c"><meta name="keywords" itemprop="keywords" content=""><meta name="description" itemprop="description" content="步骤为： Windows安装OpenSSH服务端，并修改sshd_config配置文件 Padavan客户端生成私钥与公钥 将生成的公钥复制到服务端 Padavan成功免密登录Windows的Open [&hellip;]"><meta itemprop="image" content="https://luojimen.github.io/wp-content/themes/kratos-4.1.2/assets/img/default.jpg"><meta property="og:site_name" content="逻辑 | LuoJi.eu.org"><meta property="og:url" content="https://luojimen.github.io/2025/12/configuration-of-padavan-key-login-to-windows-dropbear-password-free-login-to-openssh/"><meta property="og:title" content="Padavan密钥登录Windows的配置（Dropbear免密登录OpenSSH）"><meta property="og:image" content="https://luojimen.github.io/wp-content/themes/kratos-4.1.2/assets/img/default.jpg"><meta property="og:image:type" content="image/webp"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Padavan密钥登录Windows的配置（Dropbear免密登录OpenSSH）"><meta name="twitter:creator" content="书三拾"><meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//cdn.jsdelivr.net' />
<link rel='dns-prefetch' href='//zz.bdstatic.com' />
<link rel='stylesheet' id='urvanov_syntax_highlighter-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/css/min/urvanov_syntax_highlighter.min.css?ver=2.8.27' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-1c-zapros-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/themes/1c-zapros/1c-zapros.css?ver=2.8.27' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-verdana-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/fonts/verdana.css?ver=2.8.27' type='text/css' media='all' />
<style id='global-styles-inline-css' type='text/css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel='stylesheet' id='bootstrap-css'  href='https://cdn.jsdelivr.net/gh/seatonjiang/kratos@v4.2.1/assets/css/bootstrap.min.css?ver=4.5.0' type='text/css' media='all' />
<link rel='stylesheet' id='kicon-css'  href='https://cdn.jsdelivr.net/gh/seatonjiang/kratos@v4.2.1/assets/css/iconfont.min.css?ver=4.2.1' type='text/css' media='all' />
<link rel='stylesheet' id='layer-css'  href='https://cdn.jsdelivr.net/gh/seatonjiang/kratos@v4.2.1/assets/css/layer.min.css?ver=3.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='lightgallery-css'  href='https://cdn.jsdelivr.net/gh/seatonjiang/kratos@v4.2.1/assets/css/lightgallery.min.css?ver=1.4.0' type='text/css' media='all' />
<link rel='stylesheet' id='kratos-css'  href='https://cdn.jsdelivr.net/gh/seatonjiang/kratos@v4.2.1/style.css?ver=4.2.1' type='text/css' media='all' />
<style id='kratos-inline-css' type='text/css'>

        @media screen and (min-width: 992px) {
            .k-nav .navbar-brand h1 {
                color: #ffffff;
            }
            .k-nav .navbar-nav > li.nav-item > a {
                color: #ffffff;
            }
        }
        
.sticky-sidebar {
                position: sticky;
                top: 8px;
                height: 100%;
            }
</style>
<link rel="alternate" type="application/json+oembed" href="https://luojimen.github.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fluoji.eu.org%2F2025%2F12%2Fconfiguration-of-padavan-key-login-to-windows-dropbear-password-free-login-to-openssh%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://luojimen.github.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fluoji.eu.org%2F2025%2F12%2Fconfiguration-of-padavan-key-login-to-windows-dropbear-password-free-login-to-openssh%2F&#038;format=xml" />
<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YQCVEPVH0S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YQCVEPVH0S');
</script>


<!-- 谷歌收录的验证方式 -->
<meta name="google-site-verification" content="XxPfUFFG0MmfvRUNs2AFXHfRXRx_xVLXdD_6Si95rJ0" />
<!-- 谷歌收录的验证方式sok-luoji.eu.org -->
<meta name="google-site-verification" content="IWGkGkcNk1N0IaVhCin-Seeitqc7sGT_dRWL1M15DjI" />
<!-- bing收录验证luojimen.github.io -->
<meta name="msvalidate.01" content="508C6C00EA05098C32CD4DB253B3CB66" />
<!-- baidu收录验证luojimen.github.io -->
<meta name="baidu-site-verification" content="code-DlUhxrKYUP" />		
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-YQCVEPVH0S"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'G-YQCVEPVH0S');
		</script>

				<script type="text/javascript">
		var _hmt = _hmt || [];
				_hmt.push(['_trackPageview']);
						(function() {
		var hm = document.createElement("script");
		hm.src = "//hm.baidu.com/hm.js?cff4b8fde8a7abf46d402c4fd284f0cc";
		hm.setAttribute('async', 'true');
		document.getElementsByTagName('head')[0].appendChild(hm);
		})();
		</script>
		<script type='text/javascript' src='https://luojimen.github.io/wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script type='text/javascript' src='https://luojimen.github.io/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script></script></head>

<body>
<?php //为WordPress文章图片自动添加链接到原图 ?>
    <script type="text/javascript">  
    $(function() {  
    $('.content img').each(function(i){  
        if (! this.parentNode.href) {  
            $(this).wrap("<a href='"+this.src+"' class='highslide-image' onclick='return hs.expand(this);'></a>");  
                                    }  
                                            });  
                });  
    </script> 
    <div class="k-header">
        <nav class="k-nav navbar navbar-expand-lg navbar-light fixed-top" style="background:#1e73be">
            <div class="container">
                <a class="navbar-brand" href="http://luojimen.github.io">
                    <h1>逻辑 | LuoJi.eu.org</h1>                </a>
                                    <button class="navbar-toggler navbar-toggler-right" id="navbutton" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="line first-line"></span>
                        <span class="line second-line"></span>
                        <span class="line third-line"></span>
                    </button>
                <div id="navbarResponsive" class="collapse navbar-collapse"><ul id="menu-menu-1" class="navbar-nav ml-auto"><li class="nav-item" ><a title="我的" href="https://luojimen.github.io/my/" class="nav-link">我的</a></li>
<li class="nav-item" ><a title="主站" href="https://luojimen.github.io/" class="nav-link">主站</a></li>
<li class="nav-item" ><a title="在线工具站" href="https://luojimen.github.io/online-tool-station/" class="nav-link">在线工具站</a></li>
<li class="nav-item" ><a title="运维" href="https://luojimen.github.io/operation-and-maintenance/" class="nav-link">运维</a></li>
<li class="nav-item" ><a title="目录" href="https://luojimen.github.io/catalogue/" class="nav-link">目录</a></li>
</ul></div>            </div>
        </nav>
            </div><div class="k-main color" style="background:#f5f5f5">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 details">
                                    <div class="article">
                                                    <div class="breadcrumb-box">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item">
                                        <a class="text-dark" href="https://luojimen.github.io"> 首页</a>
                                    </li>
                                    <li class="breadcrumb-item"> <a class="text-dark" href="https://luojimen.github.io/category/linux/">Linux</a></li>                                    <li class="breadcrumb-item active" aria-current="page"> 正文</li>
                                </ol>
                            </div>
                                                <div class="header">
                            <h1 class="title">Padavan密钥登录Windows的配置（Dropbear免密登录OpenSSH）</h1>
                            <div class="meta">
                                <span>2025年12月12日</span>
                                                                    <span>28点热度</span>
                                                                                            </div>
                        </div>
                        <div class="content" id="lightgallery">
                            <div style="margin-bottom:5px"><a href="" target="_blank" rel="noreferrer"><img src=""></a></div><div>
<div>步骤为：</div>
<div>
<ol class="wiz-list-level1">
<li>Windows安装OpenSSH服务端，并修改sshd_config配置文件</li>
<li>Padavan客户端生成私钥与公钥</li>
<li>将生成的公钥复制到服务端</li>
<li>Padavan成功免密登录Windows的OpenSSH</li>
</ol>
<div>
<h3 ><a name="toc-1"></a>1、编辑OpenSSH服务端配置文件C:\ProgramData\ssh\sshd_config</h3>
<div>
<ul>
<li>修改配置项：PubkeyAuthentication yes 是一个 SSH服务器配置指令，它告诉SSH服务器（sshd）启用公钥认证机制，允许用户使用SSH密钥进行安全登录：
<div>
<div data-mode="JavaScript" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-693b18a312dcb831514184" class="urvanov-syntax-highlighter-syntax crayon-theme-1c-zapros urvanov-syntax-highlighter-font-verdana urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
默认：#PubkeyAuthentication yes
修改：取消注释：
	 PubkeyAuthentication yes </textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dcb831514184-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dcb831514184-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dcb831514184-3">3</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dcb831514184-1">默认：<span class="crayon-p">#PubkeyAuthentication yes</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dcb831514184-2">修改：取消注释：</div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dcb831514184-3"><span class="crayon-h">	 </span><span class="crayon-e">PubkeyAuthentication </span><span class="crayon-i">yes</span><span class="crayon-h"> </span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

</div>
</div>
</li>
<li>修改配置项：默认公钥文件的地址是C:\ProgramData\ssh\administrators_authorized_keys，若想改为C:\Users\用户名\.ssh\authorized_keys，则注释以下两条（注释任意一条就可以生效，不过搜的教程都是两条一起注释）：
<div>
<div data-mode="JavaScript" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-693b18a312dd2888294178" class="urvanov-syntax-highlighter-syntax crayon-theme-1c-zapros urvanov-syntax-highlighter-font-verdana urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
默认：Match Group administrators
        AuthorizedKeysFile __PROGRAMDATA__/ssh/administrators_authorized_keys
修改：添加注释：
	#Match Group administrators
        #AuthorizedKeysFile __PROGRAMDATA__/ssh/administrators_authorized_keys</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dd2888294178-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dd2888294178-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dd2888294178-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dd2888294178-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dd2888294178-5">5</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dd2888294178-1">默认：<span class="crayon-e">Match </span><span class="crayon-e">Group </span><span class="crayon-e">administrators</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dd2888294178-2"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">AuthorizedKeysFile </span><span class="crayon-v">__PROGRAMDATA__</span><span class="crayon-o">/</span><span class="crayon-v">ssh</span><span class="crayon-o">/</span><span class="crayon-v">administrators_authorized</span><span class="crayon-sy">_</span>keys</div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dd2888294178-3">修改：添加注释：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dd2888294178-4"><span class="crayon-h">	</span><span class="crayon-p">#Match Group administrators</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dd2888294178-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#AuthorizedKeysFile __PROGRAMDATA__/ssh/administrators_authorized_keys</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->

</div>
</div>
</li>
</ul>
</div>
</div>
<div><span style="font-size: 1.25rem; font-weight: bold;">2、Padavan客户端生成私钥与公钥（Dropbear选用ecdsa算法）</span></div>
</div>
</div>
<div data-mode="JavaScript" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-693b18a312dd4571609161" class="urvanov-syntax-highlighter-syntax crayon-theme-1c-zapros urvanov-syntax-highlighter-font-verdana urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
生成私钥和公钥，*注意dropbearkey生成的公钥信息是直接显示而不是生成文件，需自己复制保存：
	dropbearkey -t ecdsa -f ./id_ecdsa
若没及时保存公钥信息，这条指令也可再次显示某个私钥对应的公钥：
	dropbearkey -y -f ./id_ecdsa</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dd4571609161-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dd4571609161-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dd4571609161-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dd4571609161-4">4</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dd4571609161-1">生成私钥和公钥，<span class="crayon-o">*</span>注意<span class="crayon-i">dropbearkey</span>生成的公钥信息是直接显示而不是生成文件，需自己复制保存：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dd4571609161-2"><span class="crayon-h">	</span><span class="crayon-v">dropbearkey</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-v">ecdsa</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">f</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">id</span><span class="crayon-sy">_</span>ecdsa</div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dd4571609161-3">若没及时保存公钥信息，这条指令也可再次显示某个私钥对应的公钥：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dd4571609161-4"><span class="crayon-h">	</span><span class="crayon-v">dropbearkey</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">f</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">id_ecdsa</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

</div>
<h3 ><a name="toc-2"></a>3、将生成的公钥复制到服务端</h3>
<div>    将生成的公钥信息，复制到服务端的C:\Users\用户名\.ssh\authorized_keys文件中</div>
<h3 ><a name="toc-3"></a>4、Padavan成功免密登录Windows的OpenSSH</h3>
<div>    Windows-服务-OpenSSH SSH Server-重新启动</div>
<div>    验证登录：ssh 用户名@服务端IP</div>
<div>    完成，客户端ssh不再提示输入密码，直接就登录了进去√</div>
<div>
<h3 ><a name="toc-4"></a>【更多用法】一条语句完成SSH登录且在远端执行命令：</h3>
<div>    用法：ssh [选项] [用户名]@主机[/端口] [命令]</div>
</div>
<div>    命令是否加引号没有区别，都能成功执行【shutdown /h】或者【ping ip】这种带空格的命令：</div>
<div data-mode="JavaScript" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-693b18a312dd6430997641" class="urvanov-syntax-highlighter-syntax crayon-theme-1c-zapros urvanov-syntax-highlighter-font-verdana urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#这段代码会连接到指定的远程主机，并在远端执行ping命令：
	ssh -i ./id_ecdsa 用户名@服务端IP "ping 192.168.1.1"
#命令不加引号也可运行shutdown /h
	ssh -i ./id_ecdsa 用户名@服务端IP shutdown /h 
#上面的语句保存成sh脚本，bash亦可以成功在远端执行命令：
	bash ssh-nas-shutdown-h.sh</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dd6430997641-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dd6430997641-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dd6430997641-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dd6430997641-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dd6430997641-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dd6430997641-6">6</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dd6430997641-1"><span class="crayon-p">#这段代码会连接到指定的远程主机，并在远端执行ping命令：</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dd6430997641-2"><span class="crayon-h">	</span><span class="crayon-v">ssh</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">id</span><span class="crayon-sy">_</span>ecdsa<span class="crayon-h"> </span>用户名<span class="crayon-sy">@</span>服务端<span class="crayon-i">IP</span><span class="crayon-h"> </span><span class="crayon-s">"ping 192.168.1.1"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dd6430997641-3"><span class="crayon-p">#命令不加引号也可运行shutdown /h</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dd6430997641-4"><span class="crayon-h">	</span><span class="crayon-v">ssh</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">id</span><span class="crayon-sy">_</span>ecdsa<span class="crayon-h"> </span>用户名<span class="crayon-sy">@</span>服务端<span class="crayon-e">IP </span><span class="crayon-v">shutdown</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-i">h</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dd6430997641-5"><span class="crayon-p">#上面的语句保存成sh脚本，bash亦可以成功在远端执行命令：</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dd6430997641-6"><span class="crayon-h">	</span><span class="crayon-e">bash </span><span class="crayon-v">ssh</span><span class="crayon-o">-</span><span class="crayon-v">nas</span><span class="crayon-o">-</span><span class="crayon-v">shutdown</span><span class="crayon-o">-</span><span class="crayon-v">h</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

</div>
<div></div>
<h2 ><a name="toc-5"></a>参考文章：</h2>
<div>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/404302973" target="_blank" rel="nofollow" class="broken_link">Open SSH 使用记录 - 知乎</a>
<div>
<div data-mode="JavaScript" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-693b18a312dd8636995739" class="urvanov-syntax-highlighter-syntax crayon-theme-1c-zapros urvanov-syntax-highlighter-font-verdana urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
特别说明一点：如果远程主机没有用户 aaa，当你使用用户 aaa 登陆远程主机时，它仍会提示你输入密码，只不过你输入的密码永远都不可能正确。

C:\Users\username\.ssh\config	#用户级别配置，仅对当前的 username 用户生效。
C:\ProgramData\ssh\ssh_config	#全局级别配置，对所有用户生效，除非被用户级别的配置覆盖。</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dd8636995739-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dd8636995739-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dd8636995739-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dd8636995739-4">4</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dd8636995739-1">特别说明一点：如果远程主机没有用户<span class="crayon-h"> </span><span class="crayon-i">aaa</span>，当你使用用户<span class="crayon-h"> </span><span class="crayon-i">aaa</span><span class="crayon-h"> </span>登陆远程主机时，它仍会提示你输入密码，只不过你输入的密码永远都不可能正确。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dd8636995739-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dd8636995739-3"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">username</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">ssh</span><span class="crayon-sy">\</span><span class="crayon-i">config</span><span class="crayon-h">	</span><span class="crayon-p">#用户级别配置，仅对当前的 username 用户生效。</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dd8636995739-4"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">ProgramData</span><span class="crayon-sy">\</span><span class="crayon-v">ssh</span><span class="crayon-sy">\</span><span class="crayon-v">ssh</span><span class="crayon-sy">_</span>config<span class="crayon-h">	</span><span class="crayon-p">#全局级别配置，对所有用户生效，除非被用户级别的配置覆盖。</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

</div>
</div>
</li>
</ul>
<ul>
<li><a style="text-decoration-skip-ink: none;" href="https://www.cnblogs.com/suv789/p/18635440" target="_blank"  rel="nofollow" >Windows已经内置了OpenSSH客户端和服务器，无需安装额外的第三方SSH工具。你可以通过命令行工具（如 PowerShell 或 Command Prompt）来使用 OpenSSH。 - suv789 - 博客园</a>
<div>
<div data-mode="JavaScript" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-693b18a312ddb476228757" class="urvanov-syntax-highlighter-syntax crayon-theme-1c-zapros urvanov-syntax-highlighter-font-verdana urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
使用SSH执行远程命令：如果你想在远程主机上执行简单的命令，可以通过ssh命令传递要执行的指令。例如：
	ssh user@remote-host "ls -l /var/www"
	此命令会连接到 remote-host，并在远程主机上执行 ls -l /var/www 命令，列出 /var/www 目录下的文件。
    
你也可以将 PowerShell 脚本上传到远程服务器并通过 SSH 远程执行：
	将脚本上传到远程服务器：
	scp C:\local\script.ps1 user@remote-host:/home/user/remote-script.ps1
	通过 SSH 执行脚本：
	ssh user@remote-host "powershell -ExecutionPolicy Bypass -File /home/user/remote-script.ps1"
	这样，你就可以将本地的 PowerShell 脚本上传并在远程服务器上执行。-ExecutionPolicy Bypass 参数确保 PowerShell 脚本能够在远程环境中无阻碍地执行。

记录远程命令输出到日志文件
	在 PowerShell 脚本中，你可以将执行的结果或错误信息记录到本地日志文件中：
	# 设置日志文件路径
	$logFile = "C:\path\to\logfile.txt"
	# 执行远程命令，并记录输出到日志文件
	$command = "df -h"
	$logOutput = ssh "$user@$host" "$command"
	# 将输出追加到日志文件
	$logOutput | Out-File -Append $logFile</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312ddb476228757-20">20</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-1">使用<span class="crayon-i">SSH</span>执行远程命令：如果你想在远程主机上执行简单的命令，可以通过<span class="crayon-i">ssh</span>命令传递要执行的指令。例如：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-2"><span class="crayon-h">	</span><span class="crayon-e">ssh </span><span class="crayon-v">user</span><span class="crayon-sy">@</span><span class="crayon-v">remote</span><span class="crayon-o">-</span><span class="crayon-i">host</span><span class="crayon-h"> </span><span class="crayon-s">"ls -l /var/www"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-3"><span class="crayon-h">	</span>此命令会连接到<span class="crayon-h"> </span><span class="crayon-v">remote</span><span class="crayon-o">-</span><span class="crayon-i">host</span>，并在远程主机上执行<span class="crayon-h"> </span><span class="crayon-v">ls</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">l</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-i">www</span><span class="crayon-h"> </span>命令，列出<span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-i">www</span><span class="crayon-h"> </span>目录下的文件。</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-5">你也可以将<span class="crayon-h"> </span><span class="crayon-i">PowerShell</span><span class="crayon-h"> </span>脚本上传到远程服务器并通过<span class="crayon-h"> </span><span class="crayon-i">SSH</span><span class="crayon-h"> </span>远程执行：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-6"><span class="crayon-h">	</span>将脚本上传到远程服务器：</div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-7"><span class="crayon-h">	</span><span class="crayon-i">scp</span><span class="crayon-h"> </span><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">local</span><span class="crayon-sy">\</span><span class="crayon-v">script</span><span class="crayon-sy">.</span><span class="crayon-e">ps1 </span><span class="crayon-v">user</span><span class="crayon-sy">@</span><span class="crayon-v">remote</span><span class="crayon-o">-</span><span class="crayon-v">host</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">user</span><span class="crayon-o">/</span><span class="crayon-v">remote</span><span class="crayon-o">-</span><span class="crayon-v">script</span><span class="crayon-sy">.</span><span class="crayon-i">ps1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-8"><span class="crayon-h">	</span>通过<span class="crayon-h"> </span><span class="crayon-i">SSH</span><span class="crayon-h"> </span>执行脚本：</div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-9"><span class="crayon-h">	</span><span class="crayon-e">ssh </span><span class="crayon-v">user</span><span class="crayon-sy">@</span><span class="crayon-v">remote</span><span class="crayon-o">-</span><span class="crayon-i">host</span><span class="crayon-h"> </span><span class="crayon-s">"powershell -ExecutionPolicy Bypass -File /home/user/remote-script.ps1"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-10"><span class="crayon-h">	</span>这样，你就可以将本地的<span class="crayon-h"> </span><span class="crayon-i">PowerShell</span><span class="crayon-h"> </span>脚本上传并在远程服务器上执行。<span class="crayon-o">-</span><span class="crayon-e">ExecutionPolicy </span><span class="crayon-i">Bypass</span><span class="crayon-h"> </span>参数确保<span class="crayon-h"> </span><span class="crayon-i">PowerShell</span><span class="crayon-h"> </span>脚本能够在远程环境中无阻碍地执行。</div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-12">记录远程命令输出到日志文件</div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-13"><span class="crayon-h">	</span>在<span class="crayon-h"> </span><span class="crayon-i">PowerShell</span><span class="crayon-h"> </span>脚本中，你可以将执行的结果或错误信息记录到本地日志文件中：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-14"><span class="crayon-h">	</span><span class="crayon-p"># 设置日志文件路径</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-15"><span class="crayon-h">	</span><span class="crayon-sy">$</span><span class="crayon-v">logFile</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"C:\path\to\logfile.txt"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-16"><span class="crayon-h">	</span><span class="crayon-p"># 执行远程命令，并记录输出到日志文件</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-17"><span class="crayon-h">	</span><span class="crayon-sy">$</span><span class="crayon-v">command</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"df -h"</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-18"><span class="crayon-h">	</span><span class="crayon-sy">$</span><span class="crayon-v">logOutput</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">ssh</span><span class="crayon-h"> </span><span class="crayon-s">"$user@$host"</span><span class="crayon-h"> </span><span class="crayon-s">"$command"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-19"><span class="crayon-h">	</span><span class="crayon-p"># 将输出追加到日志文件</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312ddb476228757-20"><span class="crayon-h">	</span><span class="crayon-sy">$</span><span class="crayon-v">logOutput</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Out</span><span class="crayon-o">-</span><span class="crayon-v">File</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">Append</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">logFile</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->

</div>
</div>
</li>
<li><a href="https://panfake.com/2022/12/resolve-openwrt-ssh-exited-string-too-long/" target="_blank"  rel="nofollow" >OpenWRT下ssh提示Exited: String too long的解决办法 - panFake</a>
<div>
<div data-mode="JavaScript" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-693b18a312ddc024995554" class="urvanov-syntax-highlighter-syntax crayon-theme-1c-zapros urvanov-syntax-highlighter-font-verdana urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
若是将 ssh-keygens 生成的私钥文件给 Dropbear 客户端使用，会报错 ssh: Exited: String too long ，这是因为 Dropbear版本的SSH 需要特定格式的密钥，而不是由 ssh-keygen 生成的 PEM 格式。</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312ddc024995554-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312ddc024995554-1">若是将<span class="crayon-h"> </span><span class="crayon-v">ssh</span><span class="crayon-o">-</span><span class="crayon-i">keygens</span><span class="crayon-h"> </span>生成的私钥文件给<span class="crayon-h"> </span><span class="crayon-i">Dropbear</span><span class="crayon-h"> </span>客户端使用，会报错<span class="crayon-h"> </span><span class="crayon-v">ssh</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Exited</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-e">too </span><span class="crayon-t">long</span><span class="crayon-h"> </span>，这是因为<span class="crayon-h"> </span><span class="crayon-i">Dropbear</span>版本的<span class="crayon-i">SSH</span><span class="crayon-h"> </span>需要特定格式的密钥，而不是由<span class="crayon-h"> </span><span class="crayon-v">ssh</span><span class="crayon-o">-</span><span class="crayon-i">keygen</span><span class="crayon-h"> </span>生成的<span class="crayon-h"> </span><span class="crayon-i">PEM</span><span class="crayon-h"> </span>格式。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->

</div>
</div>
</li>
<li><a href="https://github.com/mkj/dropbear" target="_blank"  rel="nofollow" >mkj/dropbear: Dropbear SSH</a>
<div>
<div data-mode="JavaScript" data-theme="default">
<!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-693b18a312dde257246050" class="urvanov-syntax-highlighter-syntax crayon-theme-1c-zapros urvanov-syntax-highlighter-font-verdana urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
查看私钥文件对应的公钥：
	dropbearkey -y -f id_ecdsa
将OpenSSH密钥转换为Dropbear：
	./dropbearconvert openssh dropbear /etc/ssh/ssh_host_dsa_key dropbear_dss_host_key</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dde257246050-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dde257246050-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-693b18a312dde257246050-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-693b18a312dde257246050-4">4</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dde257246050-1">查看私钥文件对应的公钥：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dde257246050-2"><span class="crayon-h">	</span><span class="crayon-v">dropbearkey</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">f</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">_</span>ecdsa</div><div class="crayon-line" id="urvanov-syntax-highlighter-693b18a312dde257246050-3">将<span class="crayon-i">OpenSSH</span>密钥转换为<span class="crayon-i">Dropbear</span>：</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-693b18a312dde257246050-4"><span class="crayon-h">	</span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-e">dropbearconvert </span><span class="crayon-e">openssh </span><span class="crayon-v">dropbear</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">ssh</span><span class="crayon-o">/</span><span class="crayon-e">ssh_host_dsa_key </span><span class="crayon-v">dropbear_dss_host_key</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

</div>
</div>
</li>
<li></li>
</ul>
</div>
                        </div>
                                                <div class="footer clearfix">
                            <div class="tags float-left">
                                <span>标签：</span>
                                <a>暂无</a>                            </div>
                            <div class="tool float-right d-none d-lg-block">
                                <span>最后更新：2025年12月12日</span>
                            </div>
                        </div>
                    </div>
                                <div class="toolbar clearfix">
	<div class="meta float-md-left">
		<img src="https://sdn.geekzu.org/avatar/8dc48ab2afc8d5058df4be411bc61a15?s=96&r=g">
		<p class="name">书三拾</p>
		<p class="motto mb-0">不积跬步无以至千里</p>
	</div>
	<div class="share float-md-right text-center">
				<a href="javascript:;" id="thumbs" data-action="love" data-id="2843" role="button" class="btn btn-thumbs "><i class="kicon i-like"></i><span class="ml-1">点赞</span></a>
	</div>
</div>                <nav class="navigation post-navigation clearfix" role="navigation">
                    <div class="nav-previous clearfix"><a title="Dropbear无法RSA免密登录Win10的OpenSSH问题解决" href="https://luojimen.github.io/2025/12/dropbear-unable-to-rsa-password-free-login-to-win10-openssh-issue-resolved/">< 上一篇</a></div>                </nav>
                            </div>
                    </div>
    </div>
</div>
<div class="k-footer">
    <div class="f-toolbox">
        <div class="gotop ">
            <div class="gotop-btn">
                <span class="kicon i-up"></span>
            </div>
        </div>
                <div class="search">
            <span class="kicon i-find"></span>
            <form class="search-form" role="search" method="get" action="https://luojimen.github.io/">
                <input type="text" name="s" id="search-footer" placeholder="搜点什么呢?" style="display:none" />
            </form>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <p class="social">
                                    </p>
                <p>COPYRIGHT © 2022 luoji.eu.org. ALL RIGHTS RESERVED.</p><p>Theme <a href="https://github.com/seatonjiang/kratos" target="_blank" rel="nofollow">Kratos</a> Made By <a href="https://seatonjiang.com" target="_blank" rel="nofollow">Seaton Jiang</a></p>            </div>
        </div>
    </div>
</div>
<script type='text/javascript' id='urvanov_syntax_highlighter_js-js-extra'>
/* <![CDATA[ */
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.27","is_admin":"0","ajaxurl":"https:\/\/luojimen.github.io\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"Copied to the clipboard","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
/* ]]> */
</script>
<script type='text/javascript' src='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/js/min/urvanov_syntax_highlighter.min.js?ver=2.8.27' id='urvanov_syntax_highlighter_js-js'></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/seatonjiang/kratos@v4.2.1/assets/js/lightgallery.min.js?ver=1.4.0' id='lightgallery-js'></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/seatonjiang/kratos@v4.2.1/assets/js/bootstrap.bundle.min.js?ver=4.5.0' id='bootstrap-bundle-js'></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/seatonjiang/kratos@v4.2.1/assets/js/layer.min.js?ver=3.1.1' id='layer-js'></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/seatonjiang/kratos@v4.2.1/assets/js/DPlayer.min.js?ver=4.2.1' id='dplayer-js'></script>
<script type='text/javascript' id='kratos-js-extra'>
/* <![CDATA[ */
var kratos = {"site":"https:\/\/luojimen.github.io","directory":"https:\/\/cdn.jsdelivr.net\/gh\/seatonjiang\/kratos@v4.2.1","alipay":"https:\/\/luojimen.github.io\/wp-content\/themes\/kratos-4.1.2\/assets\/img\/200.png","wechat":"https:\/\/luojimen.github.io\/wp-content\/themes\/kratos-4.1.2\/assets\/img\/200.png","lightgallery":"1","repeat":"\u60a8\u5df2\u7ecf\u8d5e\u8fc7\u4e86","thanks":"\u611f\u8c22\u60a8\u7684\u652f\u6301","donate":"\u6253\u8d4f\u4f5c\u8005","scan":"\u626b\u7801\u652f\u4ed8"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/seatonjiang/kratos@v4.2.1/assets/js/kratos.js?ver=4.2.1' id='kratos-js'></script>
<script type='text/javascript' id='comment-js-extra'>
/* <![CDATA[ */
var ajaxcomment = {"ajax_url":"https:\/\/luojimen.github.io\/wp-admin\/admin-ajax.php","order":"asc","compost":"\u8bc4\u8bba\u6b63\u5728\u63d0\u4ea4\u4e2d","comsucc":"\u8bc4\u8bba\u63d0\u4ea4\u6210\u529f"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/seatonjiang/kratos@v4.2.1/assets/js/comments.min.js?ver=4.2.1' id='comment-js'></script>
<script type='text/javascript' src='https://zz.bdstatic.com/linksubmit/push.js?ver=6.0.11' id='baidu_zz_push-js'></script>
</body>

</html>