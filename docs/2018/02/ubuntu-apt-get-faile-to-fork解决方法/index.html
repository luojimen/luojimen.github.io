<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ubuntu apt get faile to fork解决方法 - LuoJi.men</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="format-detection" content="telphone=no, email=no">
    <meta name="keywords" content="linux,ubuntu">
    <meta name="description" itemprop="description" content="在ubuntu上安装mailutls时候提示 [crayon-6320cd18f311c409498202/] 网上搜索找到这篇解决方案》https://vsxen.github.io/2016/11 [&hellip;]">
    <meta name="theme-color" content="#282a2c">
    <meta itemprop="image" content="https://luojimen.github.io/wp-content/themes/kratos-4.1.2/assets/img/default.jpg" />
        <meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//cdn.seatonjiang.com' />
<link rel='dns-prefetch' href='//zz.bdstatic.com' />
<link rel='stylesheet' id='urvanov_syntax_highlighter-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/css/min/urvanov_syntax_highlighter.min.css?ver=2.8.27' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/themes/classic/classic.css?ver=2.8.27' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/fonts/monaco.css?ver=2.8.27' type='text/css' media='all' />
<style id='global-styles-inline-css' type='text/css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel='stylesheet' id='bootstrap-css'  href='https://cdn.seatonjiang.com/kratos/4.1.2/assets/css/bootstrap.min.css?ver=4.5.0' type='text/css' media='all' />
<link rel='stylesheet' id='kicon-css'  href='https://cdn.seatonjiang.com/kratos/4.1.2/assets/css/iconfont.min.css?ver=4.1.2' type='text/css' media='all' />
<link rel='stylesheet' id='layer-css'  href='https://cdn.seatonjiang.com/kratos/4.1.2/assets/css/layer.min.css?ver=3.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='lightgallery-css'  href='https://cdn.seatonjiang.com/kratos/4.1.2/assets/css/lightgallery.min.css?ver=1.4.0' type='text/css' media='all' />
<link rel='stylesheet' id='kratos-css'  href='https://cdn.seatonjiang.com/kratos/4.1.2/style.css?ver=4.1.2' type='text/css' media='all' />
<style id='kratos-inline-css' type='text/css'>

        @media screen and (min-width: 992px) {
            .k-nav .navbar-brand h1 {
                color: #ffffff;
            }
            .k-nav .navbar-nav > li.nav-item > a {
                color: #ffffff;
            }
        }
        
.sticky-sidebar {
                position: sticky;
                top: 8px;
                height: 100%;
            }
</style>
<link rel="alternate" type="application/json+oembed" href="https://luojimen.github.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fluoji.men%2F2018%2F02%2Fubuntu-apt-get-faile-to-fork%25e8%25a7%25a3%25e5%2586%25b3%25e6%2596%25b9%25e6%25b3%2595%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://luojimen.github.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fluoji.men%2F2018%2F02%2Fubuntu-apt-get-faile-to-fork%25e8%25a7%25a3%25e5%2586%25b3%25e6%2596%25b9%25e6%25b3%2595%2F&#038;format=xml" />
<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YQCVEPVH0S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YQCVEPVH0S');
</script>


<!-- 谷歌收录的验证方式 -->
<meta name="google-site-verification" content="XxPfUFFG0MmfvRUNs2AFXHfRXRx_xVLXdD_6Si95rJ0" />
<!-- bing收录验证luojimen.github.io -->
<meta name="msvalidate.01" content="508C6C00EA05098C32CD4DB253B3CB66" />
<!-- baidu收录验证luojimen.github.io -->
<meta name="baidu-site-verification" content="code-DlUhxrKYUP" />		
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-YQCVEPVH0S"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'G-YQCVEPVH0S');
		</script>

				<script type="text/javascript">
		var _hmt = _hmt || [];
				_hmt.push(['_trackPageview']);
						(function() {
		var hm = document.createElement("script");
		hm.src = "//hm.baidu.com/hm.js?cff4b8fde8a7abf46d402c4fd284f0cc";
		hm.setAttribute('async', 'true');
		document.getElementsByTagName('head')[0].appendChild(hm);
		})();
		</script>
		    <script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/jquery.min.js?ver=3.4.1' id='jquery-js'></script>
    </head>

<body>
    <script type="text/javascript">  
    $(function() {  
    $('.content img').each(function(i){  
        if (! this.parentNode.href) {  
            $(this).wrap("<a href='"+this.src+"' class='highslide-image' onclick='return hs.expand(this);'></a>");  
                                    }  
                                            });  
                });  
    </script> 
    <div class="k-header">
        <nav class="k-nav navbar navbar-expand-lg navbar-light fixed-top" style="background:#1e73be">
            <div class="container">
                <a class="navbar-brand" href="http://luojimen.github.io">
                    <h1>LuoJi.men</h1>                </a>
                                    <button class="navbar-toggler navbar-toggler-right" id="navbutton" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="line first-line"></span>
                        <span class="line second-line"></span>
                        <span class="line third-line"></span>
                    </button>
                <div id="navbarResponsive" class="collapse navbar-collapse"><ul id="menu-menu-1" class="navbar-nav ml-auto"><li class="nav-item" ><a title="我的" href="https://luojimen.github.io/my/" class="nav-link">我的</a></li>
<li class="nav-item" ><a title="主站" href="https://luojimen.github.io/" class="nav-link">主站</a></li>
<li class="nav-item" ><a title="在线工具站" href="https://luojimen.github.io/online-tool-station/" class="nav-link">在线工具站</a></li>
<li class="nav-item" ><a title="运维" href="https://luojimen.github.io/operation-and-maintenance/" class="nav-link">运维</a></li>
<li class="nav-item" ><a title="目录" href="https://luojimen.github.io/catalogue/" class="nav-link">目录</a></li>
</ul></div>            </div>
        </nav>
            </div>
<div class="k-main color" style="background:#f5f5f5">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 details">
                                    <div class="article">
                        <div class="breadcrumb-box">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item">
                                    <a class="text-dark" href="https://luojimen.github.io"> 首页</a>
                                </li>
                                <li class="breadcrumb-item"> <a class="text-dark" href="https://luojimen.github.io/category/linux/">Linux</a></li>                                <li class="breadcrumb-item active" aria-current="page"> 正文</li>
                            </ol>
                        </div>
                        <div class="header">
                            <h1 class="title">Ubuntu apt get faile to fork解决方法</h1>
                            <div class="meta">
                                <span>2018年2月3日</span>
                                                                    <span>515点热度</span>
                                                                                            </div>
                        </div>
                        <div class="content" id="lightgallery">
                            <div style="margin-bottom:5px"><a href="" target="_blank" rel="noreferrer"><img src=""></a></div><div></div>
<div>在ubuntu上安装mailutls时候提示</div>
<div class="wiz-code-container" id="wiz_cm_1517596912842_6921" data-mode="JavaScript" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-6320cd18f311c409498202" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
root@vds-111783:/rclone# apt-get install mailutils
Reading package lists... Done
Building dependency tree       
Reading state information... Done
  libmysqlclient18 libntlm0 mailutils-common mysql-common
Suggested packages:
  mailutils-mh mailutils-doc
The following NEW packages will be installed:
  guile-2.0-libs libgc1c2 libgsasl7 libkyotocabinet16 libmailutils4
  libmysqlclient18 libntlm0 mailutils mailutils-common mysql-common
0 upgraded, 10 newly installed, 0 to remove and 2 not upgraded.
FATAL -&gt; Failed to fork.</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f311c409498202-12">12</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">vds</span><span class="crayon-o">-</span><span class="crayon-cn">111783</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-i">rclone</span><span class="crayon-p"># apt-get install mailutils</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-2"><span class="crayon-e">Reading </span><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">lists</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">Done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-3"><span class="crayon-e">Building </span><span class="crayon-e">dependency </span><span class="crayon-e">tree&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-4"><span class="crayon-e">Reading </span><span class="crayon-e">state </span><span class="crayon-v">information</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">Done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-5"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-e">libmysqlclient18 </span><span class="crayon-e">libntlm0 </span><span class="crayon-v">mailutils</span><span class="crayon-o">-</span><span class="crayon-e">common </span><span class="crayon-v">mysql</span><span class="crayon-o">-</span><span class="crayon-e">common</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-6"><span class="crayon-e">Suggested </span><span class="crayon-v">packages</span><span class="crayon-o">:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">mailutils</span><span class="crayon-o">-</span><span class="crayon-e">mh </span><span class="crayon-v">mailutils</span><span class="crayon-o">-</span><span class="crayon-e">doc</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-8"><span class="crayon-e">The </span><span class="crayon-e">following </span><span class="crayon-r">NEW</span><span class="crayon-h"> </span><span class="crayon-e">packages </span><span class="crayon-e">will </span><span class="crayon-e">be </span><span class="crayon-v">installed</span><span class="crayon-o">:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">guile</span><span class="crayon-o">-</span><span class="crayon-cn">2.0</span><span class="crayon-o">-</span><span class="crayon-e">libs </span><span class="crayon-e">libgc1c2 </span><span class="crayon-e">libgsasl7 </span><span class="crayon-e">libkyotocabinet16 </span><span class="crayon-e">libmailutils4</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-10"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-e">libmysqlclient18 </span><span class="crayon-e">libntlm0 </span><span class="crayon-e">mailutils </span><span class="crayon-v">mailutils</span><span class="crayon-o">-</span><span class="crayon-e">common </span><span class="crayon-v">mysql</span><span class="crayon-o">-</span><span class="crayon-i">common</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-11"><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-v">upgraded</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-e">newly </span><span class="crayon-v">installed</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">remove </span><span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-v">upgraded</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f311c409498202-12"><span class="crayon-v">FATAL</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-e">Failed </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-v">fork</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
</p>
<div></div>
</div>
<div>网上搜索找到这篇解决方案》https://vsxen.github.io/2016/11/04/ubuntu-faile-to-fork/</div>
<div></div>
<div>只要运行以下脚本即可，意思是解决swap空间不足</div>
<div class="wiz-code-container" id="wiz_cm_1517597034162_9931" data-mode="JavaScript" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-6320cd18f3122123481115" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
curl -sSL https://manageacloud.com/api/cm/configuration/activate_swap/ubuntu/manageacloud-production-script.sh | bash</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3122123481115-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3122123481115-1"><span class="crayon-v">curl</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">sSL </span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//manageacloud.com/api/cm/configuration/activate_swap/ubuntu/manageacloud-production-script.sh | bash</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div>备份脚本:</div>
<div class="wiz-code-container" id="wiz_cm_1517597061214_8911" data-mode="JavaScript" data-theme="default"><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-6320cd18f3124506692530" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/bin/bash

mkdir -p /tmp/manageacloud/
PREFIX='';
if [ `id -u` != 0 ] ; then
    PREFIX='sudo -E ';
fi
apt_timeout="0"
until which git || (( "$apt_timeout" &gt; 10 ))
do
    if [ "$apt_timeout" != "0"  ]; then
        sleep 10
    fi
    $PREFIX apt-get install -q git -y || $PREFIX apt-get -q update | cat &amp;&amp; $PREFIX apt-get -q install git -y | cat
    apt_timeout=$[$apt_timeout+1]
done

cat &gt; /tmp/manageacloud/.manageacloud.sh &lt;&lt; 'MACEOL'
#!/bin/bash
set -ue

dd if=/dev/zero of=/swapfile bs=1024 count=512k
mkswap /swapfile

echo vm.swappiness = 10 | sudo tee -a /etc/sysctl.conf
echo 10 | sudo tee /proc/sys/vm/swappiness

chown root:root /swapfile
chmod 0600 /swapfile

echo " /swapfile       none    swap    sw      0       0 " &gt;&gt; /etc/fstab

swapon /swapfile



MACEOL

#!/bin/bash
set +u
export DEBIAN_FRONTEND=noninteractive
shopt -s xpg_echo
unset PATH JAVA_HOME LD_LIBRARY_PATH
function abort {
   echo "aborting: $@" 1&gt;&amp;2
   exit 1
}
export PATH=/usr/ucb/bin:/bin:/sbin:/usr/bin:/usr/sbin
cat &gt; /etc/motd &lt;&lt;EOL

=================================================
To debug Manageacloud

Bootstrap script:
    cd /tmp/manageacloud/vcs/
    bash .manageacloud.sh

Environment variables:
    cat /tmp/manageacloud/env.log

Git repository (if applicable):
    cd /tmp/manageacloud/vcs/

Any questions support@manageacloud.com
=================================================
 
EOL


env &gt; /tmp/manageacloud/env.log
PREFIX=''
if [ `id -u` != 0 ] ; then
    PREFIX='sudo -E ';
fi
echo 'Host * 
         StrictHostKeyChecking no' &gt;&gt; ~/.ssh/config
rm -rf /tmp/manageacloud/vcs/
mkdir -p /tmp/manageacloud/vcs/
CLONE=""
BRANCH=""
PRIV_KEY=""
if [ "$PRIV_KEY" != "" ]; then
PREFIX='';
if [ `id -u` != 0 ] ; then
    PREFIX='sudo -E ';
fi

apt_timeout="0"
until which git || (( "$apt_timeout" &gt; 10 ))
do
    if [ "$apt_timeout" != "0"  ]; then
        sleep 10
    fi
    $PREFIX apt-get install -q git -y || $PREFIX apt-get -q update | cat &amp;&amp; $PREFIX apt-get -q install git -y | cat
    apt_timeout=$[$apt_timeout+1]
done
   cd /tmp/manageacloud/
   echo '#!/bin/sh
   if [ -z "$PKEY" ]; then
       ssh "$@"
   else
       ssh -i "$PKEY" "$@"
   fi' &gt; git_patch.sh
   chmod +x git_patch.sh
   echo "$PRIV_KEY" &gt; ~/.ssh/mac_private
   chmod 600 ~/.ssh/mac_private
   if [ "$BRANCH" != "" ]; then
       set -x
       cd /tmp/manageacloud/vcs/ &amp;&amp; GIT_SSH=../git_patch.sh PKEY=~/.ssh/mac_private git clone -q $CLONE . | cat &amp;&amp; git checkout $BRANCH
       set +x
   fi
else
PREFIX='';
if [ `id -u` != 0 ] ; then
    PREFIX='sudo -E ';
fi

apt_timeout="0"
until which git || (( "$apt_timeout" &gt; 10 ))
do
    if [ "$apt_timeout" != "0"  ]; then
        sleep 10
    fi
    $PREFIX apt-get install -q git -y || $PREFIX apt-get -q update | cat &amp;&amp; $PREFIX apt-get -q install git -y | cat
    apt_timeout=$[$apt_timeout+1]
done
   if [ "$BRANCH" != "" ]; then
       set -x
       cd /tmp/manageacloud/vcs/ &amp;&amp; git clone $CLONE .| cat &amp;&amp; git checkout $BRANCH
       set +x
   fi
fi
cp /tmp/manageacloud/.manageacloud.sh /tmp/manageacloud/vcs/
cd /tmp/manageacloud/vcs/ &amp;&amp; $PREFIX bash ./.manageacloud.sh | cat 
test ${PIPESTATUS[0]} -eq 0
exit $?</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-38">38</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-39">39</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-40">40</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-41">41</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-42">42</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-43">43</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-44">44</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-45">45</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-46">46</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-47">47</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-48">48</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-49">49</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-50">50</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-51">51</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-52">52</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-53">53</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-54">54</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-55">55</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-56">56</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-57">57</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-58">58</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-59">59</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-60">60</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-61">61</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-62">62</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-63">63</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-64">64</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-65">65</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-66">66</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-67">67</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-68">68</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-69">69</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-70">70</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-71">71</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-72">72</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-73">73</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-74">74</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-75">75</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-76">76</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-77">77</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-78">78</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-79">79</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-80">80</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-81">81</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-82">82</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-83">83</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-84">84</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-85">85</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-86">86</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-87">87</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-88">88</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-89">89</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-90">90</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-91">91</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-92">92</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-93">93</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-94">94</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-95">95</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-96">96</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-97">97</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-98">98</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-99">99</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-100">100</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-101">101</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-102">102</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-103">103</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-104">104</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-105">105</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-106">106</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-107">107</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-108">108</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-109">109</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-110">110</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-111">111</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-112">112</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-113">113</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-114">114</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-115">115</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-116">116</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-117">117</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-118">118</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-119">119</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-120">120</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-121">121</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-122">122</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-123">123</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-124">124</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-125">125</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-126">126</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-127">127</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-128">128</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-129">129</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-130">130</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-131">131</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-132">132</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-133">133</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-134">134</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-135">135</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-6320cd18f3124506692530-136">136</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-1"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-3"><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-4"><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-5"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">u</span><span class="crayon-sy">`</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">'sudo -E '</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-7"><span class="crayon-e">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-8"><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-s">"0"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-9"><span class="crayon-e">until </span><span class="crayon-e">which </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-10"><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">update</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-e">install </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">cat</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-15"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">[</span><span class="crayon-sy">$</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-16"><span class="crayon-e">done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-18"><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">manageacloud</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&lt;</span><span class="crayon-h"> </span><span class="crayon-s">'MACEOL'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-19"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-20"><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">ue</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-22"><span class="crayon-e">dd </span><span class="crayon-st">if</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-e">zero </span><span class="crayon-v">of</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-e">swapfile </span><span class="crayon-v">bs</span><span class="crayon-o">=</span><span class="crayon-cn">1024</span><span class="crayon-h"> </span><span class="crayon-v">count</span><span class="crayon-o">=</span><span class="crayon-cn">512k</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-23"><span class="crayon-v">mkswap</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-e">swapfile</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-24">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-25"><span class="crayon-e">echo </span><span class="crayon-v">vm</span><span class="crayon-sy">.</span><span class="crayon-v">swappiness</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">sudo </span><span class="crayon-v">tee</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">sysctl</span><span class="crayon-sy">.</span><span class="crayon-e">conf</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-26"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">sudo </span><span class="crayon-v">tee</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">proc</span><span class="crayon-o">/</span><span class="crayon-v">sys</span><span class="crayon-o">/</span><span class="crayon-v">vm</span><span class="crayon-o">/</span><span class="crayon-e">swappiness</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-28"><span class="crayon-e">chown </span><span class="crayon-v">root</span><span class="crayon-o">:</span><span class="crayon-v">root</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-e">swapfile</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-29"><span class="crayon-i">chmod</span><span class="crayon-h"> </span><span class="crayon-cn">0600</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-e">swapfile</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-30">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-31"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">" /swapfile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; none&nbsp;&nbsp;&nbsp;&nbsp;swap&nbsp;&nbsp;&nbsp;&nbsp;sw&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 "</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-e">fstab</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-32">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-33"><span class="crayon-v">swapon</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-e">swapfile</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-34">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-36">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-37"><span class="crayon-i">MACEOL</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-38">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-39"><span class="crayon-p">#!/bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-40"><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-i">u</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-41"><span class="crayon-e">export </span><span class="crayon-v">DEBIAN_FRONTEND</span><span class="crayon-o">=</span><span class="crayon-e">noninteractive</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-42"><span class="crayon-e">shopt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-e">xpg_echo</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-43"><span class="crayon-e">unset</span><span class="crayon-h"> </span><span class="crayon-e">PATH</span><span class="crayon-h"> </span><span class="crayon-e">JAVA_HOME</span><span class="crayon-h"> </span><span class="crayon-e">LD_LIBRARY_PATH</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-44"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">abort</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-45"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"aborting: $@"</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-46"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">exit</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-47"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-48"><span class="crayon-e">export </span><span class="crayon-v">PATH</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">ucb</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">sbin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-e">sbin</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-49"><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">motd</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&lt;</span><span class="crayon-v">EOL</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-50">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-51"><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-52"><span class="crayon-st">To</span><span class="crayon-h"> </span><span class="crayon-e">debug </span><span class="crayon-e">Manageacloud</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-54"><span class="crayon-e">Bootstrap </span><span class="crayon-v">script</span><span class="crayon-o">:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">bash</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-v">manageacloud</span><span class="crayon-sy">.</span><span class="crayon-e">sh</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-57">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-58"><span class="crayon-e">Environment </span><span class="crayon-v">variables</span><span class="crayon-o">:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">env</span><span class="crayon-sy">.</span><span class="crayon-e">log</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-60">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-61"><span class="crayon-e">Git </span><span class="crayon-e">repository</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">applicable</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-63">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-64"><span class="crayon-e">Any </span><span class="crayon-e">questions </span><span class="crayon-v">support</span><span class="crayon-sy">@</span><span class="crayon-v">manageacloud</span><span class="crayon-sy">.</span><span class="crayon-v">com</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-65"><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">===</span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-66"><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-67"><span class="crayon-e">EOL</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-68">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-69">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-70"><span class="crayon-v">env</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">env</span><span class="crayon-sy">.</span><span class="crayon-e">log</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-71"><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">''</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-72"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">u</span><span class="crayon-sy">`</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">'sudo -E '</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-74"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-75"><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">'Host * </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-76"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StrictHostKeyChecking no'</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">ssh</span><span class="crayon-o">/</span><span class="crayon-e">config</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-77"><span class="crayon-v">rm</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">rf</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-78"><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-79"><span class="crayon-r">CLONE</span><span class="crayon-o">=</span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-80"><span class="crayon-v">BRANCH</span><span class="crayon-o">=</span><span class="crayon-s">""</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-81"><span class="crayon-v">PRIV_KEY</span><span class="crayon-o">=</span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-82"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$PRIV_KEY"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-83"><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-84"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">u</span><span class="crayon-sy">`</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">'sudo -E '</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-86"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-87">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-88"><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-s">"0"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-89"><span class="crayon-e">until </span><span class="crayon-e">which </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-90"><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">update</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-e">install </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">cat</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-95"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">[</span><span class="crayon-sy">$</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-96"><span class="crayon-e">done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-97"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-98"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">'#!/bin/sh</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-99"><span class="crayon-s">&nbsp;&nbsp; if [ -z "$PKEY" ]; then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-100"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ssh "$@"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-101"><span class="crayon-s">&nbsp;&nbsp; else</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-102"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ssh -i "$PKEY" "$@"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-103"><span class="crayon-s">&nbsp;&nbsp; fi'</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">git_patch</span><span class="crayon-sy">.</span><span class="crayon-e">sh</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-104"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-v">chmod</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-i">x</span><span class="crayon-h"> </span><span class="crayon-v">git_patch</span><span class="crayon-sy">.</span><span class="crayon-e">sh</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-105"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">"$PRIV_KEY"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">ssh</span><span class="crayon-o">/</span><span class="crayon-e">mac_private</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-106"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-i">chmod</span><span class="crayon-h"> </span><span class="crayon-cn">600</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">ssh</span><span class="crayon-o">/</span><span class="crayon-e">mac_private</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-107"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$BRANCH"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">x</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">GIT_SSH</span><span class="crayon-o">=</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">git_patch</span><span class="crayon-sy">.</span><span class="crayon-e">sh </span><span class="crayon-v">PKEY</span><span class="crayon-o">=</span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">ssh</span><span class="crayon-o">/</span><span class="crayon-e">mac_private </span><span class="crayon-e">git </span><span class="crayon-r">clone</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">CLONE</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">git </span><span class="crayon-i">checkout</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">BRANCH</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-110"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-i">x</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-111"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-112"><span class="crayon-st">else</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-113"><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-114"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">u</span><span class="crayon-sy">`</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">PREFIX</span><span class="crayon-o">=</span><span class="crayon-s">'sudo -E '</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-116"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-117">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-118"><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-s">"0"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-119"><span class="crayon-e">until </span><span class="crayon-e">which </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-120"><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$apt_timeout"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-123"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-124"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-v">update</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-v">get</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">q</span><span class="crayon-h"> </span><span class="crayon-e">install </span><span class="crayon-v">git</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">cat</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-125"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">[</span><span class="crayon-sy">$</span><span class="crayon-v">apt_timeout</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-126"><span class="crayon-e">done</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-127"><span class="crayon-e">&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$BRANCH"</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-128"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">x</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">git </span><span class="crayon-r">clone</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-r">CLONE</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">cat</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">git </span><span class="crayon-i">checkout</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">BRANCH</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-130"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">set</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-i">x</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-131"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-132"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-133"><span class="crayon-v">cp</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">manageacloud</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-134"><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">manageacloud</span><span class="crayon-o">/</span><span class="crayon-v">vcs</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">PREFIX </span><span class="crayon-i">bash</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">manageacloud</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">cat</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-135"><span class="crayon-e">test</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">PIPESTATUS</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">eq</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-6320cd18f3124506692530-136"><span class="crayon-i">exit</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-sy">?</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0041 seconds] -->
</p>
<div></div>
</div>
<div></div>
<p><wiz_tmp_tag id="wiz-table-range-border" contenteditable="false" style="display: none;"></p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p></wiz_tmp_tag></p>
                        </div>
                                                <div class="footer clearfix">
                            <div class="tags float-left">
                                <span>标签：</span>
                                <a href="https://luojimen.github.io/tag/linux/" rel="tag">linux</a> <a href="https://luojimen.github.io/tag/ubuntu/" rel="tag">ubuntu</a>                            </div>
                            <div class="tool float-right d-none d-lg-block">
                                <span>最后更新：2018年2月3日</span>
                            </div>
                        </div>
                    </div>
                                <div class="toolbar clearfix">
	<div class="meta float-md-left">
		<img src="https://sdn.geekzu.org/avatar/8dc48ab2afc8d5058df4be411bc61a15?s=96&r=g">
		<p class="name">SSJ</p>
		<p class="motto mb-0">不积跬步无以至千里</p>
	</div>
	<div class="share float-md-right text-center">
				<a href="javascript:;" id="thumbs" data-action="love" data-id="1740" role="button" class="btn btn-thumbs "><i class="kicon i-like"></i><span class="ml-1">点赞</span></a>
	</div>
</div>
                <nav class="navigation post-navigation clearfix" role="navigation">
                    <div class="nav-previous clearfix"><a title="Transmission 自动删除脚本 RSS永不爆盘" href="https://luojimen.github.io/2018/01/transmission-%e8%87%aa%e5%8a%a8%e5%88%a0%e9%99%a4%e8%84%9a%e6%9c%ac-rss%e6%b0%b8%e4%b8%8d%e7%88%86%e7%9b%98/">< 上一篇</a></div><div class="nav-next"><a title="部署webdav(apache2)来访问google-drive" href="https://luojimen.github.io/2018/03/%e9%83%a8%e7%bd%b2webdavapache2%e6%9d%a5%e8%ae%bf%e9%97%aegoogle-drive/">下一篇 ></a></div>                </nav>
                            </div>
                    </div>
    </div>
</div>
<div class="k-footer">
    <div class="f-toolbox">
        <div class="gotop ">
            <div class="gotop-btn">
                <span class="kicon i-up"></span>
            </div>
        </div>
                <div class="search">
            <span class="kicon i-find"></span>
            <form class="search-form" role="search" method="get" action="https://luojimen.github.io/">
                <input type="text" name="s" id="search-footer" placeholder="搜点什么呢?" style="display:none" />
            </form>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <p class="social">
                                    </p>
                <p>COPYRIGHT © 2022 luoji.men. ALL RIGHTS RESERVED.</p><p>Theme <a href="https://github.com/seatonjiang/kratos" target="_blank" rel="nofollow">Kratos</a> Made By <a href="https://seatonjiang.com" target="_blank" rel="nofollow">Seaton Jiang</a></p><script></script>            </div>
        </div>
    </div>
</div>
<script type='text/javascript' id='urvanov_syntax_highlighter_js-js-extra'>
/* <![CDATA[ */
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.27","is_admin":"0","ajaxurl":"https:\/\/luojimen.github.io\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"Copied to the clipboard","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
/* ]]> */
</script>
<script type='text/javascript' src='https://luojimen.github.io/wp-content/plugins/urvanov-syntax-highlighter/js/min/urvanov_syntax_highlighter.min.js?ver=2.8.27' id='urvanov_syntax_highlighter_js-js'></script>
<script type='text/javascript' id='image-sizes-js-extra'>
/* <![CDATA[ */
var IMAGE_SIZES = {"version":"3.5","disables":["thumbnail","medium","medium_large","large","1536x1536","2048x2048","kratos-thumbnail"]};
/* ]]> */
</script>
<script type='text/javascript' src='https://luojimen.github.io/wp-content/plugins/image-sizes/assets/js/front.min.js?ver=3.5' id='image-sizes-js'></script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/bootstrap.bundle.min.js?ver=4.5.0' id='bootstrap-bundle-js'></script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/layer.min.js?ver=3.1.1' id='layer-js'></script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/DPlayer.min.js?ver=4.1.2' id='dplayer-js'></script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/lightgallery.min.js?ver=1.4.0' id='lightgallery-js'></script>
<script type='text/javascript' id='kratos-js-extra'>
/* <![CDATA[ */
var kratos = {"site":"https:\/\/luojimen.github.io","directory":"https:\/\/cdn.seatonjiang.com\/kratos\/4.1.2","alipay":"https:\/\/luojimen.github.io\/wp-content\/themes\/kratos-4.1.2\/assets\/img\/200.png","wechat":"https:\/\/luojimen.github.io\/wp-content\/themes\/kratos-4.1.2\/assets\/img\/200.png","repeat":"\u60a8\u5df2\u7ecf\u8d5e\u8fc7\u4e86","thanks":"\u611f\u8c22\u60a8\u7684\u652f\u6301","donate":"\u6253\u8d4f\u4f5c\u8005","scan":"\u626b\u7801\u652f\u4ed8"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/kratos.js?ver=4.1.2' id='kratos-js'></script>
<script type='text/javascript' id='comment-js-extra'>
/* <![CDATA[ */
var ajaxcomment = {"ajax_url":"https:\/\/luojimen.github.io\/wp-admin\/admin-ajax.php","order":"asc","compost":"\u8bc4\u8bba\u6b63\u5728\u63d0\u4ea4\u4e2d","comsucc":"\u8bc4\u8bba\u63d0\u4ea4\u6210\u529f"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/comments.min.js?ver=4.1.2' id='comment-js'></script>
<script type='text/javascript' src='https://zz.bdstatic.com/linksubmit/push.js?ver=6.0.2' id='baidu_zz_push-js'></script>
</body>

</html>
